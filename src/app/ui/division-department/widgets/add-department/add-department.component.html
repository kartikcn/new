<p-panel header="{{title}} Department">
    <ng-template pTemplate="icons">
        <button pButton (click)="saveRecords()" label="Save" [disabled]="!departmentFormPanel.valid"></button>
        <button pButton class="ml10" label="Cancel" (click)="cancel()"></button>
    </ng-template>
    <form [formGroup]="departmentFormPanel">
        <table width="100%">
            <tr width="100%">
                <td>
                    <div class="input-label-custom">
                        <label class='form-field-lable control-label'>Division Code</label>
                        <ng-select appendTo="body" [clearable]="false" [items]="enumDivisions" formControlName="divId"
                            [searchable]="true" bindLabel="displayDivId" bindValue="divId" placeholder="Make a selection"
                            class="ng-select-dropdown custom-select">
                        </ng-select>
                    </div>
                </td>
            </tr>
            <tr width="100%">
                <td>
                    <div class="input-label-custom">
                        <label class='form-field-lable control-label'>Department Code</label>
                        <input type="text" class="form-control" name="depCode" formControlName="depCode" maxlength="64" appTrimInput>
                    </div>
                </td>
            </tr>
            <!-- <tr
                *ngIf="(departmentFormPanel.controls['depId']?.errors && (departmentFormPanel.controls['depId']?.dirty || departmentFormPanel.controls['depId']?.touched))">
                <td width="100%">
                    <label
                        *ngIf="departmentFormPanel.controls['depId']?.errors && !departmentFormPanel.controls['depId']?.errors.required"
                        class='form-field-lable' style="color:red;">Department code is already exists.</label>
                </td>
            </tr> -->
            <tr width="100%">
                <td>
                    <div class="input-label-custom">
                        <label class='form-field-lable control-label'>Department Head</label>
                        <ng-select appendTo="body" [clearable]="false" [items]="enumEm" formControlName="depHead"
                            [searchable]="true" bindLabel="firstName" bindValue="emId" placeholder="Make a selection"
                            class="ng-select-dropdown" (scrollToEnd)="scrollToEndEm()" (search)="searchEm($event)" (open)="openEm()">
                        </ng-select>
                    </div>
                </td>
            </tr>
            <tr width="100%">
                <td>
                    <div class="input-label-custom ">
                        <label class='form-field-lable'>Description</label>
                        <textarea class="form-control note-border" name="description" formControlName="description" rows="2" nz-input
                            maxlength="256" appTrimInput></textarea>
                    </div>
                </td>
            </tr>
            <tr >
                <td style="width: 100%">
                    <div class="input-label-custom">
                            <label class='form-field-lable control-label'>Highlight Color </label>
                            <input type="color" class="form-control" name="highlightColor" style="width: 100px;padding: 0.375rem;"
                                    formControlName="highlightColor" maxlength="32" >
                    </div>
            </td>
            </tr>
        </table>
    </form>
</p-panel>
<p-toast key="save" position="top-right"></p-toast>