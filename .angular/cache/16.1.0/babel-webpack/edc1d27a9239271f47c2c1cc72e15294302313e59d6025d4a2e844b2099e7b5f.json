{"ast":null,"code":"import { UtilConstant } from 'src/common/UtilConstant';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/ui/Helpdesk/trades/services/trades.services\";\nimport * as i3 from \"src/app/ui/Helpdesk/craftsperson/services/craftsperson.service\";\nimport * as i4 from \"primeng/api\";\nimport * as i5 from \"primeng/table\";\nimport * as i6 from \"primeng/tabview\";\nimport * as i7 from \"@angular/material/legacy-card\";\nimport * as i8 from \"ng-zorro-antd/table\";\nimport * as i9 from \"ng-zorro-antd/input\";\nfunction TradeDetailsComponent_ng_template_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 25)(2, \"div\", 26)(3, \"div\", 27)(4, \"p\", 28);\n    i0.ɵɵtext(5, \"Technician Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 29);\n    i0.ɵɵelement(7, \"p-sortIcon\", 30)(8, \"p-columnFilter\", 31);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"th\", 32)(10, \"div\", 26)(11, \"div\", 27)(12, \"p\", 28);\n    i0.ɵɵtext(13, \"Email\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 29);\n    i0.ɵɵelement(15, \"p-sortIcon\", 33)(16, \"p-columnFilter\", 34);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"th\", 35)(18, \"div\", 26)(19, \"div\", 27)(20, \"p\", 28);\n    i0.ɵɵtext(21, \"Phone\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 29);\n    i0.ɵɵelement(23, \"p-sortIcon\", 36)(24, \"p-columnFilter\", 37);\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction TradeDetailsComponent_ng_template_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 38)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const cf_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"pSelectableRow\", cf_r6);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cf_r6.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cf_r6.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cf_r6.phone);\n  }\n}\nfunction TradeDetailsComponent_ng_template_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" No records found \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", 2);\n  }\n}\nconst _c0 = function () {\n  return [10, 20, 50];\n};\nconst _c1 = function () {\n  return [\"id\"];\n};\nexport class TradeDetailsComponent {\n  constructor(formBuilder, tradeService, cfService) {\n    this.formBuilder = formBuilder;\n    this.tradeService = tradeService;\n    this.cfService = cfService;\n    this.index = 0;\n    this.selectedTab = '';\n    this.cfData = [];\n    this.rowCount = UtilConstant.ROW_COUNT;\n    this.tradeFormPanel = this.formBuilder.group({\n      tradeId: [''],\n      tradeCode: [\"\"],\n      rateHourly: [''],\n      rateDouble: [''],\n      rateOver: [''],\n      stdHoursAvail: [''],\n      description: ['']\n    });\n  }\n  ngOnInit() {\n    this.setTradeFormDetails(this.selectedTrade);\n  }\n  setTradeFormDetails(value) {\n    setTimeout(() => {\n      this.tradeFormPanel.patchValue({\n        tradeId: value.tradeId,\n        tradeCode: value.tradeCode,\n        rateHourly: value.rateHourly,\n        rateDouble: value.rateDouble,\n        rateOver: value.rateOver,\n        stdHoursAvail: value.stdHoursAvail,\n        description: value.description,\n        compId: value.compId\n      });\n    });\n  }\n  handleChange(event) {\n    if (event != null) {\n      this.index = event.index;\n      this.selectedTab = event.originalEvent.target.innerText;\n    }\n    switch (this.selectedTab) {\n      case \"Trade Details\":\n        break;\n      case \"Technicians\":\n        this.getAllByTradeId(this.selectedTrade.tradeId);\n        break;\n    }\n  }\n  getAllByTradeId(tradeId) {\n    this.cfData = [];\n    this.cfService.getAllCraftspersonByTradeId(tradeId).subscribe(res => {\n      this.cfData = res;\n    });\n  }\n  static #_ = this.ɵfac = function TradeDetailsComponent_Factory(t) {\n    return new (t || TradeDetailsComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.TradesService), i0.ɵɵdirectiveInject(i3.CraftspersonService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TradeDetailsComponent,\n    selectors: [[\"app-trade-details\"]],\n    inputs: {\n      selectedTrade: \"selectedTrade\"\n    },\n    decls: 49,\n    vars: 12,\n    consts: [[1, \"card\"], [3, \"activeIndex\", \"activeIndexChange\", \"onChange\"], [\"header\", \"Trade Details\"], [\"Trade_Details\", \"\"], [1, \"disabled-form\", 3, \"formGroup\"], [\"id\", \"tradeCard\"], [\"width\", \"100%\"], [2, \"width\", \"25%\"], [1, \"input-label-custom\"], [1, \"form-field-lable\", \"control-label\"], [\"type\", \"text\", \"name\", \"tradeCode\", \"formControlName\", \"tradeCode\", \"uppercase\", \"\", \"maxlength\", \"32\", 1, \"form-control\"], [\"colspan\", \"2\"], [1, \"form-field-lable\"], [\"name\", \"description\", \"formControlName\", \"description\", \"rows\", \"3\", \"nz-input\", \"\", \"maxlength\", \"256\", 1, \"form-control\", \"note-border\"], [\"type\", \"text\", \"NumbersOnly\", \"\", \"name\", \"rateHourly\", \"formControlName\", \"rateHourly\", \"TwoDigitDecimalNumber\", \"\", \"maxlength\", \"8\", 1, \"form-control\"], [\"type\", \"text\", \"NumbersOnly\", \"\", \"name\", \"rateOver\", \"formControlName\", \"rateOver\", \"TwoDigitDecimalNumber\", \"\", \"maxlength\", \"8\", 1, \"form-control\"], [\"type\", \"text\", \"NumbersOnly\", \"\", \"name\", \"rateDouble\", \"formControlName\", \"rateDouble\", \"TwoDigitDecimalNumber\", \"\", \"maxlength\", \"8\", 1, \"form-control\"], [\"type\", \"text\", \"NumbersOnly\", \"\", \"name\", \"stdHoursAvail\", \"formControlName\", \"stdHoursAvail\", \"TwoDigitDecimalNumber\", \"\", \"maxlength\", \"8\", 1, \"form-control\"], [\"header\", \"Technicians\"], [\"Technicians\", \"\"], [\"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", \"styleClass\", \"p-datatable-responsive-demo\", \"styleClass\", \"p-datatable-customers p-datatable-gridlines\", \"selectionMode\", \"single\", \"dataKey\", \"cfId\", \"scrollDirection\", \"both\", \"scrollHeight\", \"500px\", 3, \"value\", \"paginator\", \"rows\", \"showCurrentPageReport\", \"rowsPerPageOptions\", \"globalFilterFields\", \"rowHover\", \"scrollable\"], [\"dt1\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [\"pSortableColumn\", \"name\"], [1, \"grid-header-column\"], [1, \"grid-header-label\"], [1, \"grid-label-paragraph\"], [1, \"grid-sort-icon\"], [\"field\", \"name\"], [\"type\", \"text\", \"field\", \"name\", \"display\", \"menu\"], [\"pSortableColumn\", \"email\"], [\"field\", \"email\"], [\"type\", \"text\", \"field\", \"email\", \"display\", \"menu\"], [\"pSortableColumn\", \"phone\"], [\"field\", \"phone\"], [\"type\", \"text\", \"field\", \"phone\", \"display\", \"menu\"], [3, \"pSelectableRow\"]],\n    template: function TradeDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"p-tabView\", 1);\n        i0.ɵɵlistener(\"activeIndexChange\", function TradeDetailsComponent_Template_p_tabView_activeIndexChange_1_listener($event) {\n          return ctx.index = $event;\n        })(\"onChange\", function TradeDetailsComponent_Template_p_tabView_onChange_1_listener($event) {\n          return ctx.handleChange($event);\n        });\n        i0.ɵɵelementStart(2, \"p-tabPanel\", 2, 3)(4, \"form\", 4)(5, \"mat-card\")(6, \"mat-card-content\", 5)(7, \"table\", 6)(8, \"tr\")(9, \"td\", 7)(10, \"div\", 8)(11, \"label\", 9);\n        i0.ɵɵtext(12, \"Trade Code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 10);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"tr\")(15, \"td\", 11)(16, \"div\", 8)(17, \"label\", 12);\n        i0.ɵɵtext(18, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(19, \"textarea\", 13);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(20, \"tr\")(21, \"td\", 7)(22, \"div\", 8)(23, \"label\", 9);\n        i0.ɵɵtext(24, \"Hourly Rate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"td\", 7)(27, \"div\", 8)(28, \"label\", 9);\n        i0.ɵɵtext(29, \"Overtime Rate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(30, \"input\", 15);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"tr\")(32, \"td\", 7)(33, \"div\", 8)(34, \"label\", 9);\n        i0.ɵɵtext(35, \"Doubletime Rate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"input\", 16);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"td\", 7)(38, \"div\", 8)(39, \"label\", 9);\n        i0.ɵɵtext(40, \"Standard Available Time (Hours/Day)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"input\", 17);\n        i0.ɵɵelementEnd()()()()()()()();\n        i0.ɵɵelementStart(42, \"p-tabPanel\", 18, 19)(44, \"p-table\", 20, 21);\n        i0.ɵɵtemplate(46, TradeDetailsComponent_ng_template_46_Template, 25, 0, \"ng-template\", 22);\n        i0.ɵɵtemplate(47, TradeDetailsComponent_ng_template_47_Template, 7, 4, \"ng-template\", 23);\n        i0.ɵɵtemplate(48, TradeDetailsComponent_ng_template_48_Template, 3, 1, \"ng-template\", 24);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"activeIndex\", ctx.index);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.tradeFormPanel);\n        i0.ɵɵadvance(40);\n        i0.ɵɵproperty(\"value\", ctx.cfData)(\"paginator\", true)(\"rows\", 5)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(10, _c0))(\"globalFilterFields\", i0.ɵɵpureFunction0(11, _c1))(\"rowHover\", true)(\"scrollable\", true);\n      }\n    },\n    dependencies: [i4.PrimeTemplate, i5.Table, i5.SortableColumn, i5.SelectableRow, i5.SortIcon, i5.ColumnFilter, i6.TabView, i6.TabPanel, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i1.FormGroupDirective, i1.FormControlName, i7.MatLegacyCard, i7.MatLegacyCardContent, i8.NzTableCellDirective, i8.NzThMeasureDirective, i8.NzTrDirective, i9.NzInputDirective],\n    styles: [\".disabled-form[_ngcontent-%COMP%] {\\n  opacity: 0.8;\\n  \\n\\n  pointer-events: none;\\n}\\n\\n[_nghost-%COMP%]     .p-tabview .p-tabview-nav li .p-tabview-nav-link {\\n  border-color: #879cc9;\\n  background: #879cc9;\\n  color: #ffffff;\\n  margin-right: 2px;\\n  line-height: 2.35;\\n  min-width: 80px;\\n  border-radius: 6px 6px 0 0;\\n  border-radius: 6px 6px 0 0;\\n  border-bottom: 3px solid #879cc9 !important;\\n  box-shadow: none !important;\\n}\\n\\n[_nghost-%COMP%]     .p-tabview .p-tabview-nav li.p-highlight .p-tabview-nav-link {\\n  background: #ffffff;\\n  border-color: #879cc9;\\n  color: #000000;\\n  margin-right: 2px;\\n  line-height: 2.35;\\n  min-width: 80px;\\n  border-radius: 6px 6px 0 0;\\n  border-bottom: 3px solid #879cc9 !important;\\n  box-shadow: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvY29tbW9uLWNvbXBvbmVudHMvdHJhZGUtZGV0YWlscy9tb2RhbC90cmFkZS1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vLi4vLi4vLi4vTWFuYXYlMjBHdXB0YS9Eb3dubG9hZHMvZm1zL2Ztcy9mcm9udGVuZC9mbXNfZnJvbnRlbmQvc3JjL2FwcC91aS9jb21tb24tY29tcG9uZW50cy90cmFkZS1kZXRhaWxzL21vZGFsL3RyYWRlLWRldGFpbHMuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvc2Nzcy9fdmFyaWFibGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxZQUFBO0VBQ0EsbURBQUE7RUFDQSxvQkFBQTtBQ0RGOztBRElBO0VBQ0UscUJFSVc7RUZIWCxtQkVHVztFRkZYLGNFUWE7RUZQYixpQkFBQTtFQUNBLGlCRUVVO0VGRFYsZUVFUztFRkRULDBCRUVnQjtFRkRoQiwwQkVDZ0I7RUZBaEIsMkNFQ2dCO0VGQWhCLDJCQUFBO0FDREY7O0FESUE7RUFDRSxtQkVSaUI7RUZTakIscUJFVlc7RUZXWCxjRUhtQjtFRkluQixpQkFBQTtFQUNBLGlCRVhVO0VGWVYsZUVYUztFRllULDBCRVhnQjtFRlloQiwyQ0VYZ0I7RUZZaEIsMkJBQUE7QUNERiIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy9zcmMvc2Nzcy92YXJpYWJsZXMnO1xuXG4uZGlzYWJsZWQtZm9ybSB7XG4gIG9wYWNpdHk6IDAuODtcbiAgLyogWW91IGNhbiBjdXN0b21pemUgdGhlIGRpc2FibGVkIGZvcm0gc3R5bGUgaGVyZSAqL1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5wLXRhYnZpZXcgLnAtdGFidmlldy1uYXYgbGkgLnAtdGFidmlldy1uYXYtbGluayB7XG4gIGJvcmRlci1jb2xvcjogJHRhYkJnQ29sb3I7XG4gIGJhY2tncm91bmQ6ICR0YWJCZ0NvbG9yO1xuICBjb2xvcjogJHRhYkZvbnRDb2xvcjtcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XG4gIGxpbmUtaGVpZ2h0OiAkdGFiSGVpZ2h0O1xuICBtaW4td2lkdGg6ICR0YWJXaWR0aDtcbiAgYm9yZGVyLXJhZGl1czogJHRhYkJvcmRlclJhZGl1cztcbiAgYm9yZGVyLXJhZGl1czogJHRhYkJvcmRlclJhZGl1cztcbiAgYm9yZGVyLWJvdHRvbTogJHRhYkJvcmRlckJvdHRvbTtcbiAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnAtdGFidmlldyAucC10YWJ2aWV3LW5hdiBsaS5wLWhpZ2hsaWdodCAucC10YWJ2aWV3LW5hdi1saW5rIHtcbiAgYmFja2dyb3VuZDogJHRhYkFjdGl2ZUJnQ29sb3I7XG4gIGJvcmRlci1jb2xvcjogJHRhYkJnQ29sb3I7XG4gIGNvbG9yOiAkQWN0aXZlVGFiRm9udENvbG9yO1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgbGluZS1oZWlnaHQ6ICR0YWJIZWlnaHQ7XG4gIG1pbi13aWR0aDogJHRhYldpZHRoO1xuICBib3JkZXItcmFkaXVzOiAkdGFiQm9yZGVyUmFkaXVzO1xuICBib3JkZXItYm90dG9tOiAkdGFiQm9yZGVyQm90dG9tO1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG59IiwiLmRpc2FibGVkLWZvcm0ge1xuICBvcGFjaXR5OiAwLjg7XG4gIC8qIFlvdSBjYW4gY3VzdG9taXplIHRoZSBkaXNhYmxlZCBmb3JtIHN0eWxlIGhlcmUgKi9cbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucC10YWJ2aWV3IC5wLXRhYnZpZXctbmF2IGxpIC5wLXRhYnZpZXctbmF2LWxpbmsge1xuICBib3JkZXItY29sb3I6ICM4NzljYzk7XG4gIGJhY2tncm91bmQ6ICM4NzljYzk7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgbGluZS1oZWlnaHQ6IDIuMzU7XG4gIG1pbi13aWR0aDogODBweDtcbiAgYm9yZGVyLXJhZGl1czogNnB4IDZweCAwIDA7XG4gIGJvcmRlci1yYWRpdXM6IDZweCA2cHggMCAwO1xuICBib3JkZXItYm90dG9tOiAzcHggc29saWQgIzg3OWNjOSAhaW1wb3J0YW50O1xuICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucC10YWJ2aWV3IC5wLXRhYnZpZXctbmF2IGxpLnAtaGlnaGxpZ2h0IC5wLXRhYnZpZXctbmF2LWxpbmsge1xuICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICBib3JkZXItY29sb3I6ICM4NzljYzk7XG4gIGNvbG9yOiAjMDAwMDAwO1xuICBtYXJnaW4tcmlnaHQ6IDJweDtcbiAgbGluZS1oZWlnaHQ6IDIuMzU7XG4gIG1pbi13aWR0aDogODBweDtcbiAgYm9yZGVyLXJhZGl1czogNnB4IDZweCAwIDA7XG4gIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAjODc5Y2M5ICFpbXBvcnRhbnQ7XG4gIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbn0iLCIvLyBUeXBvZ3JhcGh5IHZhcmlhYmxlc1xuJGZvbnQtZmFtaWx5OiAnUm9ib3RvJywgc2Fucy1zZXJpZjtcbiR1cmw6ICdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVJvYm90byZkaXNwbGF5PXN3YXAnO1xuXG5cbi8vIFRoZW1pbmcgdmFyaWFibGVcbiRwcmltYXJ5LWNvbG9yOiAjMGI5ZTZkO1xuJHdoaXRlOiAjZmZmZmZmO1xuJG1haW4tYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcbiR0ZXh0LXNpemU6MTJweDtcbiR0b29sYmFyOiM4NzljYzk7XG4kc2lkZS1uYXY6IzM0M2E0MDtcbiRtYW5kYXRvcnlGaWVsZDojZTAxNTE1O1xuJHRhYkJnQ29sb3I6ICM4NzljYzk7XG4kdGFiQWN0aXZlQmdDb2xvcjogI2ZmZmZmZjtcbiR0YWJIZWlnaHQ6IDIuMzU7XG4kdGFiV2lkdGg6IDgwcHg7XG4kdGFiQm9yZGVyUmFkaXVzOiA2cHggNnB4IDAgMDtcbiR0YWJCb3JkZXJCb3R0b206IDNweCBzb2xpZCAjODc5Y2M5ICFpbXBvcnRhbnQ7XG4kdGFiRm9udENvbG9yOiAjZmZmZmZmO1xuJHRhYlBhbmVCYWNrZ3JvdW5kQ29sb3I6ICNGMEYyRjU7XG4kQWN0aXZlVGFiRm9udENvbG9yOiAjMDAwMDAwO1xuXG4kdGFibGV0UG90cmFpdE1pbldpZHRoOjYwMHB4IDtcbiR0YWJsZXRQb3RyYWl0TWF4V2lkdGg6IDk1OXB4O1xuJHRhYmxldExhbmRzY2FwZU1pbldpZHRoOiA5NjBweDtcbiR0YWJsZXRMYW5kc3BhY2VNYXhXaWR0aDogMTQzOXB4O1xuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["UtilConstant","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵproperty","cf_r6","ɵɵadvance","ɵɵtextInterpolate","name","email","phone","ɵɵattribute","TradeDetailsComponent","constructor","formBuilder","tradeService","cfService","index","selectedTab","cfData","rowCount","ROW_COUNT","tradeFormPanel","group","tradeId","tradeCode","rateHourly","rateDouble","rateOver","stdHoursAvail","description","ngOnInit","setTradeFormDetails","selectedTrade","value","setTimeout","patchValue","compId","handleChange","event","originalEvent","target","innerText","getAllByTradeId","getAllCraftspersonByTradeId","subscribe","res","_","ɵɵdirectiveInject","i1","FormBuilder","i2","TradesService","i3","CraftspersonService","_2","selectors","inputs","decls","vars","consts","template","TradeDetailsComponent_Template","rf","ctx","ɵɵlistener","TradeDetailsComponent_Template_p_tabView_activeIndexChange_1_listener","$event","TradeDetailsComponent_Template_p_tabView_onChange_1_listener","ɵɵtemplate","TradeDetailsComponent_ng_template_46_Template","TradeDetailsComponent_ng_template_47_Template","TradeDetailsComponent_ng_template_48_Template","ɵɵpureFunction0","_c0","_c1"],"sources":["C:\\Users\\Manav Gupta\\Downloads\\fms\\fms\\frontend\\fms_frontend\\src\\app\\ui\\common-components\\trade-details\\modal\\trade-details.component.ts","C:\\Users\\Manav Gupta\\Downloads\\fms\\fms\\frontend\\fms_frontend\\src\\app\\ui\\common-components\\trade-details\\modal\\trade-details.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { CraftspersonService } from 'src/app/ui/Helpdesk/craftsperson/services/craftsperson.service';\nimport { TradesService } from 'src/app/ui/Helpdesk/trades/services/trades.services';\nimport { UtilConstant } from 'src/common/UtilConstant';\n\n@Component({\n  selector: 'app-trade-details',\n  templateUrl: './trade-details.component.html',\n  styleUrls: ['./trade-details.component.scss']\n})\nexport class TradeDetailsComponent {\n  tradeFormPanel!: FormGroup;\n  index: number = 0;\n  selectedTab: String = '';\n  cfData: any[] = [];\n  rowCount: number = UtilConstant.ROW_COUNT;\n  @Input() selectedTrade: any;\n  constructor(\n    private formBuilder: FormBuilder,\n    private tradeService: TradesService,\n    private cfService: CraftspersonService,\n  ) {\n    this.tradeFormPanel = this.formBuilder.group({\n      tradeId: ['',],\n      tradeCode:[\"\"],\n      rateHourly: ['',],\n      rateDouble: ['',],\n      rateOver: ['',],\n      stdHoursAvail: ['',],\n      description: [''],\n    });\n  }\n\n\n  ngOnInit(): void {\n    this.setTradeFormDetails(this.selectedTrade);\n  }\n\n  setTradeFormDetails(value: any) {\n    setTimeout(() => {\n      this.tradeFormPanel.patchValue({\n        tradeId: value.tradeId,\n        tradeCode:value.tradeCode,\n        rateHourly: value.rateHourly,\n        rateDouble: value.rateDouble,\n        rateOver: value.rateOver,\n        stdHoursAvail: value.stdHoursAvail,\n        description: value.description,\n        compId: value.compId,\n      });\n    });\n  }\n\n  handleChange(event: any) {\n    if (event != null) {\n      this.index = event.index;\n      this.selectedTab = event.originalEvent.target.innerText;\n    }\n    switch (this.selectedTab) {\n      case \"Trade Details\":\n        break;\n      case \"Technicians\":\n        this.getAllByTradeId(this.selectedTrade.tradeId);\n        break;\n    }\n  }\n\n  getAllByTradeId(tradeId: any) {\n    this.cfData = [];\n    this.cfService.getAllCraftspersonByTradeId(tradeId).subscribe((res: any) => {\n      this.cfData = res;\n    })\n  }\n\n}\n","<div class=\"card\">\n    <p-tabView [(activeIndex)]=\"index\" (onChange)=\"handleChange($event)\">\n        <p-tabPanel header=\"Trade Details\" #Trade_Details>\n            <form [formGroup]=\"tradeFormPanel\" class=\"disabled-form\">\n                <mat-card>\n                    <mat-card-content id=\"tradeCard\">\n                        <table width=\"100%\">\n                            <tr>\n                                <td style=\"width: 25%\">\n                                    <div class=\"input-label-custom \">\n                                        <label class='form-field-lable control-label'>Trade Code</label>\n                                        <input type=\"text\" class=\"form-control\" name=\"tradeCode\" formControlName=\"tradeCode\"\n                                            uppercase maxlength=\"32\">\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td colspan=\"2\">\n                                    <div class=\"input-label-custom \">\n                                        <label class='form-field-lable'>Description</label>\n                                        <textarea class=\"form-control note-border\" name=\"description\"\n                                            formControlName=\"description\" rows=\"3\" nz-input maxlength=\"256\"></textarea>\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style=\"width: 25%\">\n                                    <div class=\"input-label-custom \">\n                                        <label class='form-field-lable control-label'>Hourly Rate</label>\n                                        <input type=\"text\" NumbersOnly class=\"form-control\" name=\"rateHourly\"\n                                            formControlName=\"rateHourly\" TwoDigitDecimalNumber maxlength=\"8\">\n                                    </div>\n                                </td>\n                                <td style=\"width: 25%\">\n                                    <div class=\"input-label-custom \">\n                                        <label class='form-field-lable control-label'>Overtime Rate</label>\n                                        <input type=\"text\" NumbersOnly class=\"form-control\" name=\"rateOver\"\n                                            formControlName=\"rateOver\" TwoDigitDecimalNumber maxlength=\"8\">\n                                    </div>\n                                </td>\n                            </tr>\n                            <tr>\n                                <td style=\"width: 25%\">\n                                    <div class=\"input-label-custom \">\n                                        <label class='form-field-lable control-label'>Doubletime Rate</label>\n                                        <input type=\"text\" NumbersOnly class=\"form-control\" name=\"rateDouble\"\n                                            formControlName=\"rateDouble\" TwoDigitDecimalNumber maxlength=\"8\">\n                                    </div>\n                                </td>\n                                <td style=\"width: 25%\">\n                                    <div class=\"input-label-custom \">\n                                        <label class='form-field-lable control-label'>Standard Available Time\n                                            (Hours/Day)</label>\n                                        <input type=\"text\" NumbersOnly class=\"form-control\" name=\"stdHoursAvail\"\n                                            formControlName=\"stdHoursAvail\" TwoDigitDecimalNumber maxlength=\"8\">\n                                    </div>\n                                </td>\n                            </tr>\n                        </table>\n                    </mat-card-content>\n                </mat-card>\n            </form>\n        </p-tabPanel>\n        <p-tabPanel header=\"Technicians\" #Technicians>\n            <p-table #dt1 [value]=\"cfData\" [paginator]=\"true\" [rows]=\"5\" [showCurrentPageReport]=\"true\"\n                currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\n                [rowsPerPageOptions]=\"[10,20,50]\" [globalFilterFields]=\"['id']\" styleClass=\"p-datatable-responsive-demo\"\n                styleClass=\"p-datatable-customers p-datatable-gridlines\" [rowHover]=\"true\" [scrollable]=\"true\"\n                selectionMode=\"single\" dataKey=\"cfId\" scrollDirection=\"both\" scrollHeight=\"500px\">\n                <ng-template pTemplate=\"header\">\n                    <tr>\n                        <th pSortableColumn=\"name\">\n                            <div class=\"grid-header-column\">\n                                <div class=\"grid-header-label\">\n                                    <p class=\"grid-label-paragraph\">Technician Name</p>\n                                </div>\n                                <div class=\"grid-sort-icon\">\n                                    <p-sortIcon field=\"name\"></p-sortIcon>\n                                    <p-columnFilter type=\"text\" field=\"name\" display=\"menu\"></p-columnFilter>\n                                </div>\n                            </div>\n                        </th>\n                        <th pSortableColumn=\"email\">\n                            <div class=\"grid-header-column\">\n                                <div class=\"grid-header-label\">\n                                    <p class=\"grid-label-paragraph\">Email</p>\n                                </div>\n                                <div class=\"grid-sort-icon\">\n                                    <p-sortIcon field=\"email\"></p-sortIcon>\n                                    <p-columnFilter type=\"text\" field=\"email\" display=\"menu\"></p-columnFilter>\n                                </div>\n                            </div>\n                        </th>\n                        <th pSortableColumn=\"phone\">\n                            <div class=\"grid-header-column\">\n                                <div class=\"grid-header-label\">\n                                    <p class=\"grid-label-paragraph\">Phone</p>\n                                </div>\n                                <div class=\"grid-sort-icon\">\n                                    <p-sortIcon field=\"phone\"></p-sortIcon>\n                                    <p-columnFilter type=\"text\" field=\"phone\" display=\"menu\"></p-columnFilter>\n                                </div>\n                            </div>\n                        </th>\n                    </tr>\n                </ng-template>\n                <ng-template pTemplate=\"body\" let-cf>\n                    <tr [pSelectableRow]=\"cf\">\n                        <td>{{cf.name}}</td>\n                        <td>{{cf.email}}</td>\n                        <td>{{cf.phone}}</td>\n                    </tr>\n                </ng-template>\n                <ng-template pTemplate=\"emptymessage\" let-columns>\n                    <tr>\n                        <td [attr.colspan]=\"2\">\n                            No records found\n                        </td>\n                    </tr>\n                </ng-template>\n            </p-table>\n        </p-tabPanel>\n    </p-tabView>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}