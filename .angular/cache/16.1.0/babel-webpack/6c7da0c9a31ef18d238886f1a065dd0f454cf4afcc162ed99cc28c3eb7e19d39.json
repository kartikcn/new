{"ast":null,"code":"import { forkJoin, of } from 'rxjs';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { RmTypeFilterInputDTO } from '../../model/DTO/rmTypeFilterInput.model';\nimport { UtilConstant } from '../../../../../common/UtilConstant';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"../../../../services/rmcat.service\";\nimport * as i4 from \"primeng/api\";\nimport * as i5 from \"ngx-toastr\";\nimport * as i6 from \"../add-rmtype-form/add-rmtype-form.component\";\nimport * as i7 from \"@angular/material/legacy-card\";\nimport * as i8 from \"primeng/button\";\nimport * as i9 from \"primeng/confirmdialog\";\nconst _c0 = function () {\n  return {\n    \"margin-left\": \".5em\"\n  };\n};\nexport class AddEditRmtypeComponent {\n  constructor(data, formBuilder, dialog, dialogRef, service, confirmationService, toastr) {\n    this.data = data;\n    this.formBuilder = formBuilder;\n    this.dialog = dialog;\n    this.dialogRef = dialogRef;\n    this.service = service;\n    this.confirmationService = confirmationService;\n    this.toastr = toastr;\n    this.subscriptions = [];\n    this.isNew = true;\n    this.isEdit = true;\n    this.title = 'Add';\n    this.frmRmTypeDetail = this.formBuilder.group({\n      rmtypeFormPanel: []\n    });\n  }\n  ngOnInit() {\n    this.isEdit = true;\n    this.isNew = true;\n    if (this.data != null) {\n      this.loadData();\n      this.disableButton();\n      this.isNewRecord();\n    }\n  }\n  disableButton() {\n    if (this.data.isEdit != null && !this.data.isEdit) {\n      this.isEdit = false;\n    }\n  }\n  isNewRecord() {\n    if (this.data.newRecord != null) {\n      this.isNew = this.data.newRecord;\n      if (!this.isNew) this.title = 'Edit';\n    }\n  }\n  loadData() {\n    const calls = [];\n    if (this.data.rmtype != null && this.data.rmcat != null) {\n      calls.push(this.service.getRmTypeById(this.data.rmcat, this.data.rmtype));\n    } else {\n      calls.push(of(null));\n    }\n    forkJoin(...calls).subscribe(results => {\n      if (results[0] == null) {\n        let data = {\n          rmCat: '',\n          rmType: '',\n          rmTypeDesc: '',\n          highlightColor: '#a6a6a6'\n        };\n        setTimeout(() => {\n          this.frmRmTypeDetail.patchValue({\n            rmtypeFormPanel: data\n          });\n        }, 0);\n      } else {\n        setTimeout(() => {\n          this.frmRmTypeDetail.patchValue({\n            rmtypeFormPanel: results[0]\n          });\n        }, 0);\n      }\n    });\n  }\n  saveRecords() {\n    if (this.frmRmTypeDetail.valid) {\n      const data = this.frmRmTypeDetail.controls.rmtypeFormPanel.value;\n      this.service.saveRmType(data).subscribe(res => {\n        if (res.status != 202) {\n          this.toastr.success(\"Record saved Successfully.\");\n          this.dialogRef.close(\"saved\");\n        }\n      }, error => {});\n    }\n  }\n  confirmDialog() {\n    this.confirmationService.confirm({\n      message: UtilConstant.CANCEL_Msg,\n      header: 'Confirmation',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {\n        this.dialogRef.close(true);\n      },\n      key: 'rmtypeForm'\n    });\n  }\n  deleteRecord() {\n    this.userDeleteConfirm();\n  }\n  deleteRmTypeRecord() {\n    let data = new RmTypeFilterInputDTO(this.data.rmtype, \"\", this.frmRmTypeDetail.controls.rmtypeFormPanel.value.rmCat);\n    this.service.deleteRoomType(data).subscribe(res => {\n      if (res != null) {\n        //  this.messageService.add({ key: 'siteDetailsMessage', severity: 'success', summary: 'Record deleted successfully', detail: 'Record deleted successfully' });\n        this.dialogRef.close('deleted');\n      }\n    });\n  }\n  userDeleteConfirm() {\n    this.confirmationService.confirm({\n      message: 'Are you sure that you want to delete ' + this.data.rmtype + '?',\n      header: 'Delete Confirmation',\n      icon: 'pi pi-info-circle',\n      accept: () => {\n        this.deleteRmTypeRecord();\n      },\n      key: 'rmtypeForm'\n    });\n  }\n  static #_ = this.ɵfac = function AddEditRmtypeComponent_Factory(t) {\n    return new (t || AddEditRmtypeComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.UntypedFormBuilder), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i2.MatDialogRef), i0.ɵɵdirectiveInject(i3.RmcatService), i0.ɵɵdirectiveInject(i4.ConfirmationService), i0.ɵɵdirectiveInject(i5.ToastrService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddEditRmtypeComponent,\n    selectors: [[\"app-add-edit-rmtype\"]],\n    decls: 12,\n    vars: 9,\n    consts: [[\"mat-dialog-title\", \"\", 1, \"mat-dialog-title-ext\"], [1, \"mat-typography\", \"mat-dialog-content-ext\"], [3, \"formGroup\"], [\"id\", \"typeFrm\"], [\"formControlName\", \"rmtypeFormPanel\", 3, \"isNew\"], [\"align\", \"end\", 1, \"mat-dialog-actions-ext\"], [\"label\", \"Delete\", \"icon\", \"pi pi-trash\", 1, \"mr5\", 3, \"hidden\", \"disabled\", \"click\"], [\"label\", \"Save\", \"icon\", \"pi pi-check\", 3, \"disabled\", \"click\"], [\"label\", \"Cancel\", \"icon\", \"pi pi-times\", \"styleClass\", \"p-button-secondary\", 3, \"click\"], [\"key\", \"rmtypeForm\", \"header\", \"Confirmation\", \"icon\", \"pi pi-exclamation-triangle\"]],\n    template: function AddEditRmtypeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"mat-dialog-content\", 1)(3, \"form\", 2)(4, \"mat-card\")(5, \"mat-card-content\", 3);\n        i0.ɵɵelement(6, \"app-add-rmtype-form\", 4);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"mat-dialog-actions\", 5)(8, \"p-button\", 6);\n        i0.ɵɵlistener(\"click\", function AddEditRmtypeComponent_Template_p_button_click_8_listener() {\n          return ctx.deleteRecord();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p-button\", 7);\n        i0.ɵɵlistener(\"click\", function AddEditRmtypeComponent_Template_p_button_click_9_listener() {\n          return ctx.saveRecords();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"p-button\", 8);\n        i0.ɵɵlistener(\"click\", function AddEditRmtypeComponent_Template_p_button_click_10_listener() {\n          return ctx.confirmDialog();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(11, \"p-confirmDialog\", 9);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"\", ctx.title, \" Room Type\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.frmRmTypeDetail);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"isNew\", ctx.isNew);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", ctx.isNew)(\"disabled\", !ctx.frmRmTypeDetail.valid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !ctx.frmRmTypeDetail.valid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(8, _c0));\n      }\n    },\n    dependencies: [i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i6.AddRmtypeFormComponent, i7.MatLegacyCard, i7.MatLegacyCardContent, i2.MatDialogTitle, i2.MatDialogContent, i2.MatDialogActions, i8.Button, i9.ConfirmDialog],\n    styles: [\"\\n\\n.mat-dialog-title-ext[_ngcontent-%COMP%] {\\n  background-color: #879cc9;\\n  padding-left: 10px;\\n  font-weight: normal;\\n  margin-bottom: 0px;\\n}\\n\\n.mat-dialog-content-ext[_ngcontent-%COMP%] {\\n  \\n\\n  margin: 0;\\n  padding: 10px;\\n  background-color: white !important;\\n}\\n\\n.mat-dialog-actions-ext[_ngcontent-%COMP%] {\\n  border-top: none;\\n  padding: 3px;\\n  min-height: 36px !important;\\n  margin-bottom: 5px;\\n  \\n\\n  background-color: white !important;\\n}\\n\\n.action-buttons[_ngcontent-%COMP%] {\\n  height: 30px;\\n  width: 70px;\\n}\\n\\n.margin-left-20[_ngcontent-%COMP%] {\\n  margin-left: 20px;\\n}\\n\\n.margin-5[_ngcontent-%COMP%] {\\n  margin: 5px !important;\\n}\\n\\n.mat-card[_ngcontent-%COMP%] {\\n  border-radius: 0px;\\n}\\n\\n.mat-expansion-panel[_ngcontent-%COMP%] {\\n  background-color: #879cc9;\\n}\\n\\n.mat-expansion-panel-header-title[_ngcontent-%COMP%] {\\n  color: white;\\n  letter-spacing: 1px;\\n}\\n\\n\\n\\n\\n\\n\\n.mat-card-title[_ngcontent-%COMP%] {\\n  color: white;\\n  letter-spacing: 1px;\\n  font-size: 13px;\\n  margin: 0px !important;\\n}\\n\\n.mat-card-header-text[_ngcontent-%COMP%] {\\n  margin: 0px !important;\\n}\\n\\n.mat-card-header[_ngcontent-%COMP%] {\\n  padding: 5px !important;\\n  margin-left: -15px;\\n}\\n\\n.mat-card-content[_ngcontent-%COMP%] {\\n  background-color: white !important;\\n  \\n\\n}\\n\\n.mat-expansion-panel-content[_ngcontent-%COMP%] {\\n  background-color: white !important;\\n}\\n\\n.mat-button[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%] {\\n  line-height: inherit !important;\\n}\\n\\n.btn-filter[_ngcontent-%COMP%] {\\n  margin-left: 4px;\\n  margin-right: 5px;\\n  width: 50px;\\n  margin-top: 17px;\\n}\\n\\n.btn-ggb-orange[_ngcontent-%COMP%] {\\n  width: 90px !important;\\n}\\n\\n.btn-ggb-default-custom[_ngcontent-%COMP%] {\\n  margin: 16px !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvcm9vbSBjYXRlZ29yeS93aWRnZXRzL2FkZC1lZGl0LXJtdHlwZS9hZGQtZWRpdC1ybXR5cGUuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3VpL3Jvb20lMjBjYXRlZ29yeS93aWRnZXRzL2FkZC1lZGl0LXJtdHlwZS9hZGQtZWRpdC1ybXR5cGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUNBQUE7QUFFQTtFQUNFLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0FDQUY7O0FER0E7RUFDRSwrQkFBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0Esa0NBQUE7QUNBRjs7QURHQTtFQUNFLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSx3QkFBQTtFQUNBLGtDQUFBO0FDQUY7O0FER0E7RUFDRSxZQUFBO0VBQ0EsV0FBQTtBQ0FGOztBREdBO0VBQ0UsaUJBQUE7QUNBRjs7QURHQTtFQUNFLHNCQUFBO0FDQUY7O0FER0E7RUFDRSxrQkFBQTtBQ0FGOztBREdBO0VBQ0UseUJBQUE7QUNBRjs7QURHQTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtBQ0FGOztBREdBOzs7R0FBQTtBQUtBO0VBQ0UsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0FDREY7O0FESUE7RUFDRSxzQkFBQTtBQ0RGOztBRElBO0VBQ0UsdUJBQUE7RUFDQSxrQkFBQTtBQ0RGOztBRElBO0VBQ0Usa0NBQUE7RUFDQSxrQkFBQTtBQ0RGOztBRElBO0VBQ0Usa0NBQUE7QUNERjs7QURJQTtFQUNFLCtCQUFBO0FDREY7O0FESUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0FDREY7O0FESUE7RUFDRSxzQkFBQTtBQ0RGOztBREtBO0VBQ0UsdUJBQUE7QUNGRiIsInNvdXJjZXNDb250ZW50IjpbIi8qQGltcG9ydCAnL3NyYy9zY3NzL3ZhcmlhYmxlcyc7Ki9cblxuLm1hdC1kaWFsb2ctdGl0bGUtZXh0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzg3OWNjOTtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG59XG5cbi5tYXQtZGlhbG9nLWNvbnRlbnQtZXh0IHtcbiAgLypib3JkZXI6IHRoaW4gZG91YmxlICM4NzljYzk7Ki9cbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWRpYWxvZy1hY3Rpb25zLWV4dCB7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIHBhZGRpbmc6IDNweDtcbiAgbWluLWhlaWdodDogMzZweCAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIC8qIG1hcmdpbi1yaWdodDogMTVweDsgKi9cbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbn1cblxuLmFjdGlvbi1idXR0b25zIHtcbiAgaGVpZ2h0OiAzMHB4O1xuICB3aWR0aDogNzBweDtcbn1cblxuLm1hcmdpbi1sZWZ0LTIwIHtcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XG59XG5cbi5tYXJnaW4tNSB7XG4gIG1hcmdpbjogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDBweDtcbn1cblxuLm1hdC1leHBhbnNpb24tcGFuZWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODc5Y2M5O1xufVxuXG4ubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG4gIGxldHRlci1zcGFjaW5nOiAxcHg7XG59XG5cbi8qIC5tYXQtY2FyZCB7XG4gIHBhZGRpbmc6IDBweDtcbiAgYm9yZGVyOiB0aGluIGRvdWJsZSByZ2IoMTgxLCAxNTUsIDkwKTtcbn0gKi9cblxuLm1hdC1jYXJkLXRpdGxlIHtcbiAgY29sb3I6IHdoaXRlO1xuICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICBmb250LXNpemU6IDEzcHg7XG4gIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtY2FyZC1oZWFkZXItdGV4dCB7XG4gIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtY2FyZC1oZWFkZXIge1xuICBwYWRkaW5nOiA1cHggIWltcG9ydGFudDtcbiAgbWFyZ2luLWxlZnQ6IC0xNXB4O1xufVxuXG4ubWF0LWNhcmQtY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gIC8qIHBhZGRpbmc6IDVweDsgKi9cbn1cblxuLm1hdC1leHBhbnNpb24tcGFuZWwtY29udGVudCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtYnV0dG9uLCAubWF0LWZsYXQtYnV0dG9uLCAubWF0LWljb24tYnV0dG9uLCAubWF0LXN0cm9rZWQtYnV0dG9uIHtcbiAgbGluZS1oZWlnaHQ6IGluaGVyaXQgIWltcG9ydGFudDtcbn1cblxuLmJ0bi1maWx0ZXIge1xuICBtYXJnaW4tbGVmdDogNHB4O1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgd2lkdGg6IDUwcHg7XG4gIG1hcmdpbi10b3A6IDE3cHg7XG59XG5cbi5idG4tZ2diLW9yYW5nZSB7XG4gIHdpZHRoOiA5MHB4ICFpbXBvcnRhbnQ7XG59XG5cblxuLmJ0bi1nZ2ItZGVmYXVsdC1jdXN0b20ge1xuICBtYXJnaW46IDE2cHggIWltcG9ydGFudFxufVxuIiwiLypAaW1wb3J0ICcvc3JjL3Njc3MvdmFyaWFibGVzJzsqL1xuLm1hdC1kaWFsb2ctdGl0bGUtZXh0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzg3OWNjOTtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG59XG5cbi5tYXQtZGlhbG9nLWNvbnRlbnQtZXh0IHtcbiAgLypib3JkZXI6IHRoaW4gZG91YmxlICM4NzljYzk7Ki9cbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWRpYWxvZy1hY3Rpb25zLWV4dCB7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIHBhZGRpbmc6IDNweDtcbiAgbWluLWhlaWdodDogMzZweCAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIC8qIG1hcmdpbi1yaWdodDogMTVweDsgKi9cbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbn1cblxuLmFjdGlvbi1idXR0b25zIHtcbiAgaGVpZ2h0OiAzMHB4O1xuICB3aWR0aDogNzBweDtcbn1cblxuLm1hcmdpbi1sZWZ0LTIwIHtcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XG59XG5cbi5tYXJnaW4tNSB7XG4gIG1hcmdpbjogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDBweDtcbn1cblxuLm1hdC1leHBhbnNpb24tcGFuZWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODc5Y2M5O1xufVxuXG4ubWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXItdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG4gIGxldHRlci1zcGFjaW5nOiAxcHg7XG59XG5cbi8qIC5tYXQtY2FyZCB7XG4gIHBhZGRpbmc6IDBweDtcbiAgYm9yZGVyOiB0aGluIGRvdWJsZSByZ2IoMTgxLCAxNTUsIDkwKTtcbn0gKi9cbi5tYXQtY2FyZC10aXRsZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBtYXJnaW46IDBweCAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWNhcmQtaGVhZGVyLXRleHQge1xuICBtYXJnaW46IDBweCAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWNhcmQtaGVhZGVyIHtcbiAgcGFkZGluZzogNXB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1sZWZ0OiAtMTVweDtcbn1cblxuLm1hdC1jYXJkLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAvKiBwYWRkaW5nOiA1cHg7ICovXG59XG5cbi5tYXQtZXhwYW5zaW9uLXBhbmVsLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWJ1dHRvbiwgLm1hdC1mbGF0LWJ1dHRvbiwgLm1hdC1pY29uLWJ1dHRvbiwgLm1hdC1zdHJva2VkLWJ1dHRvbiB7XG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0ICFpbXBvcnRhbnQ7XG59XG5cbi5idG4tZmlsdGVyIHtcbiAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIHdpZHRoOiA1MHB4O1xuICBtYXJnaW4tdG9wOiAxN3B4O1xufVxuXG4uYnRuLWdnYi1vcmFuZ2Uge1xuICB3aWR0aDogOTBweCAhaW1wb3J0YW50O1xufVxuXG4uYnRuLWdnYi1kZWZhdWx0LWN1c3RvbSB7XG4gIG1hcmdpbjogMTZweCAhaW1wb3J0YW50O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["forkJoin","of","MAT_DIALOG_DATA","RmTypeFilterInputDTO","UtilConstant","AddEditRmtypeComponent","constructor","data","formBuilder","dialog","dialogRef","service","confirmationService","toastr","subscriptions","isNew","isEdit","title","frmRmTypeDetail","group","rmtypeFormPanel","ngOnInit","loadData","disableButton","isNewRecord","newRecord","calls","rmtype","rmcat","push","getRmTypeById","subscribe","results","rmCat","rmType","rmTypeDesc","highlightColor","setTimeout","patchValue","saveRecords","valid","controls","value","saveRmType","res","status","success","close","error","confirmDialog","confirm","message","CANCEL_Msg","header","icon","accept","key","deleteRecord","userDeleteConfirm","deleteRmTypeRecord","deleteRoomType","_","i0","ɵɵdirectiveInject","i1","UntypedFormBuilder","i2","MatDialog","MatDialogRef","i3","RmcatService","i4","ConfirmationService","i5","ToastrService","_2","selectors","decls","vars","consts","template","AddEditRmtypeComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AddEditRmtypeComponent_Template_p_button_click_8_listener","AddEditRmtypeComponent_Template_p_button_click_9_listener","AddEditRmtypeComponent_Template_p_button_click_10_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty","ɵɵstyleMap","ɵɵpureFunction0","_c0"],"sources":["/home/admin7/Documents/fms_frontend/src/app/ui/room category/widgets/add-edit-rmtype/add-edit-rmtype.component.ts","/home/admin7/Documents/fms_frontend/src/app/ui/room category/widgets/add-edit-rmtype/add-edit-rmtype.component.html"],"sourcesContent":["import { Component, OnInit, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormBuilder } from '@angular/forms';\nimport { forkJoin, of, Subscription } from 'rxjs';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';import { ConfirmationService } from 'primeng/api';\nimport { ToastrService } from 'ngx-toastr';\nimport { RmcatService } from '../../../../services/rmcat.service';\nimport { RmTypeList } from '../../model/rmtype-list.model';\nimport { RmTypeFilterInputDTO } from '../../model/DTO/rmTypeFilterInput.model';\nimport { UtilConstant } from '../../../../../common/UtilConstant';\n\ndeclare var $: any;\n@Component({\n  selector: 'app-add-edit-rmtype',\n  templateUrl: './add-edit-rmtype.component.html',\n  styleUrls: ['./add-edit-rmtype.component.scss']\n})\nexport class AddEditRmtypeComponent implements OnInit {\n\n  frmRmTypeDetail: UntypedFormGroup;\n  value: any;\n  subscriptions: Subscription[] = [];\n  isNew: boolean = true;\n  confirmationResult: any;\n  isEdit: boolean = true;\n  title: string = 'Add';\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private formBuilder: UntypedFormBuilder,\n    public dialog: MatDialog,\n    public dialogRef: MatDialogRef<AddEditRmtypeComponent>,\n    private service: RmcatService,\n    private confirmationService: ConfirmationService,\n    private toastr: ToastrService\n  ) {\n    this.frmRmTypeDetail = this.formBuilder.group({\n      rmtypeFormPanel: []\n    });\n  }\n\n  ngOnInit(): void {\n    this.isEdit = true;\n    this.isNew = true;\n    if (this.data != null) {\n      this.loadData();\n      this.disableButton();\n      this.isNewRecord();\n    }\n  }\n\n  disableButton() {\n    if (this.data.isEdit != null && !this.data.isEdit) {\n      this.isEdit = false;\n    }\n  }\n  isNewRecord() {\n    if (this.data.newRecord != null) {\n      this.isNew = this.data.newRecord;\n      if (!this.isNew)\n        this.title = 'Edit';\n    }\n  }\n  loadData() {\n    const calls = [];\n    if (this.data.rmtype != null && this.data.rmcat != null) {\n      calls.push(this.service.getRmTypeById(this.data.rmcat,this.data.rmtype));\n    }\n    else {\n      calls.push(of(null));\n    }\n\n    forkJoin(...calls).subscribe(results => {\n      if (results[0] == null) {\n        let data ={\n          rmCat:'',\n          rmType:'',\n          rmTypeDesc:'',\n          highlightColor:'#a6a6a6'\n        }\n        setTimeout(() => {\n          this.frmRmTypeDetail.patchValue({\n            rmtypeFormPanel: data\n          });\n        }, 0);\n      } else {\n        setTimeout(() => {\n          this.frmRmTypeDetail.patchValue({\n            rmtypeFormPanel: results[0]\n          });\n        }, 0);\n      }\n    });\n  }\n  saveRecords() {\n    if (this.frmRmTypeDetail.valid) {\n      const data: RmTypeList = this.frmRmTypeDetail.controls.rmtypeFormPanel.value;\n      this.service.saveRmType(data).subscribe((res: any) => {\n        if (res.status != 202) {\n          this.toastr.success(\"Record saved Successfully.\");\n          this.dialogRef.close(\"saved\");\n        }\n      },\n        error => {\n        }\n      );\n    }\n\n  }\n\n  confirmDialog(): void {\n    this.confirmationService.confirm({\n      message: UtilConstant.CANCEL_Msg,\n      header: 'Confirmation',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {\n        this.dialogRef.close(true);\n      },\n      key:'rmtypeForm'\n    });\n  }\n  deleteRecord(){\n    this.userDeleteConfirm();\n  }\n  deleteRmTypeRecord() {\n    let data = new RmTypeFilterInputDTO(this.data.rmtype, \"\", this.frmRmTypeDetail.controls.rmtypeFormPanel.value.rmCat);\n    this.service.deleteRoomType(data).subscribe((res) => {\n      if (res != null ) {\n        //  this.messageService.add({ key: 'siteDetailsMessage', severity: 'success', summary: 'Record deleted successfully', detail: 'Record deleted successfully' });\n        this.dialogRef.close('deleted');\n      }\n\n    });\n  }\n  userDeleteConfirm(): void {\n    this.confirmationService.confirm({\n      message: 'Are you sure that you want to delete ' + this.data.rmtype + '?',\n      header: 'Delete Confirmation',\n      icon: 'pi pi-info-circle',\n      accept: () => {\n        this.deleteRmTypeRecord();\n      },\n      key: 'rmtypeForm'\n    });\n  }\n}\n","<h2 mat-dialog-title class=\"mat-dialog-title-ext\">{{title}} Room Type</h2>\n<mat-dialog-content class=\"mat-typography mat-dialog-content-ext\">\n  <form [formGroup]=\"frmRmTypeDetail\">\n    <mat-card>\n      <mat-card-content id=\"typeFrm\">\n        <app-add-rmtype-form formControlName=\"rmtypeFormPanel\" [isNew]=\"isNew\"></app-add-rmtype-form>\n      </mat-card-content>\n    </mat-card>\n  </form>\n</mat-dialog-content>\n<mat-dialog-actions align=\"end\" class=\"mat-dialog-actions-ext\">\n  <p-button label=\"Delete\" (click)=\"deleteRecord()\" [hidden]=\"this.isNew\" [disabled]=\"!frmRmTypeDetail.valid\"\n    icon=\"pi pi-trash\" class=\"mr5\"></p-button>\n  <p-button label=\"Save\" (click)=\"saveRecords()\" [disabled]=\"!frmRmTypeDetail.valid\" icon=\"pi pi-check\"></p-button>\n  <p-button label=\"Cancel\" icon=\"pi pi-times\" (click)=\"confirmDialog()\" styleClass=\"p-button-secondary\"\n            [style]=\"{'margin-left': '.5em'}\"></p-button>\n</mat-dialog-actions>\n<p-confirmDialog key=\"rmtypeForm\" header=\"Confirmation\"  icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}