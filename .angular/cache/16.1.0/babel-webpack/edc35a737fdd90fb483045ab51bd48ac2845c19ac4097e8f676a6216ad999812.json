{"ast":null,"code":"import { MessageService } from 'primeng/api';\nimport { UtilConstant } from 'src/common/UtilConstant';\nimport { BookingIdFilterInput } from '../model/bookingIdFilterInput.model';\nimport { Validators } from '@angular/forms';\nimport { EnumList } from 'src/app/model/enum-list.model';\nimport { FloorFilterInputDTO } from '../../background-loc/model/DTO/FloorFilterInputDTO.model';\nimport { BuildingFilterInputDTO } from '../../background-loc/model/DTO/BuildingFilterInputDTO.model';\nimport { RoomFilterInputDTO } from '../../background-loc/model/DTO/RoomFilterInputDTO.model';\nimport { UsersFilterInputDTO } from '../../user/modal/UsersFilterInputDTO.model';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { BreakpointService } from 'src/app/services/breakpoint.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../rm-config/rm-config/services/rm-config.service\";\nimport * as i3 from \"src/app/services/auth.service\";\nimport * as i4 from \"../provider/edit-booking-provider\";\nimport * as i5 from \"ngx-spinner\";\nimport * as i6 from \"../../booking/services/booking.services\";\nimport * as i7 from \"src/app/services/users.service\";\nimport * as i8 from \"primeng/api\";\nimport * as i9 from \"src/app/services/enum.service\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"src/app/services/breakpoint.service\";\nimport * as i12 from \"@ng-select/ng-select\";\nimport * as i13 from \"primeng/table\";\nimport * as i14 from \"primeng/calendar\";\nimport * as i15 from \"primeng/button\";\nimport * as i16 from \"primeng/dialog\";\nimport * as i17 from \"primeng/dropdown\";\nimport * as i18 from \"primeng/toast\";\nimport * as i19 from \"primeng/panel\";\nimport * as i20 from \"primeng/confirmdialog\";\nimport * as i21 from \"primeng/menu\";\nimport * as i22 from \"../../../directive/directive/trim-input.directive\";\nimport * as i23 from \"primeng/radiobutton\";\nimport * as i24 from \"@angular/material/tooltip\";\nimport * as i25 from \"primeng/paginator\";\nfunction EditBookingComponent_table_2_tr_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 22)(2, \"label\", 37);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r10.errorMsg);\n  }\n}\nfunction EditBookingComponent_table_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 15)(1, \"tr\")(2, \"td\", 22)(3, \"div\", 16)(4, \"label\", 23);\n    i0.ɵɵtext(5, \"Requested By \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ng-select\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\", 22)(8, \"div\", 16)(9, \"label\", 23);\n    i0.ɵɵtext(10, \"Meeting Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"ng-select\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\", 22)(13, \"div\", 16)(14, \"label\", 23);\n    i0.ɵɵtext(15, \"Building \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ng-select\", 26);\n    i0.ɵɵlistener(\"change\", function EditBookingComponent_table_2_Template_ng_select_change_16_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onSelectBlCode($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"td\", 22)(18, \"div\", 16)(19, \"label\", 23);\n    i0.ɵɵtext(20, \"Floor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"ng-select\", 27);\n    i0.ɵɵlistener(\"change\", function EditBookingComponent_table_2_Template_ng_select_change_21_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.onSelectFlCode($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"td\", 22)(23, \"div\", 16)(24, \"label\", 23);\n    i0.ɵɵtext(25, \"Room\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"ng-select\", 28);\n    i0.ɵɵlistener(\"change\", function EditBookingComponent_table_2_Template_ng_select_change_26_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.onSelectRmCode($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(27, \"tr\")(28, \"td\", 22)(29, \"div\", 16)(30, \"div\", 29)(31, \"div\", 30)(32, \"label\", 23);\n    i0.ɵɵtext(33, \"From Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"p-calendar\", 31);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(35, \"td\", 22)(36, \"div\", 16)(37, \"div\", 29)(38, \"div\", 30)(39, \"label\", 23);\n    i0.ɵɵtext(40, \"To Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"p-calendar\", 32);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(42, \"td\", 22)(43, \"div\", 16)(44, \"label\", 23);\n    i0.ɵɵtext(45, \"Status \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(46, \"ng-select\", 33);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"td\", 22)(48, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_table_2_Template_button_click_48_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.onSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_table_2_Template_button_click_49_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.onClear());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(50, EditBookingComponent_table_2_tr_50_Template, 4, 1, \"tr\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r0.enumRequestedBy)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r0.enumReservationIds)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r0.enumBL)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r0.enumFL)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r0.rm_data)(\"searchable\", true);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"showIcon\", false);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"showIcon\", false);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r0.enumStatusData)(\"searchable\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.filterPanel.valid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isErr);\n  }\n}\nfunction EditBookingComponent_table_3_tr_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 38)(2, \"label\", 37);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r17.errorMsg);\n  }\n}\nfunction EditBookingComponent_table_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 15)(1, \"tr\")(2, \"td\", 38)(3, \"div\", 16)(4, \"label\", 23);\n    i0.ɵɵtext(5, \"Requested By \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ng-select\", 24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\", 38)(8, \"div\", 16)(9, \"label\", 23);\n    i0.ɵɵtext(10, \"Meeting Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"ng-select\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\", 38)(13, \"div\", 16)(14, \"label\", 23);\n    i0.ɵɵtext(15, \"Building \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ng-select\", 26);\n    i0.ɵɵlistener(\"change\", function EditBookingComponent_table_3_Template_ng_select_change_16_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onSelectBlCode($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"td\", 38)(18, \"div\", 16)(19, \"label\", 23);\n    i0.ɵɵtext(20, \"Floor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"ng-select\", 27);\n    i0.ɵɵlistener(\"change\", function EditBookingComponent_table_3_Template_ng_select_change_21_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.onSelectFlCode($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(22, \"tr\")(23, \"td\", 38)(24, \"div\", 16)(25, \"label\", 23);\n    i0.ɵɵtext(26, \"Room\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"ng-select\", 28);\n    i0.ɵɵlistener(\"change\", function EditBookingComponent_table_3_Template_ng_select_change_27_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.onSelectRmCode($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(28, \"td\", 38)(29, \"div\", 16)(30, \"div\", 29)(31, \"div\", 30)(32, \"label\", 17);\n    i0.ɵɵtext(33, \"From Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(34, \"p-calendar\", 31);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(35, \"td\", 38)(36, \"div\", 16)(37, \"div\", 29)(38, \"div\", 30)(39, \"label\", 17);\n    i0.ɵɵtext(40, \"To Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(41, \"p-calendar\", 32);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(42, \"td\", 38)(43, \"div\", 16)(44, \"label\", 23);\n    i0.ɵɵtext(45, \"Status \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(46, \"ng-select\", 33);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(47, EditBookingComponent_table_3_tr_47_Template, 4, 1, \"tr\", 36);\n    i0.ɵɵelementStart(48, \"tr\")(49, \"td\", 38)(50, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_table_3_Template_button_click_50_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.onSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_table_3_Template_button_click_51_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.onClear());\n    });\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.enumRequestedBy)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.enumReservationIds)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.enumBL)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.enumFL)(\"searchable\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.rm_data)(\"searchable\", true);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"showIcon\", false);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"showIcon\", false);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.enumStatusData)(\"searchable\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isErr);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.filterPanel.valid);\n  }\n}\nfunction EditBookingComponent_ng_template_9_ng_template_71_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-dropdown\", 75);\n    i0.ɵɵlistener(\"onChange\", function EditBookingComponent_ng_template_9_ng_template_71_Template_p_dropdown_onChange_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const filter_r26 = restoredCtx.filterCallback;\n      return i0.ɵɵresetView(filter_r26($event.value));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const value_r25 = ctx.$implicit;\n    const ctx_r24 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngModel\", value_r25)(\"options\", ctx_r24.reserveStatus)(\"showClear\", true);\n  }\n}\nfunction EditBookingComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"th\", 39);\n    i0.ɵɵelementStart(2, \"th\", 40)(3, \"div\", 41)(4, \"div\", 42)(5, \"p\", 43);\n    i0.ɵɵtext(6, \"Type\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 44);\n    i0.ɵɵelement(8, \"p-sortIcon\", 45)(9, \"p-columnFilter\", 46);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"th\", 47)(11, \"div\", 41)(12, \"div\", 42)(13, \"p\", 43);\n    i0.ɵɵtext(14, \"Meeting Id \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 44);\n    i0.ɵɵelement(16, \"p-sortIcon\", 48)(17, \"p-columnFilter\", 49);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"th\", 50)(19, \"div\", 41)(20, \"div\", 42)(21, \"p\", 43);\n    i0.ɵɵtext(22, \"Building\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 44);\n    i0.ɵɵelement(24, \"p-sortIcon\", 51)(25, \"p-columnFilter\", 52);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"th\", 53)(27, \"div\", 41)(28, \"div\", 42)(29, \"p\", 43);\n    i0.ɵɵtext(30, \"Floor\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 44);\n    i0.ɵɵelement(32, \"p-sortIcon\", 54)(33, \"p-columnFilter\", 55);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(34, \"th\", 56)(35, \"div\", 41)(36, \"div\", 42)(37, \"p\", 43);\n    i0.ɵɵtext(38, \"Room\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"div\", 44);\n    i0.ɵɵelement(40, \"p-sortIcon\", 57)(41, \"p-columnFilter\", 58);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(42, \"th\", 59)(43, \"div\", 41)(44, \"div\", 42)(45, \"p\", 43);\n    i0.ɵɵtext(46, \"Date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"div\", 44);\n    i0.ɵɵelement(48, \"p-sortIcon\", 60);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(49, \"th\", 61)(50, \"div\", 41)(51, \"div\", 42)(52, \"p\", 43);\n    i0.ɵɵtext(53, \"From Time\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"div\", 44);\n    i0.ɵɵelement(55, \"p-sortIcon\", 62);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(56, \"th\", 63)(57, \"div\", 41)(58, \"div\", 42)(59, \"p\", 43);\n    i0.ɵɵtext(60, \"To Time\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"div\", 44);\n    i0.ɵɵelement(62, \"p-sortIcon\", 64);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(63, \"th\", 65)(64, \"div\", 41)(65, \"div\", 42)(66, \"p\", 43);\n    i0.ɵɵtext(67, \"Status\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(68, \"div\", 44);\n    i0.ɵɵelement(69, \"p-sortIcon\", 66);\n    i0.ɵɵelementStart(70, \"p-columnFilter\", 67);\n    i0.ɵɵtemplate(71, EditBookingComponent_ng_template_9_ng_template_71_Template, 1, 3, \"ng-template\", 68);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(72, \"th\", 69)(73, \"div\", 41)(74, \"div\", 42)(75, \"p\", 43);\n    i0.ɵɵtext(76, \" Meeting Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(77, \"div\", 44);\n    i0.ɵɵelement(78, \"p-sortIcon\", 70)(79, \"p-columnFilter\", 71);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(80, \"th\", 72)(81, \"div\", 41)(82, \"div\", 42)(83, \"p\", 43);\n    i0.ɵɵtext(84, \"Requested By\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(85, \"div\", 44);\n    i0.ɵɵelement(86, \"p-sortIcon\", 73)(87, \"p-columnFilter\", 74);\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction EditBookingComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 76)(1, \"td\", 39)(2, \"button\", 77);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_ng_template_10_Template_button_click_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const editBook_r29 = restoredCtx.$implicit;\n      const _r30 = i0.ɵɵreference(4);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.setMenuList($event, _r30, editBook_r29));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"p-menu\", 78, 79);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\", 80);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"td\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const editBook_r29 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"pSelectableRow\", editBook_r29);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"popup\", true)(\"model\", ctx_r4.reqitems);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(editBook_r29.bookingType);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(editBook_r29.reserveId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(editBook_r29.blDataBlCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(editBook_r29.flDataFlCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(editBook_r29.rmDataRmCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(17, 15, editBook_r29.dateStart, \"dd MMM yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r4.convertToDisplayTime(editBook_r29.timeStart));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.convertToDisplayTime(editBook_r29.timeEnd));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.getEnumByid(editBook_r29.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"matTooltip\", editBook_r29.meetingName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(editBook_r29.meetingName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(editBook_r29.requestedByUserUserName);\n  }\n}\nfunction EditBookingComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" No records found \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", 9);\n  }\n}\nfunction EditBookingComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 81)(1, \"div\", 82)(2, \"button\", 83);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_ng_template_25_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.saveCancellationReason());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 84);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_ng_template_25_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r35);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.cancelCancellationReason());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r6.cancelBook.valid);\n  }\n}\nfunction EditBookingComponent_ng_template_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 85);\n    i0.ɵɵtext(1, \"Confirmation\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditBookingComponent_ng_template_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\", 1)(1, \"div\", 86)(2, \"div\", 87)(3, \"label\", 88);\n    i0.ɵɵtext(4, \"Do you want cancel all occurrences of the recurring reservation or just this one ?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 87);\n    i0.ɵɵelement(6, \"p-radioButton\", 89);\n    i0.ɵɵelementStart(7, \"label\", 88);\n    i0.ɵɵtext(8, \"Cancel this occurence only.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 87);\n    i0.ɵɵelement(10, \"p-radioButton\", 90);\n    i0.ɵɵelementStart(11, \"label\", 88);\n    i0.ɵɵtext(12, \"Cancel this reservation and all future occurrences.\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r8.editDialog);\n  }\n}\nfunction EditBookingComponent_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 91);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_ng_template_29_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.closeCancelRecurrence());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"button\", 92);\n    i0.ɵɵlistener(\"click\", function EditBookingComponent_ng_template_29_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.confirmCancelResevation());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return {\n    \"width\": \"1600px\"\n  };\n};\nconst _c1 = function () {\n  return [25, 50, 100];\n};\nconst _c2 = function () {\n  return {\n    width: \"25vw\"\n  };\n};\nconst _c3 = function () {\n  return {\n    width: \"30vw\"\n  };\n};\nexport let EditBookingComponent = /*#__PURE__*/(() => {\n  class EditBookingComponent {\n    constructor(formBuilder, rmConfigSrv, authSrv, bookingProvider, spinner, bookingSrv, userSrv, confirmationService, enumsrv, datePipe, bps) {\n      this.formBuilder = formBuilder;\n      this.rmConfigSrv = rmConfigSrv;\n      this.authSrv = authSrv;\n      this.bookingProvider = bookingProvider;\n      this.spinner = spinner;\n      this.bookingSrv = bookingSrv;\n      this.userSrv = userSrv;\n      this.confirmationService = confirmationService;\n      this.enumsrv = enumsrv;\n      this.datePipe = datePipe;\n      this.bps = bps;\n      this.allBl = [];\n      this.enumBL = [];\n      this.enumFL = [];\n      this.enumAllFL = [];\n      this.enumReservationIds = [];\n      this.enumRequestedBy = [];\n      this.rowCount = UtilConstant.ROW_COUNT;\n      this.allRmDdata = [];\n      this.rm_data = [];\n      this.errorMsg = '';\n      this.displayMaximizable = false;\n      this.reservationData = [];\n      this.reqitems = [];\n      this.isErr = false;\n      this.displayCancelScreen = false;\n      this.cancelReservationData = [];\n      this.enumList = [];\n      this.enumClonedList = [];\n      this.enumStatusList = [];\n      this.enumStatusData = [];\n      this.displayStatusData = [];\n      this.presentDate = new Date();\n      this.firstDate = new Date();\n      this.lastDate = new Date(this.presentDate.getFullYear(), this.presentDate.getMonth() + 1, 0);\n      this.reserveDataToUpdate = [];\n      this.reserveDataList = [];\n      this.reservationInputDTOList = [];\n      this.displayCancelRecurrence = false;\n      this.upDateAll = false;\n      this.reserveStatus = [];\n      this.useTabletProtrait = false;\n      this.totalElements = 0;\n      this.paginationObj = {\n        pageNo: 0,\n        pageSize: this.rowCount,\n        sortBy: [\"reserveId\"],\n        sortOrder: \"ASC\"\n      };\n      this.filterCriteriaList = [];\n      this.isFiltered = false;\n      this.serachFilterData = {};\n      this.filterPanel = this.formBuilder.group({\n        requestedBy: [null],\n        reserveId: [null],\n        blId: [null],\n        flId: [null],\n        rmId: [null],\n        dateStart: [null, [this.checkDateValidation()]],\n        dateEnd: [null, [this.checkDateValidation()]],\n        status: [null]\n      });\n      this.editDialog = this.formBuilder.group({\n        edit: ['updateOne']\n      });\n      this.reqitems = [{\n        icon: 'pi-ellipsis-v',\n        items: []\n      }];\n      this.cancelBook = this.formBuilder.group({\n        cancelledReason: [null, [Validators.required]]\n      });\n    }\n    ngOnInit() {\n      this.bps.register(this);\n      this.spinner.hide();\n      this.loadFilterPanelData();\n      this.loadEnumRequestedBy();\n      this.loadEnumId();\n      this.loadStatus();\n      this.loggedInUser = this.authSrv.getLoggedInUserId();\n      this.setStartAndEndDates();\n      this.loadReservationData();\n      this.loadReserveDataToUpdate();\n    }\n    notify() {\n      this.useTabletProtrait = BreakpointService.useTabletProtrait;\n    }\n    loadReservationData() {\n      setTimeout(() => {\n        this.onSearch();\n      }, 100);\n    }\n    loadEnumRequestedBy() {\n      this.userSrv.getALLUsers().subscribe(res => {\n        this.enumRequestedBy = res;\n        this.enumRequestedBy.unshift(new UsersFilterInputDTO(null, 'Make a selection', '', ''));\n      });\n    }\n    loadEnumId() {\n      this.bookingSrv.getAllBookingIds().subscribe(res => {\n        this.enumReservationIds = res;\n        this.enumReservationIds = res.map(i => {\n          i.name = i.id + ' - ' + i.name;\n          return i;\n        });\n        this.enumReservationIds.unshift(new BookingIdFilterInput(0, 'Make a selection'));\n      });\n    }\n    loadFilterPanelData() {\n      this.rmConfigSrv.getAllFilterData().subscribe(res => {\n        this.allBl = res.blList;\n        this.enumBL = res.blList;\n        this.enumBL = res.blList.map(i => {\n          i.blNameString = i.blCode + (i.blName ? ' - ' + i.blName : \"\");\n          return i;\n        });\n        this.enumBL.unshift(new BuildingFilterInputDTO(null, 'Make a selection', null));\n        this.enumAllFL = res.flList;\n        this.enumAllFL = res.flList.map(i => {\n          i.flNameString = i.blCode + '-' + i.flCode + (i.flName ? ' - ' + i.flName : '');\n          return i;\n        });\n        this.enumAllFL.unshift(new FloorFilterInputDTO(null, 'Make a selection', null));\n        this.enumFL = this.enumAllFL;\n        this.allRmDdata = res.rmList;\n        this.allRmDdata = res.rmList.map(i => {\n          i.rmNameString = i.blCode + '-' + i.flCode + ' - ' + i.rmCode + (i.rmName ? ' - ' + i.rmName : '');\n          return i;\n        });\n        this.allRmDdata.unshift(new RoomFilterInputDTO(null, 'Make a selection', null, null));\n        this.rm_data = this.allRmDdata;\n      });\n    }\n    loadStatus() {\n      this.enumList = [];\n      this.enumsrv.getEnums().subscribe(res => {\n        this.enumList = res;\n        this.enumClonedList = this.enumList.map(x => Object.assign({}, x));\n        this.enumStatusData = this.enumClonedList.filter(t => t.tableName.toLocaleUpperCase() === 'reserve'.toLocaleUpperCase() && t.fieldName.toLocaleUpperCase() === 'status'.toLocaleUpperCase());\n        this.reserveStatus = this.enumStatusData;\n        this.enumStatusData.unshift(new EnumList(null, \"\", \"\", 'Make a selection', null));\n        // this.displayStatusData = this.enumStatusData.map((each: any) => ({ ...each, status: each.enumValue }));\n        // this.displayStatusData.unshift({ compId: this.compId, enumValue: 'Make a selection', fieldName: 'status', id: 0, status: '', tableName: '' });\n      });\n    }\n\n    setMenuList(event, menu, record) {\n      this.reqitems[0].items = [];\n      this.reqitems[0].items?.push({\n        'label': 'Details',\n        'icon': 'pi pi-info-circle',\n        command: event => {\n          this.openDetails(record);\n        }\n      });\n      var currentStage = this.getEnumByid(record.status);\n      if (currentStage.toLowerCase() === 'waiting for approval' || currentStage.toLowerCase() === 'approved') {\n        this.reqitems[0].items?.push({\n          'label': 'Edit',\n          'icon': 'pi pi-pencil',\n          command: event => {\n            this.editDetails(record);\n          }\n        });\n        this.reqitems[0].items?.push({\n          'label': 'Cancel',\n          'icon': 'pi pi-times',\n          command: event => {\n            this.cancelReservation(record);\n          }\n        });\n      }\n      menu.toggle(event);\n    }\n    openDetails(rec) {\n      const dialogConfig = new MatDialogConfig();\n      dialogConfig.disableClose = true;\n      dialogConfig.autoFocus = true;\n      dialogConfig.width = '750px';\n      dialogConfig.data = {\n        roomDetails: rec,\n        isView: true,\n        isEdit: false\n      };\n      this.bookingProvider.openDialog(dialogConfig);\n      this.bookingProvider.onDialogueClosed.subscribe(result => {\n        //this.loadReservationData();\n      });\n    }\n    editDetails(rec) {\n      const dialogConfig = new MatDialogConfig();\n      dialogConfig.disableClose = true;\n      dialogConfig.autoFocus = true;\n      dialogConfig.width = '750px';\n      dialogConfig.data = {\n        roomDetails: rec,\n        isView: false,\n        isEdit: true\n      };\n      this.bookingProvider.openDialog(dialogConfig);\n      this.bookingProvider.onDialogueClosed.subscribe(result => {\n        if (result) {\n          this.loadReservationData();\n        }\n      });\n    }\n    cancelReservation(record) {\n      this.cancelReservationRec = record;\n      if (record.bookingType.toLocaleUpperCase() === \"Recurring\".toLocaleUpperCase()) {\n        this.displayCancelRecurrence = true;\n      } else {\n        this.displayCancelRecurrence = false;\n        this.reserveDataToUpdate = [record];\n        this.displayCancelScreen = true;\n      }\n    }\n    confirmCancelResevation() {\n      this.upDateAll = this.editDialog.controls.edit.value === 'updateAll';\n      if (this.upDateAll) {\n        this.reserveDataToUpdate = this.reserveDataList.filter(res => res.reserveId >= this.cancelReservationRec.reserveId && res.parentId === this.cancelReservationRec.parentId && (this.getEnumByid(res.status) == 'Waiting for Approval' || this.getEnumByid(res.status) == 'Approved'));\n      } else {\n        this.reserveDataToUpdate = this.reserveDataList.filter(res => res.reserveId === this.cancelReservationRec.reserveId);\n      }\n      this.displayCancelScreen = true;\n    }\n    saveCancellationReason() {\n      this.confirmationService.confirm({\n        message: \"Are you sure that you want to cancel the booking \",\n        header: 'Confirmation',\n        icon: 'pi pi-exclamation-triangle',\n        accept: () => {\n          this.cancellationProcess();\n        }\n      });\n    }\n    cancellationProcess() {\n      var cancel = this.cancelBook.controls.cancelledReason.value;\n      this.reservationInputDTOList = [];\n      this.reserveDataToUpdate.map(each => {\n        each.status = this.getIdByStatus(\"Cancelled\");\n        each.cancelledReason = cancel;\n        each.cancelledBy = this.loggedInUser;\n        each.dateCancelled = new Date();\n        each.timeCancelled = this.convertToTime(new Date().toLocaleTimeString(\"en-GB\"));\n        var reserveDTO = this.createReserveDto(each);\n        var reserveAttendeesDTO = each.reserveAttendees.slice(0);\n        var reserveResourcesDTO = [];\n        var bookingData = {\n          reserveDTO: reserveDTO,\n          reserveAttendeesDTO: reserveAttendeesDTO,\n          reserveResourcesDTO: reserveResourcesDTO\n        };\n        this.reservationInputDTOList.push(bookingData);\n      });\n      this.bookingSrv.updateRecurrenceBookings(this.reservationInputDTOList).subscribe(res => {\n        this.displayCancelScreen = false;\n        this.displayCancelRecurrence = false;\n        this.loadReservationData();\n      });\n    }\n    cancelCancellationReason() {\n      setTimeout(() => {\n        this.cancelBook.patchValue({\n          cancelledReason: null\n        });\n      }, 10);\n      this.displayCancelScreen = false;\n      if (this.cancelReservationRec.bookingType.toLocaleUpperCase() === \"Recurring\".toLocaleUpperCase()) {\n        this.displayCancelRecurrence = true;\n      }\n    }\n    onSelectBlCode($event) {\n      if ($event.blId != null) {\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            flId: null,\n            rmId: null\n          });\n          this.loadFloorCode($event.blId);\n        }, 10);\n      } else {\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            flId: null,\n            rmId: null\n          });\n        }, 10);\n        this.enumFL = this.enumAllFL;\n        this.rm_data = this.allRmDdata;\n      }\n    }\n    loadFloorCode(bl_id) {\n      if (bl_id != null) {\n        this.enumFL = [];\n        this.enumFL = this.enumAllFL.filter(t => t.blId == bl_id);\n        this.enumFL.unshift(new FloorFilterInputDTO(null, 'Make a selection', null));\n        this.rm_data = this.allRmDdata.filter(t => t.blId == bl_id);\n        this.rm_data.unshift(new RoomFilterInputDTO(null, 'Make a selection', null, null));\n      }\n    }\n    onSelectFlCode(event) {\n      if (event.flId != null) {\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            blId: event.blId,\n            rmId: null\n          });\n          this.loadRmCode(event.flId, event.blId);\n        }, 10);\n      } else {\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            rmId: null\n          });\n        }, 10);\n        this.rm_data = this.allRmDdata;\n        this.enumFL.unshift(new FloorFilterInputDTO(null, 'Make a selection', null));\n      }\n    }\n    loadRmCode(flId, blId) {\n      if (flId != null) {\n        this.rm_data = [];\n        this.rm_data = this.allRmDdata.filter(t => t.blId == blId);\n        this.rm_data = this.rm_data.filter(t => t.flId == flId);\n        this.rm_data.unshift(new RoomFilterInputDTO(null, 'Make a selection', null, null));\n      }\n    }\n    onSelectRmCode(event) {\n      if (event.rmId != null) {\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            blId: event.blId,\n            flId: event.flId\n          });\n        }, 10);\n      }\n    }\n    formatDate(date) {\n      if (date != null) {\n        var date = new Date(date);\n        var userTimezoneOffset = date.getTimezoneOffset() * 60000;\n        var a = new Date(date.getTime() - userTimezoneOffset);\n        return a;\n      } else {\n        return null;\n      }\n    }\n    setFromateDate(date) {\n      if (date != null) {\n        var date = new Date(date);\n        date.setHours(0);\n        date.setMinutes(0);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n        return this.datePipe.transform(date, \"yyyy-MM-dd HH:mm:ss\");\n      } else {\n        return null;\n      }\n    }\n    convertToTime(value) {\n      if (value != null) {\n        var currDate = new Date();\n        var data = value.split(':');\n        var time = data[0] + ':' + data[1];\n        currDate.setHours(data[0]);\n        currDate.setMinutes(data[1]);\n        currDate.setSeconds(0);\n        currDate.setMilliseconds(0);\n        return this.datePipe.transform(currDate, \"HH:mm:ss\");\n      } else {\n        return null;\n      }\n    }\n    convertTimeCreated(value) {\n      if (value != null) {\n        var currDate = new Date();\n        var data = value.split(':');\n        currDate.setHours(data[0]);\n        currDate.setMinutes(data[1]);\n        currDate.setSeconds(data[2]);\n        currDate.setMilliseconds(0);\n        return currDate;\n      } else {\n        return null;\n      }\n    }\n    convertToDisplayTime(value) {\n      if (value != null) {\n        var data = value.split(':');\n        var time = data[0] + ':' + data[1];\n        return time;\n      } else {\n        return '';\n      }\n    }\n    onSearch() {\n      this.spinner.show();\n      var requestedBy = this.filterPanel.controls.requestedBy.value;\n      var id = this.filterPanel.controls.reserveId.value;\n      var blId = this.filterPanel.controls.blId.value;\n      var flId = this.filterPanel.controls.flId.value;\n      var rmId = this.filterPanel.controls.rmId.value;\n      var dateStart = this.setFromateDate(this.filterPanel.controls.dateStart.value);\n      var dateEnd = this.setFromateDate(this.filterPanel.controls.dateEnd.value);\n      var status = this.filterPanel.controls.status.value;\n      var filterValueData = {\n        'requestedBy': requestedBy,\n        'reserveId': id,\n        'blId': blId,\n        'flId': flId,\n        'rmId': rmId,\n        'dateStart': dateStart,\n        'dateEnd': dateEnd,\n        'status': status,\n        'filterDto': {\n          paginationDTO: this.paginationObj,\n          filterCriteria: this.filterCriteriaList\n        }\n      };\n      this.serachFilterData = {\n        ...filterValueData\n      };\n      this.getAllBookingData();\n    }\n    getAllBookingData() {\n      this.isFiltered = false;\n      this.bookingSrv.SearchBookingsByFilterPaginated(this.serachFilterData).subscribe(res => {\n        this.spinner.hide();\n        if (res) {\n          this.isFiltered = false;\n          this.reservationData = res.content ? res.content : [];\n          this.totalElements = res.totalElements ? res.totalElements : 0;\n        }\n      });\n    }\n    onClear() {\n      this.filterPanel.patchValue({\n        requestedBy: null,\n        reserveId: null,\n        blId: null,\n        flId: null,\n        rmId: null,\n        dateStart: null,\n        dateEnd: null,\n        status: null\n      });\n      this.reservationData = [];\n      this.serachFilterData = {};\n    }\n    checkDateValidation() {\n      return control => {\n        if (control.value !== undefined && control.value != null) {\n          this.filterPanel.controls['dateStart'].setErrors(null);\n          this.filterPanel.controls['dateEnd'].setErrors(null);\n          this.filterPanel.clearAsyncValidators();\n          this.filterPanel.updateValueAndValidity();\n          var dateFrom = new Date(this.filterPanel.controls['dateStart'].value);\n          var dateTo = new Date(this.filterPanel.controls['dateEnd'].value);\n          if (dateFrom.getTime() > dateTo.getTime() && this.filterPanel.controls['dateEnd'].value != null) {\n            this.isErr = true;\n            this.filterPanel.controls['dateStart'].setErrors({\n              'incorrect': true\n            });\n            this.filterPanel.updateValueAndValidity();\n            this.errorMsg = 'From date should be less than To date.';\n            return {\n              'incorrect': true\n            };\n          } else {\n            this.isErr = false;\n            return null;\n          }\n        }\n        return null;\n      };\n    }\n    setStartAndEndDates() {\n      this.filterPanel.patchValue({\n        dateStart: this.firstDate,\n        dateEnd: this.lastDate\n      });\n    }\n    loadReserveDataToUpdate() {\n      this.bookingSrv.getAllBookings().subscribe(res => {\n        this.reserveDataList = res;\n      });\n    }\n    createReserveDto(reserveation) {\n      let reserveDTO = {\n        reserveId: reserveation.reserveId,\n        loggedBy: this.loggedInUser,\n        requestedBy: reserveation.requestedBy,\n        requestedFor: this.loggedInUser,\n        status: reserveation.status,\n        meetingName: reserveation.meetingName,\n        comments: reserveation.comments,\n        bookingType: reserveation.bookingType,\n        recurringRule: reserveation.recurringRule,\n        dateStart: this.datePipe.transform(reserveation.dateStart, \"yyyy-MM-dd HH:mm:ss\"),\n        dateEnd: this.datePipe.transform(reserveation.dateEnd, \"yyyy-MM-dd HH:mm:ss\"),\n        timeStart: this.convertToTime(reserveation.timeStart),\n        timeEnd: this.convertToTime(reserveation.timeEnd),\n        blId: reserveation.blId,\n        flId: reserveation.flId,\n        rmId: reserveation.rmId,\n        configId: reserveation.configId,\n        cancelledReason: reserveation.cancelledReason,\n        cancelledBy: reserveation.cancelledBy,\n        dateCancelled: this.datePipe.transform(reserveation.dateCancelled, \"yyyy-MM-dd HH:mm:ss\"),\n        timeCancelled: reserveation.timeCancelled,\n        parentId: reserveation.parentId,\n        dateCreated: this.datePipe.transform(reserveation.dateCreated, \"yyyy-MM-dd HH:mm:ss\"),\n        timeCreated: this.convertToTime(reserveation.timeCreated),\n        approvedBy: reserveation.approvedBy,\n        dateApproved: this.datePipe.transform(reserveation.dateApproved, \"yyyy-MM-dd HH:mm:ss\"),\n        checkInNotifyCount: reserveation.checkInNotifyCount\n      };\n      return reserveDTO;\n    }\n    closeCancelRecurrence() {\n      this.displayCancelRecurrence = false;\n    }\n    getEnumByid(id) {\n      return this.enumStatusData.find(t => t.enumKey === id)?.enumValue;\n    }\n    getIdByStatus(status) {\n      return this.enumStatusData.find(t => t.enumValue === status)?.enumKey;\n    }\n    ngOnDestroy() {\n      this.bps.unregister(this);\n    }\n    onPageChange(event) {\n      const pageNo = event.first ? event.first / event.rows : 0;\n      const pageSize = event.rows;\n      this.paginationObj.pageNo = pageNo;\n      this.paginationObj.pageSize = pageSize;\n      this.getAllBookingData();\n    }\n    onInnerFilter(event) {\n      if (this.isFiltered) {\n        Object.keys(event.filters).forEach(field => {\n          const filterValue = event.filters[field][0].value;\n          const matchMode = event.filters[field][0].matchMode;\n          if (filterValue !== undefined) {\n            let filterCriteria = {};\n            if (field == \"blDataBlCode\") {\n              filterCriteria = {\n                fieldName: \"B.bl_code\",\n                value: filterValue,\n                matchMode: matchMode\n              };\n            } else if (field == \"flDataFlCode\") {\n              filterCriteria = {\n                fieldName: \"F.fl_code\",\n                value: filterValue,\n                matchMode: matchMode\n              };\n            } else if (field == \"rmDataRmCode\") {\n              filterCriteria = {\n                fieldName: \"RM.rm_code\",\n                value: filterValue,\n                matchMode: matchMode\n              };\n            } else if (field == \"requestedByUserUserName\") {\n              filterCriteria = {\n                fieldName: \"U.user_name\",\n                value: filterValue,\n                matchMode: matchMode\n              };\n            } else if (field == \"bookingType\") {\n              filterCriteria = {\n                fieldName: \"type\",\n                value: filterValue,\n                matchMode: matchMode\n              };\n            } else {\n              filterCriteria = {\n                fieldName: field,\n                value: filterValue,\n                matchMode: matchMode\n              };\n            }\n            this.updateFilterCriteriaList(filterCriteria);\n          }\n        });\n        this.paginationObj.pageNo = 0;\n        this.getAllBookingData();\n      }\n      this.isFiltered = true;\n    }\n    updateFilterCriteriaList(filterCriteria) {\n      let index = this.filterCriteriaList.findIndex(item => item.fieldName === filterCriteria['fieldName']);\n      if (filterCriteria['value'] == null) {\n        if (index !== -1) {\n          this.filterCriteriaList.splice(index, 1);\n        }\n      } else {\n        if (index !== -1) {\n          this.filterCriteriaList[index] = filterCriteria;\n        } else {\n          this.filterCriteriaList.push(filterCriteria);\n        }\n      }\n    }\n    static #_ = this.ɵfac = function EditBookingComponent_Factory(t) {\n      return new (t || EditBookingComponent)(i0.ɵɵdirectiveInject(i1.UntypedFormBuilder), i0.ɵɵdirectiveInject(i2.RmConfigService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.EditBookingDialogueProvider), i0.ɵɵdirectiveInject(i5.NgxSpinnerService), i0.ɵɵdirectiveInject(i6.BookingService), i0.ɵɵdirectiveInject(i7.UsersService), i0.ɵɵdirectiveInject(i8.ConfirmationService), i0.ɵɵdirectiveInject(i9.EnumService), i0.ɵɵdirectiveInject(i10.DatePipe), i0.ɵɵdirectiveInject(i11.BreakpointService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EditBookingComponent,\n      selectors: [[\"app-edit-booking\"]],\n      features: [i0.ɵɵProvidersFeature([MessageService])],\n      decls: 30,\n      vars: 31,\n      consts: [[1, \"card\"], [3, \"formGroup\"], [\"width\", \"100%\", 4, \"ngIf\"], [1, \"card\", 2, \"height\", \"75vh\"], [\"header\", \" \"], [\"styleClass\", \"p-datatable-customers p-datatable-gridlines\", \"scrollHeight\", \"450px\", 3, \"value\", \"paginator\", \"tableStyle\", \"scrollable\", \"onFilter\"], [\"dt1\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"paginator\"], [\"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"rows\", \"totalRecords\", \"first\", \"showCurrentPageReport\", \"rowsPerPageOptions\", \"onPageChange\"], [\"key\", \"editBookingGrid\", \"position\", \"top-right\"], [\"header\", \"Confirmation\", \"icon\", \"pi pi-exclamation-triangle\"], [\"header\", \"Cancel Booking\", 3, \"visible\", \"modal\", \"maximizable\", \"draggable\", \"resizable\", \"visibleChange\"], [\"width\", \"100%\"], [1, \"input-label-custom\"], [1, \"form-field-lable\", \"control-label\"], [\"type\", \"text\", \"name\", \"cancelledReason\", \"formControlName\", \"cancelledReason\", \"colspan\", \"2\", \"appTrimInput\", \"\", 1, \"form-control\"], [\"pTemplate\", \"caption\"], [3, \"visible\", \"closable\", \"draggable\", \"resizable\", \"modal\", \"visibleChange\"], [\"pTemplate\", \"footer\"], [2, \"width\", \"20%\"], [1, \"form-field-lable\"], [\"appendTo\", \"body\", \"formControlName\", \"requestedBy\", \"bindLabel\", \"name\", \"bindValue\", \"id\", \"placeholder\", \"Make a selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"searchable\"], [\"appendTo\", \"body\", \"formControlName\", \"reserveId\", \"bindLabel\", \"name\", \"bindValue\", \"id\", \"placeholder\", \"Make a selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"searchable\"], [\"appendTo\", \"body\", \"formControlName\", \"blId\", \"bindLabel\", \"blNameString\", \"bindValue\", \"blId\", \"placeholder\", \"Make a selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"searchable\", \"change\"], [\"appendTo\", \"body\", \"formControlName\", \"flId\", \"bindLabel\", \"flNameString\", \"bindValue\", \"flId\", \"placeholder\", \"Make a selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"searchable\", \"change\"], [\"appendTo\", \"body\", \"formControlName\", \"rmId\", \"bindLabel\", \"rmNameString\", \"bindValue\", \"rmId\", \"placeholder\", \"Make a selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"searchable\", \"change\"], [1, \"p-fluid\"], [1, \"p-field\"], [\"appendTo\", \"body\", \"dateFormat\", \"dd M yy\", \"name\", \"date\", \"formControlName\", \"dateStart\", \"inputId\", \"icon\", 3, \"showIcon\"], [\"appendTo\", \"body\", \"dateFormat\", \"dd M yy\", \"name\", \"date\", \"formControlName\", \"dateEnd\", \"inputId\", \"icon\", 3, \"showIcon\"], [\"appendTo\", \"body\", \"formControlName\", \"status\", \"bindLabel\", \"enumValue\", \"bindValue\", \"enumKey\", \"placeholder\", \"Make a selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"searchable\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Search\", 1, \"p-button-primary\", \"p-button-sm\", \"pull\", \"right\", \"search-button\", 3, \"disabled\", \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Clear\", 1, \"p-button-primary\", \"p-button-sm\", \"pull\", \"right\", \"clear-button\", 3, \"click\"], [4, \"ngIf\"], [1, \"form-field-lable\", 2, \"color\", \"red\"], [2, \"width\", \"25%\"], [2, \"width\", \"4rem\"], [\"pSortableColumn\", \"bookingType\"], [1, \"grid-header-column\"], [1, \"grid-header-label\"], [1, \"grid-label-paragraph\"], [1, \"grid-sort-icon\"], [\"field\", \"bookingType\"], [\"type\", \"text\", \"field\", \"bookingType\", \"display\", \"menu\"], [\"pSortableColumn\", \"reserveId\"], [\"field\", \"reserveId\"], [\"type\", \"numeric\", \"field\", \"reserveId\", \"display\", \"menu\"], [\"pSortableColumn\", \"blDataBlCode\"], [\"field\", \"blDataBlCode\"], [\"type\", \"text\", \"field\", \"blDataBlCode\", \"display\", \"menu\"], [\"pSortableColumn\", \"flDataFlCode\"], [\"field\", \"flDataFlCode\"], [\"type\", \"text\", \"field\", \"flDataFlCode\", \"display\", \"menu\"], [\"pSortableColumn\", \"rmDataRmCode\"], [\"field\", \"rmDataRmCode\"], [\"type\", \"text\", \"field\", \"rmDataRmCode\", \"display\", \"menu\"], [\"pSortableColumn\", \"dateStart\"], [\"field\", \"dateStart\"], [\"pSortableColumn\", \"timeStart\"], [\"field\", \"timeStart\"], [\"pSortableColumn\", \"timeEnd\"], [\"field\", \"timeEnd\"], [\"pSortableColumn\", \"status\"], [\"field\", \"status\"], [\"field\", \"status\", \"matchMode\", \"equals\", \"display\", \"menu\"], [\"pTemplate\", \"filter\"], [\"pSortableColumn\", \"meetingName\"], [\"field\", \"meetingName\"], [\"type\", \"text\", \"field\", \"meetingName\", \"display\", \"menu\"], [\"pSortableColumn\", \"requestedByUserUserName\"], [\"field\", \"requestedByUserUserName\"], [\"type\", \"text\", \"field\", \"requestedByUserUserName\", \"display\", \"menu\"], [\"optionLabel\", \"enumValue\", \"optionValue\", \"enumKey\", \"placeholder\", \"Select a Type\", 3, \"ngModel\", \"options\", \"showClear\", \"onChange\"], [3, \"pSelectableRow\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-cog\", 1, \"p-button-text\", 3, \"click\"], [\"appendTo\", \"body\", 3, \"popup\", \"model\"], [\"showMenu\", \"\"], [\"matTooltipPosition\", \"below\", 1, \"ellipsis\", 3, \"matTooltip\"], [1, \"d-flex\", \"flex-row\"], [2, \"display\", \"flex\", \"padding-left\", \"6px\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Save\", \"icon\", \"pi pi-check\", 1, \"p-button-primary\", \"p-button-sm\", 3, \"disabled\", \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Cancel\", 1, \"p-button-primary\", \"p-button-sm\", 2, \"margin-left\", \"8px\", 3, \"click\"], [2, \"margin-top\", \"20px !important\"], [2, \"display\", \"flex\", \"flex-direction\", \"column\"], [1, \"input-label-custom\", 2, \"margin-top\", \"10px\"], [1, \"form-field-lable\", 2, \"margin-left\", \"5px\"], [\"name\", \"edit\", \"value\", \"updateOne\", \"formControlName\", \"edit\"], [\"name\", \"edit\", \"value\", \"updateAll\", \"formControlName\", \"edit\"], [\"icon\", \"pi pi-times\", \"pButton\", \"\", \"label\", \"Close\", \"styleClass\", \"p-button-text\", 3, \"click\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-check\", \"label\", \"Ok\", 3, \"click\"]],\n      template: function EditBookingComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n          i0.ɵɵtemplate(2, EditBookingComponent_table_2_Template, 51, 22, \"table\", 2);\n          i0.ɵɵtemplate(3, EditBookingComponent_table_3_Template, 52, 22, \"table\", 2);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"p-panel\", 4)(6, \"div\", 0)(7, \"p-table\", 5, 6);\n          i0.ɵɵlistener(\"onFilter\", function EditBookingComponent_Template_p_table_onFilter_7_listener($event) {\n            return ctx.onInnerFilter($event);\n          });\n          i0.ɵɵtemplate(9, EditBookingComponent_ng_template_9_Template, 88, 0, \"ng-template\", 7);\n          i0.ɵɵtemplate(10, EditBookingComponent_ng_template_10_Template, 28, 18, \"ng-template\", 8);\n          i0.ɵɵtemplate(11, EditBookingComponent_ng_template_11_Template, 3, 1, \"ng-template\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 10)(13, \"p-paginator\", 11);\n          i0.ɵɵlistener(\"onPageChange\", function EditBookingComponent_Template_p_paginator_onPageChange_13_listener($event) {\n            return ctx.onPageChange($event);\n          });\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelement(14, \"p-toast\", 12)(15, \"p-confirmDialog\", 13);\n          i0.ɵɵelementStart(16, \"p-dialog\", 14);\n          i0.ɵɵlistener(\"visibleChange\", function EditBookingComponent_Template_p_dialog_visibleChange_16_listener($event) {\n            return ctx.displayCancelScreen = $event;\n          });\n          i0.ɵɵelementStart(17, \"form\", 1)(18, \"table\", 15)(19, \"tr\")(20, \"td\")(21, \"div\", 16)(22, \"label\", 17);\n          i0.ɵɵtext(23, \"Cancellation Reason\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(24, \"input\", 18);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵtemplate(25, EditBookingComponent_ng_template_25_Template, 4, 1, \"ng-template\", 19);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"p-dialog\", 20);\n          i0.ɵɵlistener(\"visibleChange\", function EditBookingComponent_Template_p_dialog_visibleChange_26_listener($event) {\n            return ctx.displayCancelRecurrence = $event;\n          });\n          i0.ɵɵtemplate(27, EditBookingComponent_ng_template_27_Template, 2, 0, \"ng-template\", 7);\n          i0.ɵɵtemplate(28, EditBookingComponent_ng_template_28_Template, 13, 1, \"ng-template\", 8);\n          i0.ɵɵtemplate(29, EditBookingComponent_ng_template_29_Template, 2, 0, \"ng-template\", 21);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.filterPanel);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.useTabletProtrait);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.useTabletProtrait);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"value\", ctx.reservationData)(\"paginator\", false)(\"tableStyle\", i0.ɵɵpureFunction0(27, _c0))(\"scrollable\", true);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"rows\", ctx.rowCount)(\"totalRecords\", ctx.totalElements)(\"first\", ctx.paginationObj.pageNo * ctx.paginationObj.pageSize)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(28, _c1));\n          i0.ɵɵadvance(3);\n          i0.ɵɵstyleMap(i0.ɵɵpureFunction0(29, _c2));\n          i0.ɵɵproperty(\"visible\", ctx.displayCancelScreen)(\"modal\", true)(\"maximizable\", true)(\"draggable\", false)(\"resizable\", false);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.cancelBook);\n          i0.ɵɵadvance(9);\n          i0.ɵɵstyleMap(i0.ɵɵpureFunction0(30, _c3));\n          i0.ɵɵproperty(\"visible\", ctx.displayCancelRecurrence)(\"closable\", false)(\"draggable\", false)(\"resizable\", false)(\"modal\", true);\n        }\n      },\n      dependencies: [i10.NgIf, i12.NgSelectComponent, i8.PrimeTemplate, i13.Table, i13.SortableColumn, i13.SelectableRow, i13.SortIcon, i13.ColumnFilter, i14.Calendar, i15.ButtonDirective, i16.Dialog, i17.Dropdown, i18.Toast, i19.Panel, i20.ConfirmDialog, i21.Menu, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.NgModel, i1.FormGroupDirective, i1.FormControlName, i22.TrimInputDirective, i23.RadioButton, i24.MatTooltip, i25.Paginator, i10.DatePipe],\n      styles: [\".card-container[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:row;align-items:stretch;box-shadow:1px 4px 4px 1px #0003;background-color:#f9fcfc;border-radius:5px;justify-content:start;overflow:hidden;height:120px;width:290px;min-width:0;min-height:100%;border:1px solid black;cursor:pointer}.card-img[_ngcontent-%COMP%]{border-radius:2px;height:100%;width:100%;overflow:hidden;min-width:0;min-height:0}.card-text-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#f9fcfc;width:55%;margin-left:5px;max-width:100%;overflow:hidden;min-width:0}i[_ngcontent-%COMP%]:hover{opacity:.5;animation:animation 1s 1 linear}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto auto auto;grid-gap:2px;padding-top:10px;min-width:0;max-width:300px}.image-container[_ngcontent-%COMP%]{width:41%;margin-right:5px}.heading[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.para[_ngcontent-%COMP%]{font-size:11px;margin-bottom:0;font-weight:500}[_nghost-%COMP%]     .p-dialog .p-dialog-header{background-color:#879cc9;color:#000;padding-left:10px;font-weight:400;margin-bottom:0;height:10px!important}[_nghost-%COMP%]     .p-confirm-dialog .p-dialog-header .p-dialog-content{align-items:center;background-color:#f9fcfc;display:flex;padding:10px}[_nghost-%COMP%]     .p-confirm-dialog .p-dialog-header{align-items:center;background-color:#f9fcfc}.rm-details-para[_ngcontent-%COMP%]{font-size:12px;font-weight:500;text-align:right;padding-top:0}.rm-details-para2[_ngcontent-%COMP%]{font-size:12px;font-weight:500;text-align:left;margin-left:5px;padding-top:0}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid rgb(232,226,226);font-size:14px}.row[_ngcontent-%COMP%]{margin-left:1px;margin-right:1px;background-color:#fff;background-clip:border-box;border-radius:.25rem}.column1[_ngcontent-%COMP%], .column2[_ngcontent-%COMP%]{float:left;width:50%;padding:10px}.sum-para[_ngcontent-%COMP%]{font-size:12px!important;font-weight:500!important;padding:0 0 0 3px!important;margin-bottom:1px}.sum-label[_ngcontent-%COMP%]{font-size:11px!important;font-weight:400!important;padding:0 0 0 3px!important;margin-top:-5px;margin-left:16px;font-family:Roboto}.avail-rooms[_ngcontent-%COMP%]{margin-left:28px;margin-top:5px;margin-bottom:0;font:400 15px/20px Roboto,Helvetica Neue,sans-serif}.room-card[_ngcontent-%COMP%]{min-height:63vh}.detailsHead[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0;font-weight:500}.detailsPara[_ngcontent-%COMP%]{font-size:13px!important;font-weight:400!important;padding:0 0 0 3px!important;margin-top:-5px;margin-left:16px;font-family:revert}.no-room-card[_ngcontent-%COMP%]{min-height:63vh;display:flex;justify-content:center;align-items:center}.no-avail-rooms[_ngcontent-%COMP%]{font:150 25px/30px Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;opacity:.4}.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]     .p-datatable-table{table-layout:fixed}.search-button[_ngcontent-%COMP%], .clear-button[_ngcontent-%COMP%]{width:60px;margin-left:5px;margin-top:14px}@media screen and (min-width: 600px) and (max-width: 959px){.search-button[_ngcontent-%COMP%]{width:auto;margin-top:14px}.clear-button[_ngcontent-%COMP%]{width:auto;margin-left:5px;margin-top:14px}}\"]\n    });\n  }\n  return EditBookingComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}