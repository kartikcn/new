{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { MessageService } from 'primeng/api';\nimport { UtilConstant } from 'src/common/UtilConstant';\nimport html2canvas from 'html2canvas';\nimport { BreakpointService } from 'src/app/services/breakpoint.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../background-loc/services/bl.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"../booking/services/booking.services\";\nimport * as i4 from \"primeng/api\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"ngx-spinner\";\nimport * as i7 from \"src/app/services/breakpoint.service\";\nimport * as i8 from \"primeng/accordion\";\nimport * as i9 from \"primeng/table\";\nimport * as i10 from \"primeng/calendar\";\nimport * as i11 from \"primeng/button\";\nimport * as i12 from \"primeng/dialog\";\nimport * as i13 from \"primeng/toast\";\nimport * as i14 from \"primeng/confirmdialog\";\nimport * as i15 from \"@ng-select/ng-select\";\nimport * as i16 from \"../space-allocation-statistics/widgets/space-allocation-room-list/space-allocation-room-list.component\";\nimport * as i17 from \"angular-google-charts\";\nimport * as i18 from \"./widgets/room-availibility-report-table/room-availibility-report-table.component\";\nconst _c0 = [\"content\"];\nfunction AllocationReportByBlFlComponent_table_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 11)(1, \"tr\")(2, \"td\", 12)(3, \"div\", 13)(4, \"label\", 14);\n    i0.ɵɵtext(5, \"Building \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ng-select\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\", 12)(8, \"div\", 13)(9, \"div\", 16)(10, \"label\", 17);\n    i0.ɵɵtext(11, \"Date From\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p-calendar\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocationReportByBlFlComponent_table_2_Template_p_calendar_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.checkDates($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"td\", 12)(14, \"div\", 13)(15, \"div\", 16)(16, \"label\", 17);\n    i0.ɵɵtext(17, \"Date To\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p-calendar\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocationReportByBlFlComponent_table_2_Template_p_calendar_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.checkDates($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(19, \"td\", 20)(20, \"div\", 13)(21, \"label\", 17);\n    i0.ɵɵtext(22, \"View By\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"ng-select\", 21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"td\", 12)(25, \"div\", 22)(26, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_2_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.onSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_2_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onClear());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_2_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.exportToPdf());\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r0.enumBL)(\"searchable\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"showIcon\", false)(\"readonlyInput\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"showIcon\", false)(\"readonlyInput\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r0.viewByData);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.filterPanel.valid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !(ctx_r0.showPieChart && ctx_r0.myPieData.length > 0));\n  }\n}\nfunction AllocationReportByBlFlComponent_table_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 11)(1, \"tr\")(2, \"td\", 26)(3, \"div\", 13)(4, \"label\", 14);\n    i0.ɵɵtext(5, \"Building \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ng-select\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\", 26)(8, \"div\", 13)(9, \"div\", 16)(10, \"label\", 17);\n    i0.ɵɵtext(11, \"Date From\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p-calendar\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocationReportByBlFlComponent_table_3_Template_p_calendar_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.checkDates($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"td\", 26)(14, \"div\", 13)(15, \"div\", 16)(16, \"label\", 17);\n    i0.ɵɵtext(17, \"Date To\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p-calendar\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocationReportByBlFlComponent_table_3_Template_p_calendar_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.checkDates($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(19, \"td\", 27)(20, \"div\", 13)(21, \"label\", 17);\n    i0.ɵɵtext(22, \"View By\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"ng-select\", 21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"tr\")(25, \"td\", 26)(26, \"div\", 28)(27, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_3_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.onSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_3_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.onClear());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"td\", 26)(30, \"div\", 28)(31, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_3_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.exportToPdf());\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.enumBL)(\"searchable\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"showIcon\", false)(\"readonlyInput\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"showIcon\", false)(\"readonlyInput\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r1.viewByData);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.filterPanel.valid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !(ctx_r1.showPieChart && ctx_r1.myPieData.length > 0));\n  }\n}\nfunction AllocationReportByBlFlComponent_table_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 11)(1, \"tr\")(2, \"td\", 26)(3, \"div\", 13)(4, \"label\", 14);\n    i0.ɵɵtext(5, \"Building \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ng-select\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"td\", 26)(8, \"div\", 13)(9, \"div\", 16)(10, \"label\", 17);\n    i0.ɵɵtext(11, \"Date From\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p-calendar\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocationReportByBlFlComponent_table_4_Template_p_calendar_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.checkDates($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(13, \"td\", 26)(14, \"div\", 13)(15, \"div\", 16)(16, \"label\", 17);\n    i0.ɵɵtext(17, \"Date To\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p-calendar\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function AllocationReportByBlFlComponent_table_4_Template_p_calendar_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.checkDates($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(19, \"td\", 27)(20, \"div\", 13)(21, \"label\", 17);\n    i0.ɵɵtext(22, \"View By\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"ng-select\", 21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"tr\")(25, \"td\", 26)(26, \"div\", 28)(27, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_4_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.onSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_4_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.onClear());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function AllocationReportByBlFlComponent_table_4_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.exportToPdf());\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r2.enumBL)(\"searchable\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"showIcon\", false)(\"readonlyInput\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"showIcon\", false)(\"readonlyInput\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r2.viewByData);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.filterPanel.valid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !(ctx_r2.showPieChart && ctx_r2.myPieData.length > 0));\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"th\", 40);\n    i0.ɵɵelementStart(2, \"th\", 41);\n    i0.ɵɵtext(3, \"Building Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\", 42);\n    i0.ɵɵtext(5, \"Building Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Area (sq.ft)\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 47);\n    i0.ɵɵelement(1, \"td\", 48);\n    i0.ɵɵelementStart(2, \"td\", 41);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 42);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const bl_r36 = ctx.$implicit;\n    i0.ɵɵproperty(\"pSelectableRow\", bl_r36);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(bl_r36.blCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(bl_r36.blName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(bl_r36.area.toFixed(2));\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\");\n    i0.ɵɵtext(2, \"Building Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Floor Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Area (sq.ft)\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 47)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const fl_r37 = ctx.$implicit;\n    i0.ɵɵproperty(\"pSelectableRow\", fl_r37);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fl_r37.blCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fl_r37.flCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fl_r37.totalArea ? fl_r37.totalArea : 0);\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" No records to display. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r35 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r35.selectedBuldingFloorData.length);\n  }\n}\nconst _c1 = function () {\n  return {\n    width: \"100%\"\n  };\n};\nconst _c2 = function (a0) {\n  return [a0];\n};\nfunction AllocationReportByBlFlComponent_div_5_p_accordionTab_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-accordionTab\")(1, \"p-header\", 43)(2, \"p-table\", 44);\n    i0.ɵɵlistener(\"onRowSelect\", function AllocationReportByBlFlComponent_div_5_p_accordionTab_9_Template_p_table_onRowSelect_2_listener($event) {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r39.onViewPieChartForBuilding($event));\n    });\n    i0.ɵɵtemplate(3, AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_3_Template, 8, 4, \"ng-template\", 6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\")(5, \"p-table\", 45);\n    i0.ɵɵlistener(\"onRowSelect\", function AllocationReportByBlFlComponent_div_5_p_accordionTab_9_Template_p_table_onRowSelect_5_listener($event) {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r41 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r41.onViewPieChartForFloor($event));\n    });\n    i0.ɵɵtemplate(6, AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_6_Template, 7, 0, \"ng-template\", 5);\n    i0.ɵɵtemplate(7, AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_7_Template, 7, 4, \"ng-template\", 6);\n    i0.ɵɵtemplate(8, AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_8_Template, 3, 1, \"ng-template\", 46);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const bl_r31 = ctx.$implicit;\n    const ctx_r29 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(9, _c1));\n    i0.ɵɵproperty(\"value\", i0.ɵɵpureFunction1(10, _c2, bl_r31))(\"resizableColumns\", false)(\"paginator\", false)(\"rowHover\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"value\", ctx_r29.selectedBuldingFloorData)(\"rowHover\", true)(\"rows\", ctx_r29.rowCount);\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_div_10_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r45 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 56)(1, \"google-chart\", 57);\n    i0.ɵɵlistener(\"select\", function AllocationReportByBlFlComponent_div_5_div_10_div_6_Template_google_chart_select_1_listener($event) {\n      i0.ɵɵrestoreView(_r45);\n      const ctx_r44 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r44.onSelectGooglePieChart($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r42 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", \"PieChart\")(\"data\", ctx_r42.myPieData)(\"width\", ctx_r42.width)(\"height\", ctx_r42.height)(\"options\", ctx_r42.myPieOptions);\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_div_10_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 58)(1, \"div\")(2, \"h1\");\n    i0.ɵɵtext(3, \"No data found\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"div\", 50)(2, \"div\", 51)(3, \"p\", 52);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"div\", 53);\n    i0.ɵɵtemplate(6, AllocationReportByBlFlComponent_div_5_div_10_div_6_Template, 2, 5, \"div\", 54);\n    i0.ɵɵtemplate(7, AllocationReportByBlFlComponent_div_5_div_10_div_7_Template, 4, 0, \"div\", 55);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r30.selectionMessage);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r30.myPieData.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(ctx_r30.myPieData.length > 0));\n  }\n}\nfunction AllocationReportByBlFlComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r47 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 32, 33)(3, \"div\", 34)(4, \"div\", 0)(5, \"p-table\", 35);\n    i0.ɵɵtemplate(6, AllocationReportByBlFlComponent_div_5_ng_template_6_Template, 8, 0, \"ng-template\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"p-accordion\", 36, 37);\n    i0.ɵɵlistener(\"onClose\", function AllocationReportByBlFlComponent_div_5_Template_p_accordion_onClose_7_listener($event) {\n      i0.ɵɵrestoreView(_r47);\n      const ctx_r46 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r46.onTabClose($event));\n    })(\"onOpen\", function AllocationReportByBlFlComponent_div_5_Template_p_accordion_onOpen_7_listener($event) {\n      i0.ɵɵrestoreView(_r47);\n      const ctx_r48 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r48.onTabOpen($event));\n    });\n    i0.ɵɵtemplate(9, AllocationReportByBlFlComponent_div_5_p_accordionTab_9_Template, 9, 12, \"p-accordionTab\", 38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, AllocationReportByBlFlComponent_div_5_div_10_Template, 8, 3, \"div\", 39);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"value\", ctx_r3.accordionBuilding);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.accordionBuilding);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.showPieChart);\n  }\n}\nfunction AllocationReportByBlFlComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\", 59);\n    i0.ɵɵtext(1, \"Room List\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AllocationReportByBlFlComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-space-allocation-room-list\", 60);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"data\", ctx_r5.roomData);\n  }\n}\nfunction AllocationReportByBlFlComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\", 59);\n    i0.ɵɵtext(1, \"Room List\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AllocationReportByBlFlComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-room-availibility-report-table\", 60);\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"data\", ctx_r7.allroomavailablespaceData);\n  }\n}\nconst _c3 = function () {\n  return {\n    width: \"75vw\"\n  };\n};\nconst _c4 = function () {\n  return {\n    width: \"66vw\"\n  };\n};\nexport class AllocationReportByBlFlComponent {\n  constructor(blServ, formBuilder, cdr, bookingSrv, messageService, datePipe, spinner, bps) {\n    this.blServ = blServ;\n    this.formBuilder = formBuilder;\n    this.cdr = cdr;\n    this.bookingSrv = bookingSrv;\n    this.messageService = messageService;\n    this.datePipe = datePipe;\n    this.spinner = spinner;\n    this.bps = bps;\n    this.rowCount = UtilConstant.ROW_COUNT;\n    this.enumBL = [];\n    this.allfloorData = [];\n    this.accordionBuilding = [];\n    this.selectedBuldingFloorData = [];\n    this.showPieChart = false;\n    this.selectedAllocationData = [];\n    this.showblflaccordion = false;\n    this.roomData = [];\n    this.allroomavailablespaceData = [];\n    this.selectedBlId = null;\n    this.selectedFlId = null;\n    this.selectedBlCode = \"\";\n    this.selectedFlCode = \"\";\n    this.showAllocatedPopup = false;\n    this.chartImg = [];\n    this.divisionData = [];\n    this.departmentData = [];\n    this.showAllRoomsAvailableSpacePopup = false;\n    this.viewByData = [{\n      \"id\": 0,\n      \"lable\": \"Division\",\n      \"value\": \"div_id\"\n    }, {\n      \"id\": 1,\n      \"lable\": \"Department\",\n      \"value\": \"dep_id\"\n    }, {\n      \"id\": 2,\n      \"lable\": \"Sub Department\",\n      \"value\": \"sub_dep_id\"\n    }];\n    this.width = 850;\n    this.height = 550;\n    this.myPieData = [];\n    this.selectionMessage = '';\n    this.monthStart = new Date(new Date().getFullYear(), new Date().getMonth(), 1);\n    this.monthEnd = new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0);\n    this.myPieOptions = {\n      sliceVisibilityThreshold: 0,\n      legend: {\n        textStyle: {\n          fontName: \"Segoe UI\"\n        }\n      }\n    };\n    this.useTabletProtrait = false;\n    this.useTabletLandscape = false;\n    this.filterPanel = this.formBuilder.group({\n      blId: [null],\n      dateFrom: [null, [Validators.required]],\n      dateTo: [null, [Validators.required]],\n      viewBy: [null, [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    this.bps.register(this);\n    this.loadAllBuildingwithArea();\n    this.loadFloorwithArea();\n    this.filterPanel.patchValue({\n      dateFrom: this.monthStart,\n      dateTo: this.monthEnd\n    });\n  }\n  notify() {\n    this.useTabletProtrait = BreakpointService.useTabletProtrait;\n    this.useTabletLandscape = BreakpointService.useTabletLandscape;\n    this.updatePieChartView();\n  }\n  loadAllBuildingwithArea() {\n    this.blServ.getallbuildingwitharea().subscribe(res => {\n      this.enumBL = res.map(each => {\n        if (each.blName != null && each.blName != '') {\n          each.bindlabel = `${each.blCode} - ${each.blName}`;\n        } else {\n          each.bindlabel = `${each.blCode}`;\n        }\n        return each;\n      });\n      this.accordionBuilding = [...this.enumBL];\n      this.enumBL.unshift({\n        blId: null,\n        bindlabel: 'Make a selection'\n      });\n    });\n  }\n  loadFloorwithArea() {\n    this.blServ.getallfloorwitharea().subscribe(res => {\n      this.allfloorData = res;\n    });\n  }\n  onSearch() {\n    this.accordionBuilding = [];\n    this.showblflaccordion = false;\n    this.showPieChart = false;\n    this.cdr.detectChanges();\n    this.selectedBlId = null;\n    this.selectedFlId = null;\n    this.selectionMessage = '';\n    let blId = this.filterPanel.controls.blId.value;\n    if (blId != null) {\n      this.accordionBuilding = this.enumBL.filter(each => each.blId == blId);\n    } else {\n      let filterData = this.enumBL.filter(each => each.blId != null);\n      this.accordionBuilding = [...filterData];\n    }\n    this.showblflaccordion = true;\n    this.cdr.detectChanges();\n  }\n  onClear() {\n    this.filterPanel.patchValue({\n      blId: null,\n      dateFrom: this.monthStart,\n      dateTo: this.monthEnd,\n      viewBy: null\n    });\n    this.selectedBuldingFloorData = [];\n    this.showPieChart = false;\n    this.selectedAllocationData = [];\n    this.showblflaccordion = false;\n    this.roomData = [];\n    this.allroomavailablespaceData = [];\n    this.selectedBlId = null;\n    this.selectedFlId = null;\n    this.selectedBlCode = \"\";\n    this.selectedFlCode = \"\";\n    this.showAllocatedPopup = false;\n    this.chartImg = [];\n    this.showAllRoomsAvailableSpacePopup = false;\n    this.myPieData = [];\n    this.selectionMessage = '';\n  }\n  onTabClose(event) {}\n  onTabOpen(event) {\n    this.selectedBuldingFloorData = [];\n    let selectedTab = this.accordionBuilding[event.index];\n    this.selectedBuldingFloorData = this.allfloorData.filter(each => each.blId == selectedTab.blId);\n  }\n  onViewPieChartForBuilding(event) {\n    this.onViewPieChartForFloor(event);\n  }\n  onViewPieChartForFloor(event) {\n    this.selectedBlId = event.data.blId;\n    this.selectedFlId = event.data.flId;\n    this.selectedBlCode = event.data.blCode;\n    this.selectedFlCode = event.data.flCode;\n    this.showPieChart = false;\n    let data = {\n      dateFrom: this.datePipe.transform(this.filterPanel.controls.dateFrom.value, \"yyyy-MM-dd\"),\n      dateTo: this.datePipe.transform(this.filterPanel.controls.dateTo.value, \"yyyy-MM-dd\"),\n      blId: event.data.blId,\n      flId: event.data.flId,\n      divId: null,\n      depId: null,\n      viewBy: this.filterPanel.controls.viewBy.value\n    };\n    this.blServ.getspaceallocationreportbyblfldivdep(data).subscribe(res => {\n      this.selectedAllocationData = res;\n      const flCodeSuffix = this.selectedFlCode ? `- ${this.selectedFlCode}` : '';\n      this.selectionMessage = `Allocation for ${this.selectedBlCode} ${flCodeSuffix} by ${this.getViewByLabelFromValue(this.filterPanel.controls.viewBy.value)}`;\n      this.generatePieChartData();\n      this.showPieChart = true;\n    });\n  }\n  generatePieChartData() {\n    const angularpiechartdata = [];\n    Object.values(this.selectedAllocationData).forEach((each, index) => {\n      if (each.allocatedArea > 0) {\n        let chartdata = [each.name, each.allocatedArea];\n        angularpiechartdata.push(chartdata);\n      }\n    });\n    this.myPieData = angularpiechartdata;\n    this.cdr.detectChanges();\n  }\n  checkDates(control) {\n    if (control !== undefined && control != null) {\n      this.filterPanel.controls['dateTo'].setErrors(null);\n      this.filterPanel.clearAsyncValidators();\n      this.filterPanel.updateValueAndValidity();\n      let dateFrom = this.formatDate(this.filterPanel.controls.dateFrom.value);\n      let dateTo = this.formatDate(this.filterPanel.controls.dateTo.value);\n      if (dateFrom != null && dateTo != null) {\n        if (dateTo <= dateFrom) {\n          this.filterPanel.controls['dateTo'].setErrors({\n            'incorrect': true\n          });\n          this.filterPanel.updateValueAndValidity();\n          return {\n            'incorrect': true\n          };\n        } else {\n          return null;\n        }\n      } else {\n        this.filterPanel.controls['dateTo'].setErrors({\n          'isnull': true\n        });\n        this.filterPanel.updateValueAndValidity();\n        return null;\n      }\n    }\n    return null;\n  }\n  formatDate(date) {\n    if (date != null) {\n      var d = new Date(date);\n      return d;\n    } else {\n      return null;\n    }\n  }\n  exportToPdf() {\n    if (this.contentElement) {\n      this.spinner.show();\n      const divElement = this.contentElement.nativeElement;\n      html2canvas(divElement).then(canvas => {\n        const imgData = canvas.toDataURL('image/png');\n        this.chartImg = [];\n        this.chartImg.push(imgData);\n        this.printPDF();\n        this.spinner.hide();\n      });\n    }\n  }\n  printPDF() {\n    this.messageService.clear();\n    let headerstring = this.getSelectedBlandFlHeader();\n    let titlestring = \"\";\n    if (this.filterPanel.controls.viewBy.value == \"div_id\") {\n      titlestring = \"Division\";\n    } else if (this.filterPanel.controls.viewBy.value == \"dep_id\") {\n      titlestring = \"Department\";\n    } else if (this.filterPanel.controls.viewBy.value == \"sub_dep_id\") {\n      titlestring = \"Sub Department\";\n    }\n    var reportDetails = {\n      chartImg: this.chartImg,\n      title: `Allocation by ${titlestring}`,\n      heading: headerstring\n    };\n    this.bookingSrv.printPdf(reportDetails).subscribe(res => {\n      if (res != null) {\n        this.messageService.add({\n          key: 'highlightblflmsg',\n          severity: 'success',\n          summary: 'PDF Created',\n          detail: 'PDF created successfully'\n        });\n        var file = new Blob([res], {\n          type: 'application/pdf'\n        });\n        var fileURL = URL.createObjectURL(file);\n        window.open(fileURL);\n      }\n    });\n  }\n  getSelectedBlandFlHeader() {\n    let resultstring = '';\n    if (this.selectedBlCode != '') {\n      resultstring += `Building: ${this.selectedBlCode}`;\n    }\n    if (this.selectedFlCode != '') {\n      resultstring += ` | Floor: ${this.selectedFlCode}`;\n    }\n    return resultstring;\n  }\n  onSelectGooglePieChart(event) {\n    this.roomData = [];\n    this.showAllocatedPopup = false;\n    this.allroomavailablespaceData = [];\n    this.showAllRoomsAvailableSpacePopup = false;\n    let rowvalue = event.selection[0].row;\n    let selectedvalue = this.myPieData[rowvalue][0];\n    let viewBy = this.filterPanel.controls.viewBy.value;\n    let allocatiofilter = {\n      blId: this.selectedBlId,\n      flId: this.selectedFlId,\n      divId: null,\n      depId: null,\n      subDepId: null,\n      dateFrom: this.datePipe.transform(this.filterPanel.controls.dateFrom.value, \"yyyy-MM-dd\"),\n      dateTo: this.datePipe.transform(this.filterPanel.controls.dateTo.value, \"yyyy-MM-dd\"),\n      viewBy: ''\n    };\n    if (selectedvalue != 'Available Area') {\n      if (viewBy == 'div_id') {\n        allocatiofilter.divId = this.searchInDivDepData(selectedvalue, null, null).divId;\n      } else if (viewBy == 'dep_id') {\n        let parts = selectedvalue.split('-');\n        let searchResultObj = this.searchInDivDepData(parts[0], parts[1], null);\n        allocatiofilter.divId = searchResultObj.divId;\n        allocatiofilter.depId = searchResultObj.depId;\n      } else if (viewBy == 'sub_dep_id') {\n        let parts = selectedvalue.split('-');\n        let searchResultObj = this.searchInDivDepData(parts[0], parts[1], parts[2]);\n        allocatiofilter.divId = searchResultObj.divId;\n        allocatiofilter.depId = searchResultObj.depId;\n        allocatiofilter.subDepId = searchResultObj.subDepId;\n      }\n      this.blServ.getspaceallocationstaticticsroomdata(allocatiofilter).subscribe(res => {\n        if (res) {\n          this.roomData = res;\n          this.showAllocatedPopup = true;\n        }\n      });\n    } else if (selectedvalue == 'Available Area') {\n      this.blServ.getroomspaceavailibilitydetails(allocatiofilter).subscribe(res => {\n        this.allroomavailablespaceData = res;\n        this.showAllRoomsAvailableSpacePopup = true;\n      });\n    }\n  }\n  getViewByLabelFromValue(val) {\n    let selectedViewBy = this.viewByData.find(each => each.value == val);\n    return selectedViewBy.lable;\n  }\n  searchInDivDepData(divCode, depCode, subDepCode) {\n    let returnData = {\n      divId: null,\n      depId: null,\n      subDepId: null\n    };\n    returnData.divId = this.selectedAllocationData.find(each => each.divCode == divCode)?.divId;\n    if (depCode != null) {\n      returnData.depId = this.selectedAllocationData.find(each => each.depCode == depCode && each.divCode == divCode)?.depId;\n    }\n    if (subDepCode != null) {\n      returnData.subDepId = this.selectedAllocationData.find(each => each.subDepCode == subDepCode && each.depCode == depCode && each.divCode == divCode)?.subDepId;\n    }\n    return returnData;\n  }\n  updatePieChartView() {\n    this.setMyPieOptions();\n    if (this.useTabletProtrait) {\n      this.width = 400;\n      this.height = 400;\n    } else if (this.useTabletLandscape) {\n      this.width = 700;\n      this.height = 400;\n    } else {\n      this.width = 850;\n      this.height = 550;\n    }\n  }\n  setMyPieOptions() {\n    if (this.useTabletProtrait) {\n      this.myPieOptions = {\n        sliceVisibilityThreshold: 0,\n        // @ts-ignore\n        legend: {\n          textStyle: {\n            fontName: \"Segoe UI\"\n          },\n          position: 'bottom',\n          alignment: 'center',\n          orientation: 'vertical'\n        }\n      };\n    } else {\n      this.myPieOptions = {\n        sliceVisibilityThreshold: 0,\n        legend: {\n          textStyle: {\n            fontName: \"Segoe UI\"\n          }\n        }\n      };\n    }\n  }\n  ngOnDestroy() {\n    this.bps.unregister(this);\n  }\n  static #_ = this.ɵfac = function AllocationReportByBlFlComponent_Factory(t) {\n    return new (t || AllocationReportByBlFlComponent)(i0.ɵɵdirectiveInject(i1.BuildingService), i0.ɵɵdirectiveInject(i2.UntypedFormBuilder), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i3.BookingService), i0.ɵɵdirectiveInject(i4.MessageService), i0.ɵɵdirectiveInject(i5.DatePipe), i0.ɵɵdirectiveInject(i6.NgxSpinnerService), i0.ɵɵdirectiveInject(i7.BreakpointService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AllocationReportByBlFlComponent,\n    selectors: [[\"app-allocation-report-by-bl-fl\"]],\n    viewQuery: function AllocationReportByBlFlComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.contentElement = _t.first);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([MessageService])],\n    decls: 17,\n    vars: 22,\n    consts: [[1, \"card\"], [3, \"formGroup\"], [\"width\", \"100%\", 4, \"ngIf\"], [\"class\", \"card\", 4, \"ngIf\"], [\"styleClass\", \"dark-panel\", \"id\", \"preview\", 3, \"visible\", \"modal\", \"maximizable\", \"draggable\", \"resizable\", \"visibleChange\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"key\", \"highlightblflmsg\", \"position\", \"top-center\"], [\"key\", \"highlightblflgrid\", \"header\", \"Confirmation\", \"icon\", \"pi pi-exclamation-triangle\"], [\"bdColor\", \"rgba(0, 0, 0, 0.8)\", \"size\", \"medium\", \"color\", \"#879cc9\", \"type\", \"ball-spin-clockwise\", 1, \"spinner-color\", 3, \"fullScreen\"], [2, \"color\", \"white\"], [\"width\", \"100%\"], [2, \"width\", \"20%\"], [1, \"input-label-custom\"], [1, \"form-field-lable\"], [\"appendTo\", \"body\", \"formControlName\", \"blId\", \"bindLabel\", \"bindlabel\", \"bindValue\", \"blId\", \"placeholder\", \"Make a selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"searchable\"], [1, \"p-fluid\", \"p-field\"], [1, \"form-field-lable\", \"control-label\"], [\"appendTo\", \"body\", \"dateFormat\", \"dd M yy\", \"name\", \"date\", \"formControlName\", \"dateFrom\", \"inputId\", \"icon\", 3, \"showIcon\", \"readonlyInput\", \"ngModelChange\"], [\"appendTo\", \"body\", \"dateFormat\", \"dd M yy\", \"name\", \"date\", \"formControlName\", \"dateTo\", \"inputId\", \"icon\", 3, \"showIcon\", \"readonlyInput\", \"ngModelChange\"], [\"width\", \"20%\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"formControlName\", \"viewBy\", \"bindLabel\", \"lable\", \"bindValue\", \"value\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"searchable\", \"items\"], [2, \"margin\", \"5px 0 0 5px\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Search\", 1, \"p-button-primary\", \"p-button-sm\", \"pull\", \"right\", 2, \"width\", \"60px\", \"margin-left\", \"5px\", 3, \"disabled\", \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Clear\", 1, \"p-button-primary\", \"p-button-sm\", \"pull\", \"right\", 2, \"width\", \"60px\", \"margin-left\", \"5px\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Export\", \"icon\", \"pi pi-file-pdf\", 1, \"p-button-primary\", \"p-button-sm\", \"pull\", \"right\", 2, \"width\", \"70px\", \"margin-left\", \"5px\", 3, \"disabled\", \"click\"], [2, \"width\", \"25%\"], [\"width\", \"25%\"], [2, \"margin\", \"5px 0 5px 5px\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Search\", 1, \"p-button-primary\", 2, \"width\", \"60px\", \"margin-left\", \"5px\", 3, \"disabled\", \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Clear\", 1, \"p-button-primary\", 2, \"width\", \"60px\", \"margin-left\", \"5px\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Export\", \"icon\", \"pi pi-file-pdf\", 1, \"p-button-primary\", 2, \"width\", \"70px\", \"margin-left\", \"5px\", 3, \"disabled\", \"click\"], [2, \"display\", \"flex\", \"flex-direction\", \"row\", \"justify-content\", \"space-between\", \"height\", \"610px\"], [\"content\", \"\"], [1, \"floor-select-container\"], [3, \"value\"], [1, \"accordion\", 3, \"onClose\", \"onOpen\"], [\"accordion\", \"\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"card pie-chart-container\", \"style\", \"display: flex; flex-direction: column;\", 4, \"ngIf\"], [2, \"width\", \"4rem\"], [2, \"width\", \"8rem\"], [2, \"width\", \"9rem\"], [2, \"width\", \"100%\"], [\"selectionMode\", \"single\", 3, \"value\", \"resizableColumns\", \"paginator\", \"rowHover\", \"onRowSelect\"], [\"selectionMode\", \"single\", 3, \"value\", \"rowHover\", \"rows\", \"onRowSelect\"], [\"pTemplate\", \"emptymessage\"], [3, \"pSelectableRow\"], [2, \"width\", \"1.7rem\"], [1, \"card\", \"pie-chart-container\", 2, \"display\", \"flex\", \"flex-direction\", \"column\"], [1, \"card\", 2, \"height\", \"7vh\", \"display\", \"flex\", \"justify-content\", \"center\", \"align-items\", \"flex-start\", \"margin\", \"5px\"], [2, \"height\", \"24px\", \"margin-left\", \"10px\"], [1, \"selectionmessagetext\"], [1, \"card\", 2, \"height\", \"100%\", \"margin\", \"0 5px 5px 5px\", \"overflow-x\", \"auto\"], [\"style\", \"margin:auto 10px auto 10px;\", 4, \"ngIf\"], [\"style\", \"height:100%; display:flex;justify-content: center;align-items: center;\", 4, \"ngIf\"], [2, \"margin\", \"auto 10px auto 10px\"], [3, \"type\", \"data\", \"width\", \"height\", \"options\", \"select\"], [2, \"height\", \"100%\", \"display\", \"flex\", \"justify-content\", \"center\", \"align-items\", \"center\"], [2, \"margin\", \"0px\"], [3, \"data\"]],\n    template: function AllocationReportByBlFlComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵtemplate(2, AllocationReportByBlFlComponent_table_2_Template, 29, 12, \"table\", 2);\n        i0.ɵɵtemplate(3, AllocationReportByBlFlComponent_table_3_Template, 32, 12, \"table\", 2);\n        i0.ɵɵtemplate(4, AllocationReportByBlFlComponent_table_4_Template, 30, 12, \"table\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(5, AllocationReportByBlFlComponent_div_5_Template, 11, 3, \"div\", 3);\n        i0.ɵɵelementStart(6, \"p-dialog\", 4);\n        i0.ɵɵlistener(\"visibleChange\", function AllocationReportByBlFlComponent_Template_p_dialog_visibleChange_6_listener($event) {\n          return ctx.showAllocatedPopup = $event;\n        });\n        i0.ɵɵtemplate(7, AllocationReportByBlFlComponent_ng_template_7_Template, 2, 0, \"ng-template\", 5);\n        i0.ɵɵtemplate(8, AllocationReportByBlFlComponent_ng_template_8_Template, 1, 1, \"ng-template\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p-dialog\", 4);\n        i0.ɵɵlistener(\"visibleChange\", function AllocationReportByBlFlComponent_Template_p_dialog_visibleChange_9_listener($event) {\n          return ctx.showAllRoomsAvailableSpacePopup = $event;\n        });\n        i0.ɵɵtemplate(10, AllocationReportByBlFlComponent_ng_template_10_Template, 2, 0, \"ng-template\", 5);\n        i0.ɵɵtemplate(11, AllocationReportByBlFlComponent_ng_template_11_Template, 1, 1, \"ng-template\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"p-toast\", 7)(13, \"p-confirmDialog\", 8);\n        i0.ɵɵelementStart(14, \"ngx-spinner\", 9)(15, \"p\", 10);\n        i0.ɵɵtext(16, \" Loading... \");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.filterPanel);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.useTabletProtrait || ctx.useTabletLandscape));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.useTabletProtrait);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.useTabletLandscape);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showblflaccordion);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(20, _c3));\n        i0.ɵɵproperty(\"visible\", ctx.showAllocatedPopup)(\"modal\", true)(\"maximizable\", true)(\"draggable\", false)(\"resizable\", false);\n        i0.ɵɵadvance(3);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(21, _c4));\n        i0.ɵɵproperty(\"visible\", ctx.showAllRoomsAvailableSpacePopup)(\"modal\", true)(\"maximizable\", true)(\"draggable\", false)(\"resizable\", false);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"fullScreen\", true);\n      }\n    },\n    dependencies: [i5.NgForOf, i5.NgIf, i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i8.Accordion, i8.AccordionTab, i4.Header, i4.PrimeTemplate, i9.Table, i9.SelectableRow, i10.Calendar, i11.ButtonDirective, i12.Dialog, i13.Toast, i14.ConfirmDialog, i15.NgSelectComponent, i6.NgxSpinnerComponent, i16.SpaceAllocationRoomListComponent, i17.GoogleChartComponent, i18.RoomAvailibilityReportTableComponent],\n    styles: [\"@charset \\\"UTF-8\\\";\\n[_nghost-%COMP%]    .ngx-charts-outer {\\n  animation: chartFadeIn linear 0 !important;\\n}\\n\\n[_nghost-%COMP%]     #preview .p-dialog .p-dialog-header {\\n  padding: 0.7rem !important;\\n}\\n\\n[_nghost-%COMP%]     #preview .p-dialog .p-dialog-content {\\n  padding: 0.25rem !important;\\n}\\n\\n[_nghost-%COMP%]     .dark-panel.p-dialog .p-dialog-header {\\n  border: 5px !important;\\n}\\n\\n[_nghost-%COMP%]     .p-dialog-mask {\\n  z-index: 1000 !important;\\n}\\n\\n[_nghost-%COMP%]     .pi-chevron-down:before {\\n  content: \\\"\\u2212\\\" !important;\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  color: #0d89ec;\\n}\\n\\n[_nghost-%COMP%]     .pi-chevron-right:before {\\n  content: \\\"+\\\" !important;\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  color: #0d89ec;\\n}\\n\\n[_nghost-%COMP%]     .p-datatable .p-datatable-tbody > tr {\\n  background: none !important;\\n}\\n\\n[_nghost-%COMP%]     .p-datatable .p-datatable-tbody > tr.p-highlight {\\n  background: none !important;\\n}\\n\\n.selectionmessagetext[_ngcontent-%COMP%] {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";\\n  font-size: 1.3rem;\\n  font-weight: normal;\\n}\\n\\n.floor-select-container[_ngcontent-%COMP%] {\\n  width: 28%;\\n  height: 100%;\\n}\\n\\n.pie-chart-container[_ngcontent-%COMP%] {\\n  width: 70%;\\n  height: 100%;\\n}\\n\\n@media screen and (min-width: 600px) and (max-width: 959px) {\\n  .floor-select-container[_ngcontent-%COMP%] {\\n    width: 35%;\\n  }\\n  .pie-chart-container[_ngcontent-%COMP%] {\\n    width: 64%;\\n  }\\n  .selectionmessagetext[_ngcontent-%COMP%] {\\n    font-size: 1.1rem;\\n  }\\n}\\n.accordion[_ngcontent-%COMP%] {\\n  height: 550px;\\n  display: block;\\n  overflow-y: scroll;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvYWxsb2NhdGlvbi1yZXBvcnQtYnktYmwtZmwvYWxsb2NhdGlvbi1yZXBvcnQtYnktYmwtZmwuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FBQ2hCO0VBRUksMENBQUE7QUFDSjs7QUFFQTtFQUNJLDBCQUFBO0FBQ0o7O0FBRUE7RUFDRywyQkFBQTtBQUNIOztBQUVBO0VBQ0ksc0JBQUE7QUFDSjs7QUFFQTtFQUNJLHdCQUFBO0FBQ0o7O0FBRUE7RUFDSSx1QkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBRUU7RUFDRSx1QkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBQ0o7O0FBRUU7RUFDRSwyQkFBQTtBQUNKOztBQUVFO0VBQ0UsMkJBQUE7QUFDSjs7QUFFRTtFQUNFLDBKQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQUNKOztBQUNFO0VBQ0UsVUFBQTtFQUNBLFlBQUE7QUFFSjs7QUFBRTtFQUNFLFVBQUE7RUFDQSxZQUFBO0FBR0o7O0FBQUU7RUFDRTtJQUNFLFVBQUE7RUFHSjtFQURFO0lBQ0UsVUFBQTtFQUdKO0VBREU7SUFDRSxpQkFBQTtFQUdKO0FBQ0Y7QUFBRTtFQUNFLGFBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7QUFFSiIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy9zcmMvc2Nzcy92YXJpYWJsZXMnO1xuOmhvc3QgOjpuZy1kZWVwLm5neC1jaGFydHMtb3V0ZXJ7XG4gICAgLXdlYmtpdC1hbmltYXRpb246Y2hhcnRGYWRlSW4gbGluZWFyIDAgIWltcG9ydGFudDtcbiAgICBhbmltYXRpb246Y2hhcnRGYWRlSW4gbGluZWFyIDAgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwICNwcmV2aWV3IC5wLWRpYWxvZyAucC1kaWFsb2ctaGVhZGVyIHtcbiAgICBwYWRkaW5nOiAwLjdyZW0gIWltcG9ydGFudDtcbn1cbiAgICBcbjpob3N0IDo6bmctZGVlcCAjcHJldmlldyAucC1kaWFsb2cgLnAtZGlhbG9nLWNvbnRlbnQge1xuICAgcGFkZGluZzowLjI1cmVtICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAuZGFyay1wYW5lbC5wLWRpYWxvZyAucC1kaWFsb2ctaGVhZGVye1xuICAgIGJvcmRlciA6NXB4ICFpbXBvcnRhbnQ7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucC1kaWFsb2ctbWFza3tcbiAgICB6LWluZGV4OjEwMDAgIWltcG9ydGFudDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIC5waS1jaGV2cm9uLWRvd246YmVmb3JlIHtcbiAgICBjb250ZW50OiBcIlxcMjIxMlwiICFpbXBvcnRhbnQ7XG4gICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgY29sb3I6ICMwZDg5ZWM7XG4gIH1cbiAgXG4gIDpob3N0IDo6bmctZGVlcCAucGktY2hldnJvbi1yaWdodDpiZWZvcmUge1xuICAgIGNvbnRlbnQ6IFwiXFwwMDJCXCIgIWltcG9ydGFudDtcbiAgICBmb250LXNpemU6IDEuNXJlbTtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBjb2xvcjogIzBkODllYztcbiAgfVxuXG4gIDpob3N0IDo6bmctZGVlcCAucC1kYXRhdGFibGUgLnAtZGF0YXRhYmxlLXRib2R5ID4gdHJ7XG4gICAgYmFja2dyb3VuZDogbm9uZSAhaW1wb3J0YW50O1xuICB9XG5cbiAgOmhvc3QgOjpuZy1kZWVwIC5wLWRhdGF0YWJsZSAucC1kYXRhdGFibGUtdGJvZHkgPiB0ci5wLWhpZ2hsaWdodHtcbiAgICBiYWNrZ3JvdW5kOiBub25lICFpbXBvcnRhbnQ7XG4gIH1cblxuICAuc2VsZWN0aW9ubWVzc2FnZXRleHR7XG4gICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBSb2JvdG8sIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIFwiQXBwbGUgQ29sb3IgRW1vamlcIiwgXCJTZWdvZSBVSSBFbW9qaVwiLCBcIlNlZ29lIFVJIFN5bWJvbFwiO1xuICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gIH1cbiAgLmZsb29yLXNlbGVjdC1jb250YWluZXJ7XG4gICAgd2lkdGg6MjglO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuICAucGllLWNoYXJ0LWNvbnRhaW5lcntcbiAgICB3aWR0aDo3MCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogJHRhYmxldFBvdHJhaXRNaW5XaWR0aCkgYW5kIChtYXgtd2lkdGg6JHRhYmxldFBvdHJhaXRNYXhXaWR0aCApIHtcbiAgICAuZmxvb3Itc2VsZWN0LWNvbnRhaW5lcntcbiAgICAgIHdpZHRoOjM1JTtcbiAgICB9XG4gICAgLnBpZS1jaGFydC1jb250YWluZXJ7XG4gICAgICB3aWR0aDo2NCU7XG4gICAgfVxuICAgIC5zZWxlY3Rpb25tZXNzYWdldGV4dHtcbiAgICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xuICAgIH1cbiAgfVxuXG4gIC5hY2NvcmRpb257XG4gICAgaGVpZ2h0OjU1MHB4O1xuICAgIGRpc3BsYXk6IGJsb2NrOyBcbiAgICBvdmVyZmxvdy15OnNjcm9sbDtcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["Validators","MessageService","UtilConstant","html2canvas","BreakpointService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AllocationReportByBlFlComponent_table_2_Template_p_calendar_ngModelChange_12_listener","$event","ɵɵrestoreView","_r9","ctx_r8","ɵɵnextContext","ɵɵresetView","checkDates","AllocationReportByBlFlComponent_table_2_Template_p_calendar_ngModelChange_18_listener","ctx_r10","AllocationReportByBlFlComponent_table_2_Template_button_click_26_listener","ctx_r11","onSearch","AllocationReportByBlFlComponent_table_2_Template_button_click_27_listener","ctx_r12","onClear","AllocationReportByBlFlComponent_table_2_Template_button_click_28_listener","ctx_r13","exportToPdf","ɵɵadvance","ɵɵproperty","ctx_r0","enumBL","viewByData","filterPanel","valid","showPieChart","myPieData","length","AllocationReportByBlFlComponent_table_3_Template_p_calendar_ngModelChange_12_listener","_r15","ctx_r14","AllocationReportByBlFlComponent_table_3_Template_p_calendar_ngModelChange_18_listener","ctx_r16","AllocationReportByBlFlComponent_table_3_Template_button_click_27_listener","ctx_r17","AllocationReportByBlFlComponent_table_3_Template_button_click_28_listener","ctx_r18","AllocationReportByBlFlComponent_table_3_Template_button_click_31_listener","ctx_r19","ctx_r1","AllocationReportByBlFlComponent_table_4_Template_p_calendar_ngModelChange_12_listener","_r21","ctx_r20","AllocationReportByBlFlComponent_table_4_Template_p_calendar_ngModelChange_18_listener","ctx_r22","AllocationReportByBlFlComponent_table_4_Template_button_click_27_listener","ctx_r23","AllocationReportByBlFlComponent_table_4_Template_button_click_28_listener","ctx_r24","AllocationReportByBlFlComponent_table_4_Template_button_click_29_listener","ctx_r25","ctx_r2","bl_r36","ɵɵtextInterpolate","blCode","blName","area","toFixed","fl_r37","flCode","totalArea","ɵɵattribute","ctx_r35","selectedBuldingFloorData","AllocationReportByBlFlComponent_div_5_p_accordionTab_9_Template_p_table_onRowSelect_2_listener","_r40","ctx_r39","onViewPieChartForBuilding","ɵɵtemplate","AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_3_Template","AllocationReportByBlFlComponent_div_5_p_accordionTab_9_Template_p_table_onRowSelect_5_listener","ctx_r41","onViewPieChartForFloor","AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_6_Template","AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_7_Template","AllocationReportByBlFlComponent_div_5_p_accordionTab_9_ng_template_8_Template","ɵɵstyleMap","ɵɵpureFunction0","_c1","ɵɵpureFunction1","_c2","bl_r31","ctx_r29","rowCount","AllocationReportByBlFlComponent_div_5_div_10_div_6_Template_google_chart_select_1_listener","_r45","ctx_r44","onSelectGooglePieChart","ctx_r42","width","height","myPieOptions","AllocationReportByBlFlComponent_div_5_div_10_div_6_Template","AllocationReportByBlFlComponent_div_5_div_10_div_7_Template","ctx_r30","selectionMessage","AllocationReportByBlFlComponent_div_5_ng_template_6_Template","AllocationReportByBlFlComponent_div_5_Template_p_accordion_onClose_7_listener","_r47","ctx_r46","onTabClose","AllocationReportByBlFlComponent_div_5_Template_p_accordion_onOpen_7_listener","ctx_r48","onTabOpen","AllocationReportByBlFlComponent_div_5_p_accordionTab_9_Template","AllocationReportByBlFlComponent_div_5_div_10_Template","ctx_r3","accordionBuilding","ctx_r5","roomData","ctx_r7","allroomavailablespaceData","AllocationReportByBlFlComponent","constructor","blServ","formBuilder","cdr","bookingSrv","messageService","datePipe","spinner","bps","ROW_COUNT","allfloorData","selectedAllocationData","showblflaccordion","selectedBlId","selectedFlId","selectedBlCode","selectedFlCode","showAllocatedPopup","chartImg","divisionData","departmentData","showAllRoomsAvailableSpacePopup","monthStart","Date","getFullYear","getMonth","monthEnd","sliceVisibilityThreshold","legend","textStyle","fontName","useTabletProtrait","useTabletLandscape","group","blId","dateFrom","required","dateTo","viewBy","ngOnInit","register","loadAllBuildingwithArea","loadFloorwithArea","patchValue","notify","updatePieChartView","getallbuildingwitharea","subscribe","res","map","each","bindlabel","unshift","getallfloorwitharea","detectChanges","controls","value","filter","filterData","event","selectedTab","index","data","flId","transform","divId","depId","getspaceallocationreportbyblfldivdep","flCodeSuffix","getViewByLabelFromValue","generatePieChartData","angularpiechartdata","Object","values","forEach","allocatedArea","chartdata","name","push","control","undefined","setErrors","clearAsyncValidators","updateValueAndValidity","formatDate","date","d","contentElement","show","divElement","nativeElement","then","canvas","imgData","toDataURL","printPDF","hide","clear","headerstring","getSelectedBlandFlHeader","titlestring","reportDetails","title","heading","printPdf","add","key","severity","summary","detail","file","Blob","type","fileURL","URL","createObjectURL","window","open","resultstring","rowvalue","selection","row","selectedvalue","allocatiofilter","subDepId","searchInDivDepData","parts","split","searchResultObj","getspaceallocationstaticticsroomdata","getroomspaceavailibilitydetails","val","selectedViewBy","find","lable","divCode","depCode","subDepCode","returnData","setMyPieOptions","position","alignment","orientation","ngOnDestroy","unregister","_","ɵɵdirectiveInject","i1","BuildingService","i2","UntypedFormBuilder","ChangeDetectorRef","i3","BookingService","i4","i5","DatePipe","i6","NgxSpinnerService","i7","_2","selectors","viewQuery","AllocationReportByBlFlComponent_Query","rf","ctx","decls","vars","consts","template","AllocationReportByBlFlComponent_Template","AllocationReportByBlFlComponent_table_2_Template","AllocationReportByBlFlComponent_table_3_Template","AllocationReportByBlFlComponent_table_4_Template","AllocationReportByBlFlComponent_div_5_Template","AllocationReportByBlFlComponent_Template_p_dialog_visibleChange_6_listener","AllocationReportByBlFlComponent_ng_template_7_Template","AllocationReportByBlFlComponent_ng_template_8_Template","AllocationReportByBlFlComponent_Template_p_dialog_visibleChange_9_listener","AllocationReportByBlFlComponent_ng_template_10_Template","AllocationReportByBlFlComponent_ng_template_11_Template","_c3","_c4"],"sources":["/home/admin7/Documents/fms_frontend/src/app/ui/allocation-report-by-bl-fl/allocation-report-by-bl-fl.component.ts","/home/admin7/Documents/fms_frontend/src/app/ui/allocation-report-by-bl-fl/allocation-report-by-bl-fl.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, ElementRef, ViewChild } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormBuilder, Validators } from '@angular/forms';\nimport { MessageService } from 'primeng/api';\nimport { UtilConstant } from 'src/common/UtilConstant';\nimport { BuildingService } from '../background-loc/services/bl.service';\nimport { BookingService } from '../booking/services/booking.services';\nimport { DatePipe } from '@angular/common';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport html2canvas from 'html2canvas';\nimport { BreakpointService } from 'src/app/services/breakpoint.service';\nimport { ignoreElements } from 'rxjs';\n\n@Component({\n  selector: 'app-allocation-report-by-bl-fl',\n  templateUrl: './allocation-report-by-bl-fl.component.html',\n  styleUrls: ['./allocation-report-by-bl-fl.component.scss'],\n  providers: [MessageService],\n})\nexport class AllocationReportByBlFlComponent {\n  filterPanel!: UntypedFormGroup;\n  rowCount: number = UtilConstant.ROW_COUNT;\n  enumBL: any[] = [];\n  allfloorData :any[]=[];\n  accordionBuilding:any[]=[];\n  selectedBuldingFloorData:any[]=[];\n  showPieChart : boolean = false;\n  selectedAllocationData :any[]=[];\n  showblflaccordion:boolean = false;\n  roomData:any[]=[];\n  allroomavailablespaceData:any[]=[];\n  selectedBlId:number|null=null;\n  selectedFlId:number|null=null;\n  selectedBlCode:string=\"\";\n  selectedFlCode:string=\"\";\n  showAllocatedPopup:boolean = false;\n  chartImg: any[] = [];\n  divisionData:any[]=[];\n  departmentData:any[]=[];\n  showAllRoomsAvailableSpacePopup:boolean = false;\n  viewByData: any[] = [\n    {\n      \"id\": 0,\n      \"lable\": \"Division\",\n      \"value\": \"div_id\"\n    },\n    {\n      \"id\": 1,\n      \"lable\": \"Department\",\n      \"value\": \"dep_id\"\n    },\n    {\n      \"id\": 2,\n      \"lable\": \"Sub Department\",\n      \"value\": \"sub_dep_id\"\n    }\n  ];\n  @ViewChild('content', { static: false }) contentElement!: ElementRef;\n  width = 850;\n  height = 550;\n  myPieData:any[]=[];\n  selectionMessage:string='';\n  monthStart = new Date((new Date()).getFullYear(),(new Date()).getMonth(), 1);\n  monthEnd = new Date((new Date()).getFullYear(), (new Date()).getMonth() + 1, 0);\n  myPieOptions = {\n    sliceVisibilityThreshold: 0 ,\n    legend:{textStyle:{fontName:\"Segoe UI\"},},\n  };\n  \n  useTabletProtrait = false;\n  useTabletLandscape = false;\n  constructor(\n    private blServ: BuildingService,\n    private formBuilder: UntypedFormBuilder,\n    private cdr: ChangeDetectorRef,\n    private bookingSrv: BookingService,\n    private messageService: MessageService,\n    private datePipe:DatePipe,\n    private spinner: NgxSpinnerService,\n    private bps : BreakpointService\n  ) { \n    this.filterPanel = this.formBuilder.group({\n      blId: [null],\n      dateFrom:[null,[Validators.required]],\n      dateTo:[null,[Validators.required]],\n      viewBy :[null,[Validators.required]]\n    });\n   \n  }\n  ngOnInit(): void {\n    this.bps.register(this);\n    this.loadAllBuildingwithArea();\n    this.loadFloorwithArea();\n    this.filterPanel.patchValue({\n      dateFrom:this.monthStart,\n      dateTo: this.monthEnd\n    })\n  }\n\n  notify(): void {\n    this.useTabletProtrait = BreakpointService.useTabletProtrait;\n    this.useTabletLandscape = BreakpointService.useTabletLandscape;\n    this.updatePieChartView();\n  }\n\n  loadAllBuildingwithArea() {\n    this.blServ.getallbuildingwitharea().subscribe((res: any) => {\n      this.enumBL = res.map((each:any)=> {\n        if(each.blName != null && each.blName !=''){\n          each.bindlabel= `${each.blCode} - ${each.blName}`;\n        }else{\n          each.bindlabel= `${each.blCode}`;\n        }\n        return each;\n      });\n      this.accordionBuilding =[...this.enumBL];\n      this.enumBL.unshift({blId:null,bindlabel:'Make a selection'});\n    });\n  }\n\n  loadFloorwithArea(){\n    this.blServ.getallfloorwitharea().subscribe((res:any)=>{\n      this.allfloorData = res;\n    })\n  }\n\n  onSearch(){\n    this.accordionBuilding=[];\n    this.showblflaccordion = false;\n    this.showPieChart = false;\n    this.cdr.detectChanges();\n    this.selectedBlId=null;\n    this.selectedFlId=null;\n    this.selectionMessage='';\n    let blId = this.filterPanel.controls.blId.value;\n    if(blId != null){\n      this.accordionBuilding = this.enumBL.filter((each:any)=> each.blId == blId);\n    }else{\n      let filterData = this.enumBL.filter((each:any)=> each.blId!=null);\n      this.accordionBuilding = [...filterData];\n    }\n    this.showblflaccordion = true;\n    this.cdr.detectChanges();\n  }\n\n  onClear(){\n    this.filterPanel.patchValue({\n      blId:null,\n      dateFrom:this.monthStart,\n      dateTo:this.monthEnd,\n      viewBy:null\n    });\n    this.selectedBuldingFloorData=[];\n    this.showPieChart = false;\n    this.selectedAllocationData =[];\n    this.showblflaccordion = false;\n    this.roomData=[];\n    this.allroomavailablespaceData=[];\n    this.selectedBlId=null;\n    this.selectedFlId=null;\n    this.selectedBlCode = \"\";\n    this.selectedFlCode = \"\";\n    this.showAllocatedPopup = false;\n    this.chartImg = [];\n    this.showAllRoomsAvailableSpacePopup = false;\n    this.myPieData=[];\n    this.selectionMessage='';\n  }\n\n  onTabClose(event:any){}\n\n  onTabOpen(event:any){\n    this.selectedBuldingFloorData=[];\n    let selectedTab = this.accordionBuilding[event.index];\n    this.selectedBuldingFloorData = this.allfloorData.filter((each:any)=> each.blId== selectedTab.blId);\n  }\n\n  onViewPieChartForBuilding(event:any){\n    this.onViewPieChartForFloor(event);\n  }\n\n  onViewPieChartForFloor(event:any){\n    this.selectedBlId=event.data.blId;\n    this.selectedFlId=event.data.flId;\n    this.selectedBlCode = event.data.blCode;\n    this.selectedFlCode = event.data.flCode;\n    this.showPieChart = false;\n    let data={\n      dateFrom:this.datePipe.transform(this.filterPanel.controls.dateFrom.value,\"yyyy-MM-dd\"),\n      dateTo:this.datePipe.transform(this.filterPanel.controls.dateTo.value,\"yyyy-MM-dd\"),\n      blId:event.data.blId,\n      flId:event.data.flId,\n      divId:null,\n      depId:null,\n      viewBy:this.filterPanel.controls.viewBy.value,\n    }\n    this.blServ.getspaceallocationreportbyblfldivdep(data).subscribe((res:any)=>{\n      this.selectedAllocationData = res;\n      const flCodeSuffix = this.selectedFlCode ? `- ${this.selectedFlCode}` : '';\n      this.selectionMessage = `Allocation for ${this.selectedBlCode} ${flCodeSuffix} by ${this.getViewByLabelFromValue(this.filterPanel.controls.viewBy.value)}`;\n      this.generatePieChartData();\n      this.showPieChart = true;\n    })\n  }\n\n  generatePieChartData(){\n    const angularpiechartdata:any[] =[];\n    Object.values(this.selectedAllocationData).forEach((each: any, index: number) => {\n      if(each.allocatedArea>0){\n        let chartdata = [each.name,each.allocatedArea]\n        angularpiechartdata.push(chartdata);\n      }\n    })\n    this.myPieData = angularpiechartdata;\n    this.cdr.detectChanges();\n  }\n\n  checkDates(control: any){\n    if (control !== undefined && control != null) {\n      this.filterPanel.controls['dateTo'].setErrors(null);\n      this.filterPanel.clearAsyncValidators();\n      this.filterPanel.updateValueAndValidity();\n      let dateFrom = this.formatDate(this.filterPanel.controls.dateFrom.value);\n      let dateTo = this.formatDate(this.filterPanel.controls.dateTo.value);\n      if(dateFrom!= null && dateTo!=null ){\n        if(dateTo<=dateFrom){\n          this.filterPanel.controls['dateTo'].setErrors({ 'incorrect': true });\n          this.filterPanel.updateValueAndValidity();\n          return { 'incorrect': true };\n        }else{\n          return null;\n        }\n      }\n      else {\n        this.filterPanel.controls['dateTo'].setErrors({ 'isnull': true });\n        this.filterPanel.updateValueAndValidity();\n        return null;\n      }\n      }\n      return null;\n    }\n\n    formatDate(date: any) {\n      if (date != null) {\n        var d = new Date(date);\n        return d;\n      } else {\n        return null;\n      }\n    }\n\n     exportToPdf(){\n      if (this.contentElement) {\n        this.spinner.show();\n        const divElement: HTMLElement = this.contentElement.nativeElement;\n        html2canvas(divElement).then((canvas: any) => {\n          const imgData = canvas.toDataURL('image/png');\n          this.chartImg = [];\n          this.chartImg.push(imgData);\n          this.printPDF();\n          this.spinner.hide();\n        });\n      }\n    }\n  \n    printPDF() {\n      this.messageService.clear();\n      let headerstring = this.getSelectedBlandFlHeader();\n      let titlestring =\"\";\n      if(this.filterPanel.controls.viewBy.value==\"div_id\"){\n        titlestring = \"Division\"\n      }else if(this.filterPanel.controls.viewBy.value==\"dep_id\"){\n        titlestring = \"Department\"\n      }else if(this.filterPanel.controls.viewBy.value==\"sub_dep_id\"){\n        titlestring = \"Sub Department\"\n      }\n      var reportDetails: any = {\n        chartImg: this.chartImg,\n        title: `Allocation by ${titlestring}`,\n        heading :headerstring\n      }\n      this.bookingSrv.printPdf(reportDetails).subscribe((res: any) => {\n        if (res != null) {\n          this.messageService.add({ key: 'highlightblflmsg', severity: 'success', summary: 'PDF Created', detail: 'PDF created successfully' });\n          var file = new Blob([res], { type: 'application/pdf' });\n          var fileURL = URL.createObjectURL(file);\n          window.open(fileURL);\n        }\n      })\n    }\n\n    getSelectedBlandFlHeader(){\n      let resultstring =''\n      if(this.selectedBlCode!=''){\n        resultstring += `Building: ${this.selectedBlCode}`;\n      }\n      if(this.selectedFlCode !=''){\n        resultstring += ` | Floor: ${this.selectedFlCode}`;\n      }\n      return resultstring;\n    }\n\n    onSelectGooglePieChart(event:any){\n      this.roomData = [];\n      this.showAllocatedPopup = false;\n      this.allroomavailablespaceData =[];\n      this.showAllRoomsAvailableSpacePopup = false;\n      let rowvalue = event.selection[0].row;\n      let selectedvalue = this.myPieData[rowvalue][0];\n      let viewBy = this.filterPanel.controls.viewBy.value;\n      let allocatiofilter = {blId:this.selectedBlId,flId:this.selectedFlId,divId:null,depId:null,subDepId:null,dateFrom:this.datePipe.transform(this.filterPanel.controls.dateFrom.value,\"yyyy-MM-dd\"),\n      dateTo:this.datePipe.transform(this.filterPanel.controls.dateTo.value,\"yyyy-MM-dd\"),viewBy:''}\n      if(selectedvalue!='Available Area'){\n        if(viewBy=='div_id'){\n          allocatiofilter.divId = this.searchInDivDepData(selectedvalue,null,null).divId;\n        }else if (viewBy=='dep_id'){\n          let parts = selectedvalue.split('-');\n          let searchResultObj = this.searchInDivDepData(parts[0],parts[1],null);\n          allocatiofilter.divId = searchResultObj.divId;\n          allocatiofilter.depId = searchResultObj.depId;\n        }else if(viewBy=='sub_dep_id'){\n          let parts = selectedvalue.split('-');\n          let searchResultObj = this.searchInDivDepData(parts[0],parts[1],parts[2]);\n          allocatiofilter.divId = searchResultObj.divId;\n          allocatiofilter.depId = searchResultObj.depId;\n          allocatiofilter.subDepId = searchResultObj.subDepId;\n        }\n        this.blServ.getspaceallocationstaticticsroomdata(allocatiofilter).subscribe((res:any)=>{\n          if(res){\n            this.roomData = res;\n            this.showAllocatedPopup = true;\n          }\n        })\n      }else if(selectedvalue=='Available Area'){\n        this.blServ.getroomspaceavailibilitydetails(allocatiofilter).subscribe((res:any)=>{\n          this.allroomavailablespaceData=res;\n          this.showAllRoomsAvailableSpacePopup = true;\n        })\n      }\n    }\n\n    getViewByLabelFromValue(val:any){\n      let selectedViewBy = this.viewByData.find( each => each.value==val);\n      return selectedViewBy.lable\n    }\n\n    searchInDivDepData(divCode:string,depCode:string|null,subDepCode:string|null){\n      let returnData={\n        divId:null,depId:null,subDepId:null\n      }\n      returnData.divId = this.selectedAllocationData.find( each => each.divCode==divCode)?.divId;\n      if(depCode!=null){\n        returnData.depId = this.selectedAllocationData.find( each => each.depCode==depCode && each.divCode==divCode)?.depId;\n      }if(subDepCode!=null){\n        returnData.subDepId = this.selectedAllocationData.find( each => each.subDepCode==subDepCode && each.depCode==depCode && each.divCode==divCode)?.subDepId;\n      }\n      return returnData\n     }\n\n     updatePieChartView(){\n      this.setMyPieOptions();\n      if(this.useTabletProtrait){\n        this.width = 400;\n        this.height = 400;\n      }else if(this.useTabletLandscape){\n        this.width = 700;\n        this.height = 400;\n      }else{\n        this.width = 850;\n        this.height = 550;\n      }\n     }\n\n     setMyPieOptions(){\n      if(this.useTabletProtrait){\n        this.myPieOptions = {\n          sliceVisibilityThreshold: 0 ,\n          // @ts-ignore\n          legend:{textStyle:{fontName:\"Segoe UI\"},position: 'bottom',alignment: 'center',orientation: 'vertical',},\n        };\n      }\n      else{\n        this.myPieOptions = {\n          sliceVisibilityThreshold: 0 ,\n          legend:{textStyle:{fontName:\"Segoe UI\"},},\n        };\n      }\n     }\n\n     ngOnDestroy() {\n      this.bps.unregister(this);\n    }\n}\n","<div class=\"card\">\n    <form [formGroup]=\"filterPanel\">\n        <table width=\"100%\" *ngIf=\"!(useTabletProtrait || useTabletLandscape)\">\n            <tr>\n                <td style=\"width:20%\">\n                    <div class=\"input-label-custom \">\n                        <label class='form-field-lable '>Building </label>\n                        <ng-select appendTo=\"body\" [clearable]=\"false\" [items]=\"enumBL\" formControlName=\"blId\"\n                            [searchable]=\"true\" bindLabel=\"bindlabel\" bindValue=\"blId\"\n                            placeholder=\"Make a selection\" class=\"ng-select-dropdown\">\n                        </ng-select>\n                    </div>\n                </td>\n                <td style=\"width: 20%\">\n                    <div class=\"input-label-custom\">\n                        <div class=\"p-fluid p-field\">\n                            <label class='form-field-lable control-label'>Date From</label>\n                            <p-calendar appendTo=\"body\" dateFormat=\"dd M yy\" name=\"date\"\n                    formControlName=\"dateFrom\" [showIcon]=\"false\" inputId=\"icon\" [readonlyInput]=\"true\"\n                     (ngModelChange)=\"checkDates($event)\"></p-calendar>\n                         </div>\n                    </div>\n                </td>\n                <td style=\"width: 20%\">\n                    <div class=\"input-label-custom \">\n                        <div class=\"p-fluid p-field\">\n                            <label class='form-field-lable control-label'>Date To</label>\n                            <p-calendar appendTo=\"body\"  dateFormat=\"dd M yy\" name=\"date\"\n                    formControlName=\"dateTo\" [showIcon]=\"false\" inputId=\"icon\" [readonlyInput]=\"true\"\n                    (ngModelChange)=\"checkDates($event)\"></p-calendar>\n                        </div>    \n                    </div>\n                </td>\n                <td width=\"20%\">\n                    <div class=\"input-label-custom \">\n                        <label class='form-field-lable control-label'>View By</label>\n                        <ng-select appendTo=\"body\" [clearable]=\"false\" [searchable]=\"true\"\n                            placeholder=\"Make a selection\" class=\"ng-select-dropdown\" [items]=\"viewByData\"\n                            formControlName=\"viewBy\" bindLabel=\"lable\" bindValue=\"value\">\n                        </ng-select>\n                    </div>\n                </td>\n                <td style=\"width: 20%\">\n                    <div style=\"margin: 5px 0 0 5px \">\n                        <button (click)=\"onSearch()\" pButton pRipple label=\"Search\"\n                            style=\"width: 60px;  margin-left: 5px;\" [disabled]=\"!filterPanel.valid\"\n                            class=\"p-button-primary p-button-sm pull right\"></button>\n                        <button (click)=\"onClear()\" pButton pRipple label=\"Clear\"\n                            style=\"width: 60px;  margin-left: 5px;\"\n                            class=\"p-button-primary p-button-sm pull right\"></button>\n                        <button (click)=\"exportToPdf()\" pButton pRipple label=\"Export\"  [disabled]=\"!(showPieChart && (myPieData.length>0))\"\n                            style=\"width: 70px;  margin-left: 5px;\" icon=\"pi pi-file-pdf\"\n                            class=\"p-button-primary p-button-sm pull right\"></button>\n                    </div>\n                </td>\n            </tr>\n        </table>\n        <table width=\"100%\" *ngIf=\"useTabletProtrait\">\n            <tr>\n                <td style=\"width:25%\">\n                    <div class=\"input-label-custom \">\n                        <label class='form-field-lable '>Building </label>\n                        <ng-select appendTo=\"body\" [clearable]=\"false\" [items]=\"enumBL\" formControlName=\"blId\"\n                            [searchable]=\"true\" bindLabel=\"bindlabel\" bindValue=\"blId\"\n                            placeholder=\"Make a selection\" class=\"ng-select-dropdown\">\n                        </ng-select>\n                    </div>\n                </td>\n                <td style=\"width: 25%\">\n                    <div class=\"input-label-custom\">\n                        <div class=\"p-fluid p-field\">\n                            <label class='form-field-lable control-label'>Date From</label>\n                            <p-calendar appendTo=\"body\" dateFormat=\"dd M yy\" name=\"date\"\n                    formControlName=\"dateFrom\" [showIcon]=\"false\" inputId=\"icon\" [readonlyInput]=\"true\"\n                     (ngModelChange)=\"checkDates($event)\"></p-calendar>\n                         </div>\n                    </div>\n                </td>\n                <td style=\"width: 25%\">\n                    <div class=\"input-label-custom \">\n                        <div class=\"p-fluid p-field\">\n                            <label class='form-field-lable control-label'>Date To</label>\n                            <p-calendar appendTo=\"body\"  dateFormat=\"dd M yy\" name=\"date\"\n                    formControlName=\"dateTo\" [showIcon]=\"false\" inputId=\"icon\" [readonlyInput]=\"true\"\n                    (ngModelChange)=\"checkDates($event)\"></p-calendar>\n                        </div>    \n                    </div>\n                </td>\n                <td width=\"25%\">\n                    <div class=\"input-label-custom \">\n                        <label class='form-field-lable control-label'>View By</label>\n                        <ng-select appendTo=\"body\" [clearable]=\"false\" [searchable]=\"true\"\n                            placeholder=\"Make a selection\" class=\"ng-select-dropdown\" [items]=\"viewByData\"\n                            formControlName=\"viewBy\" bindLabel=\"lable\" bindValue=\"value\">\n                        </ng-select>\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"width: 25%\">\n                    <div style=\"margin: 5px 0 5px 5px \">\n                        <button (click)=\"onSearch()\" pButton pRipple label=\"Search\"\n                            style=\"width: 60px;  margin-left: 5px;\" [disabled]=\"!filterPanel.valid\"\n                            class=\"p-button-primary \"></button>\n                        <button (click)=\"onClear()\" pButton pRipple label=\"Clear\"\n                            style=\"width: 60px;  margin-left: 5px;\"\n                            class=\"p-button-primary \"></button>\n                    </div>\n                </td>\n                <td style=\"width: 25%\">\n                    <div style=\"margin: 5px 0 5px 5px \">\n                        <button (click)=\"exportToPdf()\" pButton pRipple label=\"Export\"  [disabled]=\"!(showPieChart && (myPieData.length>0))\"\n                            style=\"width: 70px;  margin-left: 5px;\" icon=\"pi pi-file-pdf\"\n                            class=\"p-button-primary \"></button>\n                    </div>\n                </td>\n            </tr>\n        </table>\n        <table width=\"100%\" *ngIf=\"useTabletLandscape\">\n            <tr>\n                <td style=\"width:25%\">\n                    <div class=\"input-label-custom \">\n                        <label class='form-field-lable '>Building </label>\n                        <ng-select appendTo=\"body\" [clearable]=\"false\" [items]=\"enumBL\" formControlName=\"blId\"\n                            [searchable]=\"true\" bindLabel=\"bindlabel\" bindValue=\"blId\"\n                            placeholder=\"Make a selection\" class=\"ng-select-dropdown\">\n                        </ng-select>\n                    </div>\n                </td>\n                <td style=\"width: 25%\">\n                    <div class=\"input-label-custom\">\n                        <div class=\"p-fluid p-field\">\n                            <label class='form-field-lable control-label'>Date From</label>\n                            <p-calendar appendTo=\"body\" dateFormat=\"dd M yy\" name=\"date\"\n                    formControlName=\"dateFrom\" [showIcon]=\"false\" inputId=\"icon\" [readonlyInput]=\"true\"\n                     (ngModelChange)=\"checkDates($event)\"></p-calendar>\n                         </div>\n                    </div>\n                </td>\n                <td style=\"width: 25%\">\n                    <div class=\"input-label-custom \">\n                        <div class=\"p-fluid p-field\">\n                            <label class='form-field-lable control-label'>Date To</label>\n                            <p-calendar appendTo=\"body\"  dateFormat=\"dd M yy\" name=\"date\"\n                    formControlName=\"dateTo\" [showIcon]=\"false\" inputId=\"icon\" [readonlyInput]=\"true\"\n                    (ngModelChange)=\"checkDates($event)\"></p-calendar>\n                        </div>    \n                    </div>\n                </td>\n                <td width=\"25%\">\n                    <div class=\"input-label-custom \">\n                        <label class='form-field-lable control-label'>View By</label>\n                        <ng-select appendTo=\"body\" [clearable]=\"false\" [searchable]=\"true\"\n                            placeholder=\"Make a selection\" class=\"ng-select-dropdown\" [items]=\"viewByData\"\n                            formControlName=\"viewBy\" bindLabel=\"lable\" bindValue=\"value\">\n                        </ng-select>\n                    </div>\n                </td>\n            </tr>\n            <tr>\n                <td style=\"width: 25%\">\n                    <div style=\"margin: 5px 0 5px 5px \">\n                        <button (click)=\"onSearch()\" pButton pRipple label=\"Search\"\n                            style=\"width: 60px;  margin-left: 5px;\" [disabled]=\"!filterPanel.valid\"\n                            class=\"p-button-primary \"></button>\n                        <button (click)=\"onClear()\" pButton pRipple label=\"Clear\"\n                            style=\"width: 60px;  margin-left: 5px;\"\n                            class=\"p-button-primary \"></button>\n                            <button (click)=\"exportToPdf()\" pButton pRipple label=\"Export\"  [disabled]=\"!(showPieChart && (myPieData.length>0))\"\n                                style=\"width: 70px;  margin-left: 5px;\" icon=\"pi pi-file-pdf\"\n                                class=\"p-button-primary \"></button>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </form>\n</div>\n<div class=\"card\" *ngIf=\"showblflaccordion\">\n    <div style=\"display: flex;flex-direction:row;justify-content: space-between;height:610px;\" #content>\n        <div class=\"floor-select-container\">\n            <div class=\"card\">\n                <p-table  [value]=\"accordionBuilding\">\n                    <ng-template pTemplate=\"header\">\n                        <tr>\n                            <th style=\"width:4rem\"> </th>\n                            <th style=\"width:8rem\">Building Code</th>\n                            <th style=\"width:9rem\">Building Name</th>\n                            <th>Area (sq.ft)</th>\n                        </tr>\n                    </ng-template>\n                </p-table>\n            </div>\n            <p-accordion  (onClose)=\"onTabClose($event)\" (onOpen)=\"onTabOpen($event)\" #accordion class=\"accordion\">\n                <p-accordionTab *ngFor=\"let bl of accordionBuilding;\">\n                    <p-header style=\"width:100%\">\n                        <p-table [value]=\"[bl]\" [style]=\"{ width: '100%' }\"  [resizableColumns]=\"false\" [paginator]=\"false\"\n                        (onRowSelect)=\"onViewPieChartForBuilding($event)\"  selectionMode=\"single\" [rowHover]=\"true\">\n                          <ng-template pTemplate=\"body\" let-bl>\n                            <tr [pSelectableRow]=\"bl\">\n                              <td style=\"width:1.7rem;\"></td>\n                              <td style=\"width:8rem;\">{{bl.blCode}}</td>\n                              <td style=\"width:9rem;\">{{bl.blName}}</td>\n                              <td>{{bl.area.toFixed(2)}}</td>\n                            </tr>\n                          </ng-template>\n                        </p-table>\n                      </p-header>\n                    <div>\n                        <p-table [value]=\"selectedBuldingFloorData\" selectionMode=\"single\" [rowHover]=\"true\"\n                            (onRowSelect)=\"onViewPieChartForFloor($event)\" [rows]=\"rowCount\">\n                            <ng-template pTemplate=\"header\">\n                                <tr>\n                                    <th>Building Code</th>\n                                    <th>Floor Code</th>\n                                    <th>Area (sq.ft)</th>\n                            </ng-template>\n                            <ng-template pTemplate=\"body\" let-fl>\n                                <tr [pSelectableRow]=\"fl\">\n                                    <td>{{fl.blCode}}</td>\n                                    <td>{{fl.flCode}}</td>\n                                    <td>{{fl.totalArea?fl.totalArea:0}}</td>\n                                </tr>\n                            </ng-template>\n                            <ng-template pTemplate=\"emptymessage\" let-columns>\n                                <tr>\n                                    <td [attr.colspan]=\"selectedBuldingFloorData.length\">\n                                        No records to display.\n                                    </td>\n                                </tr>\n                            </ng-template>\n                        </p-table>\n                    </div>\n                </p-accordionTab>\n            </p-accordion>\n        </div>\n        <div class=\"card pie-chart-container\" style=\"display: flex; flex-direction: column;\" *ngIf=\"showPieChart\">\n            <div style=\"height: 7vh; display: flex;justify-content: center;align-items: flex-start;margin:5px;\" class=\"card\">\n                <div style=\"height:24px;margin-left:10px;\">\n                    <p class=\"selectionmessagetext\">{{selectionMessage}}</p>\n                </div>\n            </div>\n            <div class=\"card\" style=\"height: 100%;margin:0 5px 5px 5px; overflow-x: auto;\">\n                <div  style=\"margin:auto 10px auto 10px;\" *ngIf=\"myPieData.length>0\">\n                    <google-chart \n                        [type]=\"'PieChart'\" \n                        [data]=\"myPieData\" \n                        [width]=\"width\"\n                        [height]=\"height\"\n                        (select)=\"onSelectGooglePieChart($event)\"\n                        [options]=\"myPieOptions\">\n                    </google-chart>\n                </div>\n                <div *ngIf=\"!(myPieData.length>0)\" style=\"height:100%; display:flex;justify-content: center;align-items: center;\">\n                    <div>\n                        <h1>No data found</h1>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<p-dialog [(visible)]=\"showAllocatedPopup\" [modal]=\"true\" [style]=\"{width: '75vw'}\" [maximizable]=\"true\"\n        [draggable]=\"false\" [resizable]=\"false\" styleClass=\"dark-panel\" id=\"preview\">\n        <ng-template pTemplate=\"header\">\n            <h2 style=\"margin: 0px;\">Room List</h2>\n        </ng-template>\n        <ng-template pTemplate=\"body\">\n            <app-space-allocation-room-list [data] =\"roomData\"></app-space-allocation-room-list>\n        </ng-template>\n</p-dialog>\n<p-dialog [(visible)]=\"showAllRoomsAvailableSpacePopup\" [modal]=\"true\" [style]=\"{width: '66vw'}\" [maximizable]=\"true\"\n        [draggable]=\"false\" [resizable]=\"false\" styleClass=\"dark-panel\" id=\"preview\">\n        <ng-template pTemplate=\"header\">\n            <h2 style=\"margin: 0px;\">Room List</h2>\n        </ng-template>\n        <ng-template pTemplate=\"body\">\n            <app-room-availibility-report-table [data] =\"allroomavailablespaceData\"></app-room-availibility-report-table>\n        </ng-template>\n</p-dialog>\n<p-toast key=\"highlightblflmsg\" position=\"top-center\"></p-toast>\n<p-confirmDialog key=\"highlightblflgrid\" header=\"Confirmation\" icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\n<ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"medium\" color=\"#879cc9\" class=\"spinner-color\" type=\"ball-spin-clockwise\" [fullScreen]=\"true\">\n    <p style=\"color: white\"> Loading... </p>\n</ngx-spinner>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}