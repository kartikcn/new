{"ast":null,"code":"import { AddRoleComponent } from '../widget/add-role/add-role.component';\nimport { RolesListComponent } from '../widget/roles-list/roles-list.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/role.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"primeng/button\";\nimport * as i5 from \"primeng/panel\";\nimport * as i6 from \"../widget/add-role/add-role.component\";\nimport * as i7 from \"../widget/roles-list/roles-list.component\";\nfunction RoleComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function RoleComponent_ng_template_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onAdd());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RoleComponent_app_add_user_role_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-add-user-role\", 9);\n    i0.ɵɵlistener(\"notifyParent\", function RoleComponent_app_add_user_role_8_Template_app_add_user_role_notifyParent_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.getNotify($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"isNew\", ctx_r1.isNew)(\"role_title\", ctx_r1.role_title)(\"dataRec\", ctx_r1.rec);\n  }\n}\nexport class RoleComponent {\n  constructor(roleSrv) {\n    this.roleSrv = roleSrv;\n    // roles_data: UserRoles[]=[];\n    this.isNew = false;\n    this.title_suffix = \"User Role\";\n    this.role_title = \"\";\n    this.isShowPanel = false;\n    this.rec = null;\n  }\n  ngOnInit() {}\n  getData(event) {\n    if (event && event.data) {\n      this.isNew = false;\n      this.isShowPanel = true;\n      this.rec = event.data;\n      this.role_title = \"Edit \" + this.title_suffix;\n      this.rolePanel.preLoadData(this.rec);\n    } else {\n      this.isShowPanel = false;\n    }\n  }\n  onAdd() {\n    this.isShowPanel = true;\n    this.isNew = true;\n    this.rec = null;\n    this.role_title = \"Add \" + this.title_suffix;\n    this.rolePanel.preLoadData(this.rec);\n  }\n  getNotify(event) {\n    if (event == \"cancel\") {\n      this.isShowPanel = false;\n    } else if (event == \"save\") {\n      this.roleGrid.loadRoles();\n    }\n  }\n  static #_ = this.ɵfac = function RoleComponent_Factory(t) {\n    return new (t || RoleComponent)(i0.ɵɵdirectiveInject(i1.RoleService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RoleComponent,\n    selectors: [[\"app-user-role\"]],\n    viewQuery: function RoleComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(AddRoleComponent, 5);\n        i0.ɵɵviewQuery(RolesListComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.rolePanel = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.roleGrid = _t.first);\n      }\n    },\n    decls: 9,\n    vars: 1,\n    consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-sm-6\", \"col-xm-6\", \"col-md-6\"], [\"header\", \"User Roles\"], [\"pTemplate\", \"icons\"], [1, \"page-content\", 2, \"height\", \"calc(100vh - 150px)\"], [3, \"parentFun\"], [3, \"isNew\", \"role_title\", \"dataRec\", \"notifyParent\", 4, \"ngIf\"], [\"pButton\", \"\", \"label\", \"Add\", \"icon\", \"pi pi-plus\", 3, \"click\"], [3, \"isNew\", \"role_title\", \"dataRec\", \"notifyParent\"]],\n    template: function RoleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"p-panel\", 3);\n        i0.ɵɵtemplate(4, RoleComponent_ng_template_4_Template, 1, 0, \"ng-template\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"app-user-roles-list\", 6);\n        i0.ɵɵlistener(\"parentFun\", function RoleComponent_Template_app_user_roles_list_parentFun_6_listener($event) {\n          return ctx.getData($event);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(7, \"div\", 2);\n        i0.ɵɵtemplate(8, RoleComponent_app_add_user_role_8_Template, 1, 3, \"app-add-user-role\", 7);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.isShowPanel);\n      }\n    },\n    dependencies: [i2.NgIf, i3.PrimeTemplate, i4.ButtonDirective, i5.Panel, i6.AddRoleComponent, i7.RolesListComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AddRoleComponent","RolesListComponent","i0","ɵɵelementStart","ɵɵlistener","RoleComponent_ng_template_4_Template_button_click_0_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","onAdd","ɵɵelementEnd","RoleComponent_app_add_user_role_8_Template_app_add_user_role_notifyParent_0_listener","$event","_r5","ctx_r4","getNotify","ɵɵproperty","ctx_r1","isNew","role_title","rec","RoleComponent","constructor","roleSrv","title_suffix","isShowPanel","ngOnInit","getData","event","data","rolePanel","preLoadData","roleGrid","loadRoles","_","ɵɵdirectiveInject","i1","RoleService","_2","selectors","viewQuery","RoleComponent_Query","rf","ctx","ɵɵtemplate","RoleComponent_ng_template_4_Template","RoleComponent_Template_app_user_roles_list_parentFun_6_listener","RoleComponent_app_add_user_role_8_Template","ɵɵadvance"],"sources":["C:\\Users\\Manav Gupta\\Downloads\\fms\\fms\\frontend\\fms_frontend\\src\\app\\ui\\system\\roles\\role\\role.component.ts","C:\\Users\\Manav Gupta\\Downloads\\fms\\fms\\frontend\\fms_frontend\\src\\app\\ui\\system\\roles\\role\\role.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { UserRoles } from '../model/user-role.model';\nimport { RoleService } from '../service/role.service';\nimport { AddRoleComponent } from '../widget/add-role/add-role.component';\nimport { RolesListComponent } from '../widget/roles-list/roles-list.component';\n\n@Component({\n  selector: 'app-user-role',\n  templateUrl: './role.component.html',\n  styleUrls: ['./role.component.scss']\n})\nexport class RoleComponent implements OnInit {\n\n  @ViewChild(AddRoleComponent) rolePanel!:AddRoleComponent\n  @ViewChild(RolesListComponent) roleGrid!: RolesListComponent;\n // roles_data: UserRoles[]=[];\n  isNew:boolean=false;\n  rec:UserRoles|null;\n  title_suffix: string =\"User Role\";\n  role_title: string = \"\";\n  isShowPanel:boolean = false;\n  constructor(private roleSrv:RoleService) { \n    this.rec =null;\n  }\n\n  ngOnInit(): void {\n  }\n  \n\n  getData(event:any){\n    if (event && event.data){\n      this.isNew=false;\n      this.isShowPanel=true;\n      this.rec = event.data;\n      this.role_title = \"Edit \" + this.title_suffix;\n      this.rolePanel.preLoadData(this.rec);\n\n    }\n    else{\n      this.isShowPanel = false;\n    }\n      \n  }\n  onAdd(){\n    this.isShowPanel=true;\n    this.isNew = true;\n    this.rec = null;\n    this.role_title = \"Add \" + this.title_suffix;\n    this.rolePanel.preLoadData(this.rec);\n  }\n  getNotify(event:any){\n    if(event == \"cancel\"){\n      this.isShowPanel =false;\n    }\n    else if( event == \"save\"){\n      this.roleGrid.loadRoles();\n    }\n  }\n}\n","<div class=\"container-fluid\">\n        <div class=\"row\" >\n                <div class=\"col-sm-6 col-xm-6 col-md-6\">\n                        <p-panel header=\"User Roles\">\n                                <ng-template pTemplate=\"icons\">\n                                        <button pButton (click)=\"onAdd()\" label=\"Add\" icon=\"pi pi-plus\">\n                                        </button>\n                                        \n                                </ng-template>\n                        <div class=\"page-content\" style=\"height: calc(100vh - 150px)\">\n                        <app-user-roles-list (parentFun)=\"getData($event)\"></app-user-roles-list>\n                        </div>\n                        </p-panel>\n                </div>\n                <div class=\"col-sm-6 col-xm-6 col-md-6\">\n                        <app-add-user-role *ngIf=\"isShowPanel\" (notifyParent)=\"getNotify($event)\" [isNew]=\"isNew\" [role_title]=\"role_title\" [dataRec]=\"rec\"></app-add-user-role>\n                </div>\n        </div>\n</div>\n"],"mappings":"AAGA,SAASA,gBAAgB,QAAQ,uCAAuC;AACxE,SAASC,kBAAkB,QAAQ,2CAA2C;;;;;;;;;;;;ICCtCC,EAAA,CAAAC,cAAA,gBAAgE;IAAhDD,EAAA,CAAAE,UAAA,mBAAAC,6DAAA;MAAAH,EAAA,CAAAI,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAN,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAF,MAAA,CAAAG,KAAA,EAAO;IAAA,EAAC;IACjCT,EAAA,CAAAU,YAAA,EAAS;;;;;;IASzBV,EAAA,CAAAC,cAAA,2BAAoI;IAA7FD,EAAA,CAAAE,UAAA,0BAAAS,qFAAAC,MAAA;MAAAZ,EAAA,CAAAI,aAAA,CAAAS,GAAA;MAAA,MAAAC,MAAA,GAAAd,EAAA,CAAAO,aAAA;MAAA,OAAgBP,EAAA,CAAAQ,WAAA,CAAAM,MAAA,CAAAC,SAAA,CAAAH,MAAA,CAAiB;IAAA,EAAC;IAA2DZ,EAAA,CAAAU,YAAA,EAAoB;;;;IAA9EV,EAAA,CAAAgB,UAAA,UAAAC,MAAA,CAAAC,KAAA,CAAe,eAAAD,MAAA,CAAAE,UAAA,aAAAF,MAAA,CAAAG,GAAA;;;ADJjH,OAAM,MAAOC,aAAa;EAUxBC,YAAoBC,OAAmB;IAAnB,KAAAA,OAAO,GAAPA,OAAO;IAN5B;IACC,KAAAL,KAAK,GAAS,KAAK;IAEnB,KAAAM,YAAY,GAAU,WAAW;IACjC,KAAAL,UAAU,GAAW,EAAE;IACvB,KAAAM,WAAW,GAAW,KAAK;IAEzB,IAAI,CAACL,GAAG,GAAE,IAAI;EAChB;EAEAM,QAAQA,CAAA,GACR;EAGAC,OAAOA,CAACC,KAAS;IACf,IAAIA,KAAK,IAAIA,KAAK,CAACC,IAAI,EAAC;MACtB,IAAI,CAACX,KAAK,GAAC,KAAK;MAChB,IAAI,CAACO,WAAW,GAAC,IAAI;MACrB,IAAI,CAACL,GAAG,GAAGQ,KAAK,CAACC,IAAI;MACrB,IAAI,CAACV,UAAU,GAAG,OAAO,GAAG,IAAI,CAACK,YAAY;MAC7C,IAAI,CAACM,SAAS,CAACC,WAAW,CAAC,IAAI,CAACX,GAAG,CAAC;KAErC,MACG;MACF,IAAI,CAACK,WAAW,GAAG,KAAK;;EAG5B;EACAhB,KAAKA,CAAA;IACH,IAAI,CAACgB,WAAW,GAAC,IAAI;IACrB,IAAI,CAACP,KAAK,GAAG,IAAI;IACjB,IAAI,CAACE,GAAG,GAAG,IAAI;IACf,IAAI,CAACD,UAAU,GAAG,MAAM,GAAG,IAAI,CAACK,YAAY;IAC5C,IAAI,CAACM,SAAS,CAACC,WAAW,CAAC,IAAI,CAACX,GAAG,CAAC;EACtC;EACAL,SAASA,CAACa,KAAS;IACjB,IAAGA,KAAK,IAAI,QAAQ,EAAC;MACnB,IAAI,CAACH,WAAW,GAAE,KAAK;KACxB,MACI,IAAIG,KAAK,IAAI,MAAM,EAAC;MACvB,IAAI,CAACI,QAAQ,CAACC,SAAS,EAAE;;EAE7B;EAAC,QAAAC,CAAA,G;qBA9CUb,aAAa,EAAArB,EAAA,CAAAmC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAbjB,aAAa;IAAAkB,SAAA;IAAAC,SAAA,WAAAC,oBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;uBAEb5C,gBAAgB;uBAChBC,kBAAkB;;;;;;;;;;;;;QCd/BC,EAAA,CAAAC,cAAA,aAA6B;QAIGD,EAAA,CAAA4C,UAAA,IAAAC,oCAAA,yBAIc;QACtB7C,EAAA,CAAAC,cAAA,aAA8D;QACzCD,EAAA,CAAAE,UAAA,uBAAA4C,gEAAAlC,MAAA;UAAA,OAAa+B,GAAA,CAAAhB,OAAA,CAAAf,MAAA,CAAe;QAAA,EAAC;QAACZ,EAAA,CAAAU,YAAA,EAAsB;QAIjFV,EAAA,CAAAC,cAAA,aAAwC;QAChCD,EAAA,CAAA4C,UAAA,IAAAG,0CAAA,+BAAwJ;QAChK/C,EAAA,CAAAU,YAAA,EAAM;;;QADsBV,EAAA,CAAAgD,SAAA,GAAiB;QAAjBhD,EAAA,CAAAgB,UAAA,SAAA2B,GAAA,CAAAlB,WAAA,CAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}