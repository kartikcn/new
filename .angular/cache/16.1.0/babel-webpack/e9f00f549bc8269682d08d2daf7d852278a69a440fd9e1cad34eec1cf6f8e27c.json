{"ast":null,"code":"import { UtilConstant } from 'src/common/UtilConstant';\nimport { SpaceUtilizationStatisticsFilterInputDTO } from './model/SpaceUtilizationStatisticsFilterInputDTO.model';\nimport * as FileSaver from 'file-saver';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../employee/services/employee.service\";\nimport * as i2 from \"../background-loc/services/bl.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"ng-zorro-antd/table\";\nimport * as i6 from \"primeng/api\";\nimport * as i7 from \"primeng/table\";\nimport * as i8 from \"primeng/button\";\nimport * as i9 from \"primeng/dialog\";\nimport * as i10 from \"primeng/checkbox\";\nimport * as i11 from \"@angular/material/tooltip\";\nimport * as i12 from \"./widgets/add-room-statistics-report-table/add-room-statistics-report-table.component\";\nfunction ViewOccupancyStatisticsComponent_div_23_ng_template_2_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const col_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", col_r8.header, \" \");\n  }\n}\nfunction ViewOccupancyStatisticsComponent_div_23_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, ViewOccupancyStatisticsComponent_div_23_ng_template_2_th_1_Template, 2, 1, \"th\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const columns_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", columns_r6);\n  }\n}\nfunction ViewOccupancyStatisticsComponent_div_23_ng_template_3_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22)(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const col_r12 = ctx.$implicit;\n    const rowData_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", rowData_r9[col_r12.field], \" \");\n  }\n}\nfunction ViewOccupancyStatisticsComponent_div_23_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 23);\n    i0.ɵɵlistener(\"click\", function ViewOccupancyStatisticsComponent_div_23_ng_template_3_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const rowData_r9 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.onClickCount(rowData_r9));\n    });\n    i0.ɵɵtemplate(1, ViewOccupancyStatisticsComponent_div_23_ng_template_3_td_1_Template, 3, 1, \"td\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const columns_r10 = ctx.columns;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", columns_r10);\n  }\n}\nfunction ViewOccupancyStatisticsComponent_div_23_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" No records found \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const columns_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", columns_r16.length + 1);\n  }\n}\nfunction ViewOccupancyStatisticsComponent_div_23_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\", 24);\n    i0.ɵɵtext(1, \"Room List\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ViewOccupancyStatisticsComponent_div_23_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-add-room-statistics-report-table\", 25);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"data\", ctx_r5.roomData);\n  }\n}\nconst _c0 = function () {\n  return [5, 10, 25];\n};\nconst _c1 = function () {\n  return {\n    width: \"66vw\"\n  };\n};\nfunction ViewOccupancyStatisticsComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"p-table\", 16);\n    i0.ɵɵtemplate(2, ViewOccupancyStatisticsComponent_div_23_ng_template_2_Template, 2, 1, \"ng-template\", 17);\n    i0.ɵɵtemplate(3, ViewOccupancyStatisticsComponent_div_23_ng_template_3_Template, 2, 1, \"ng-template\", 18);\n    i0.ɵɵtemplate(4, ViewOccupancyStatisticsComponent_div_23_ng_template_4_Template, 3, 1, \"ng-template\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p-dialog\", 20);\n    i0.ɵɵlistener(\"visibleChange\", function ViewOccupancyStatisticsComponent_div_23_Template_p_dialog_visibleChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.showPopUpGrid = $event);\n    });\n    i0.ɵɵtemplate(6, ViewOccupancyStatisticsComponent_div_23_ng_template_6_Template, 2, 0, \"ng-template\", 17);\n    i0.ɵɵtemplate(7, ViewOccupancyStatisticsComponent_div_23_ng_template_7_Template, 1, 1, \"ng-template\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"columns\", ctx_r0.columnData)(\"paginator\", true)(\"rows\", ctx_r0.rowCount)(\"scrollable\", true)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(16, _c0))(\"value\", ctx_r0.resultData)(\"loading\", ctx_r0.isTableRecordLoading)(\"rowHover\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(17, _c1));\n    i0.ɵɵproperty(\"visible\", ctx_r0.showPopUpGrid)(\"modal\", true)(\"maximizable\", true)(\"draggable\", false)(\"resizable\", false);\n  }\n}\nexport class ViewOccupancyStatisticsComponent {\n  constructor(emService, blService) {\n    this.emService = emService;\n    this.blService = blService;\n    this.selectedOptions = [];\n    this.showTable = false;\n    this.rowCount = UtilConstant.ROW_COUNT;\n    this.isTableRecordLoading = false;\n    this.resultData = [];\n    this.columnData = [];\n    this.filterData = new SpaceUtilizationStatisticsFilterInputDTO(false, false, false, false);\n    this.grid_array = [];\n    this.showPopUpGrid = false;\n    this.roomData = [];\n  }\n  ngOnInit() {\n    this.onloadData();\n  }\n  checkboxSelected(event) {\n    this.isTableRecordLoading = true;\n    this.resultData = [];\n    this.columnData = [];\n    this.filterData = new SpaceUtilizationStatisticsFilterInputDTO(false, false, false, false);\n    this.selectedOptions.forEach(option => {\n      if (option == 'building') {\n        this.filterData.building = true;\n      }\n      if (option == 'floor') {\n        this.filterData.building = true;\n        this.filterData.floor = true;\n        if (!this.selectedOptions.includes('building')) {\n          this.selectedOptions.push('building');\n        }\n      }\n      if (option == 'division') {\n        this.filterData.division = true;\n      }\n      if (option == 'department') {\n        this.filterData.division = true;\n        this.filterData.department = true;\n        if (!this.selectedOptions.includes('division')) {\n          this.selectedOptions.push('division');\n        }\n      }\n    });\n    if (!this.filterData.division && !this.filterData.department && !this.filterData.building && !this.filterData.floor) {\n      this.resultData = [];\n      this.isTableRecordLoading = false;\n      this.showTable = true;\n    } else {\n      this.emService.getspaceutilization(this.filterData).subscribe(res => {\n        this.resultData = res;\n        this.generateColumnData();\n        this.showTable = true;\n        this.isTableRecordLoading = false;\n      });\n    }\n  }\n  onloadData() {\n    this.isTableRecordLoading = true;\n    this.selectedOptions.push('division');\n    this.filterData = new SpaceUtilizationStatisticsFilterInputDTO(false, false, false, false);\n    this.filterData.division = true;\n    this.emService.getspaceutilization(this.filterData).subscribe(res => {\n      this.resultData = res;\n      this.generateColumnData();\n      this.showTable = true;\n      this.isTableRecordLoading = false;\n    });\n  }\n  generateColumnData() {\n    if (this.filterData.division) {\n      this.columnData.push({\n        field: 'division',\n        header: 'Division'\n      });\n    }\n    if (this.filterData.department) {\n      this.columnData.push({\n        field: 'department',\n        header: 'Department'\n      });\n    }\n    if (this.filterData.building) {\n      this.columnData.push({\n        field: 'building',\n        header: 'Building'\n      });\n    }\n    if (this.filterData.floor) {\n      this.columnData.push({\n        field: 'floor',\n        header: 'Floor'\n      });\n    }\n    this.columnData.push({\n      field: 'totalSpace',\n      header: 'Total Seats'\n    });\n    this.columnData.push({\n      field: 'occupiedSpace',\n      header: 'Occupied Seats'\n    });\n    this.columnData.push({\n      field: 'availableSpace',\n      header: 'Available Seats'\n    });\n    this.columnData.push({\n      field: 'occupiedPercentage',\n      header: 'Occupancy (%)'\n    });\n  }\n  onClear() {\n    this.selectedOptions = [];\n    this.showTable = false;\n    this.isTableRecordLoading = false;\n    this.resultData = [];\n    this.columnData = [];\n    this.onloadData();\n    this.showPopUpGrid = false;\n  }\n  exportExcel() {\n    this.getDestructuredData(this.resultData);\n    var excelHeaders = [];\n    import(\"xlsx\").then(xlsx => {\n      const worksheet = xlsx.utils.json_to_sheet(this.grid_array);\n      worksheet['!cols'] = [];\n      for (let i = 0; i < this.columnData.length; i++) {\n        worksheet['!cols'][i] = {\n          wch: 20\n        };\n      }\n      excelHeaders = this.columnData.map(obj => obj['header']);\n      const headers = excelHeaders.map((header, index) => ({\n        v: header,\n        position: String.fromCharCode(65 + index) + 1\n      }));\n      headers.forEach(header => {\n        worksheet[header.position] = {\n          v: header.v\n        };\n      });\n      const workbook = {\n        Sheets: {\n          'data': worksheet\n        },\n        SheetNames: ['data']\n      };\n      const excelBuffer = xlsx.write(workbook, {\n        bookType: 'xlsx',\n        type: 'array'\n      });\n      this.saveAsExcelFile(excelBuffer, \"occupancy_statistics\");\n    });\n  }\n  getDestructuredData(data) {\n    this.grid_array = data.map(item => {\n      let obj = {};\n      if (this.filterData.division) {\n        obj[\"Division\"] = item['division'];\n      }\n      if (this.filterData.department) {\n        obj[\"Department\"] = item['department'];\n      }\n      if (this.filterData.building) {\n        obj[\"Building\"] = item['building'];\n      }\n      if (this.filterData.floor) {\n        obj[\"Floor\"] = item['floor'];\n      }\n      obj[\"Total Seats\"] = item['totalSpace'];\n      obj[\"Occupied Seats\"] = item['occupiedSpace'];\n      obj[\"Available Seats\"] = item['availableSpace'];\n      obj[\"Occupancy (%)\"] = item['occupiedPercentage'];\n      return obj;\n    });\n  }\n  saveAsExcelFile(buffer, fileName) {\n    let EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    let EXCEL_EXTENSION = '.xlsx';\n    const data = new Blob([buffer], {\n      type: EXCEL_TYPE\n    });\n    FileSaver.saveAs(data, fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION);\n  }\n  onClickCount(data) {\n    this.showPopUpGrid = false;\n    let obj = {};\n    if (data.division) {\n      obj.divId = data.division;\n    }\n    if (data.department) {\n      obj.depId = data.department;\n    }\n    if (data.building) {\n      obj.blId = data.building;\n    }\n    if (data.floor) {\n      obj.flId = data.floor;\n    }\n    if (this.filterData.division) {\n      obj.division = true;\n    } else {\n      obj.division = false;\n    }\n    if (this.filterData.department) {\n      obj.department = true;\n    } else {\n      obj.department = false;\n    }\n    if (this.filterData.building) {\n      obj.building = true;\n    } else {\n      obj.building = false;\n    }\n    if (this.filterData.floor) {\n      obj.floor = true;\n    } else {\n      obj.floor = false;\n    }\n    this.blService.getspaceutilizationrmdata(obj).subscribe(res => {\n      this.roomData = res;\n      this.showPopUpGrid = true;\n    });\n  }\n  static #_ = this.ɵfac = function ViewOccupancyStatisticsComponent_Factory(t) {\n    return new (t || ViewOccupancyStatisticsComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService), i0.ɵɵdirectiveInject(i2.BuildingService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViewOccupancyStatisticsComponent,\n    selectors: [[\"app-view-occupancy-statistics\"]],\n    decls: 24,\n    vars: 6,\n    consts: [[1, \"card\", \"checkbox-cont\"], [2, \"display\", \"flex\"], [2, \"margin-left\", \"10px\"], [\"name\", \"group1\", \"value\", \"division\", \"inputId\", \"div\", 1, \"select-box\", 3, \"ngModel\", \"ngModelChange\", \"onChange\"], [\"for\", \"div\"], [\"name\", \"group1\", \"value\", \"department\", \"inputId\", \"dep\", 1, \"select-box\", 3, \"ngModel\", \"ngModelChange\", \"onChange\"], [\"for\", \"dep\"], [\"name\", \"group1\", \"value\", \"building\", \"inputId\", \"bl\", 1, \"select-box\", 3, \"ngModel\", \"ngModelChange\", \"onChange\"], [\"for\", \"bl\"], [\"name\", \"group1\", \"value\", \"floor\", \"inputId\", \"fl\", 1, \"select-box\", 3, \"ngModel\", \"ngModelChange\", \"onChange\"], [\"for\", \"fl\"], [2, \"margin-right\", \"10px\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Clear\", 1, \"p-button-primary\", \"p-button-sm\", \"pull\", \"right\", 2, \"width\", \"60px\", \"margin-left\", \"5px\", 3, \"click\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-file-excel\", \"matTooltip\", \"XLS\", \"matTooltipPosition\", \"below\", 1, \"p-button-success\", \"p-mr-2\", \"pull-right\", 2, \"margin-left\", \"5px\", 3, \"disabled\", \"click\"], [\"class\", \"card\", \"style\", \"height:610px;\", 4, \"ngIf\"], [1, \"card\", 2, \"height\", \"610px\"], [\"scrollDirection\", \"both\", \"scrollHeight\", \"560px\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", \"styleClass\", \"p-datatable-responsive-demo p-datatable-gridlines\", 3, \"columns\", \"paginator\", \"rows\", \"scrollable\", \"showCurrentPageReport\", \"rowsPerPageOptions\", \"value\", \"loading\", \"rowHover\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [\"styleClass\", \"dark-panel\", 3, \"visible\", \"modal\", \"maximizable\", \"draggable\", \"resizable\", \"visibleChange\"], [\"style\", \"min-width:40px\", 4, \"ngFor\", \"ngForOf\"], [2, \"min-width\", \"40px\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [2, \"margin\", \"0px\"], [3, \"data\"]],\n    template: function ViewOccupancyStatisticsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵtext(3, \" View By \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"p-checkbox\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewOccupancyStatisticsComponent_Template_p_checkbox_ngModelChange_5_listener($event) {\n          return ctx.selectedOptions = $event;\n        })(\"onChange\", function ViewOccupancyStatisticsComponent_Template_p_checkbox_onChange_5_listener($event) {\n          return ctx.checkboxSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"label\", 4);\n        i0.ɵɵtext(7, \"Division\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"p-checkbox\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewOccupancyStatisticsComponent_Template_p_checkbox_ngModelChange_9_listener($event) {\n          return ctx.selectedOptions = $event;\n        })(\"onChange\", function ViewOccupancyStatisticsComponent_Template_p_checkbox_onChange_9_listener($event) {\n          return ctx.checkboxSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"label\", 6);\n        i0.ɵɵtext(11, \"Department\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 2)(13, \"p-checkbox\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewOccupancyStatisticsComponent_Template_p_checkbox_ngModelChange_13_listener($event) {\n          return ctx.selectedOptions = $event;\n        })(\"onChange\", function ViewOccupancyStatisticsComponent_Template_p_checkbox_onChange_13_listener($event) {\n          return ctx.checkboxSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"label\", 8);\n        i0.ɵɵtext(15, \"Building\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 2)(17, \"p-checkbox\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function ViewOccupancyStatisticsComponent_Template_p_checkbox_ngModelChange_17_listener($event) {\n          return ctx.selectedOptions = $event;\n        })(\"onChange\", function ViewOccupancyStatisticsComponent_Template_p_checkbox_onChange_17_listener($event) {\n          return ctx.checkboxSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"label\", 10);\n        i0.ɵɵtext(19, \"Floor\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(20, \"div\", 11)(21, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function ViewOccupancyStatisticsComponent_Template_button_click_21_listener() {\n          return ctx.onClear();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function ViewOccupancyStatisticsComponent_Template_button_click_22_listener() {\n          return ctx.exportExcel();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(23, ViewOccupancyStatisticsComponent_div_23_Template, 8, 18, \"div\", 14);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedOptions);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedOptions);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedOptions);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedOptions);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"disabled\", ctx.selectedOptions.length == 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showTable);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.NgControlStatus, i4.NgModel, i5.NzTableCellDirective, i5.NzThMeasureDirective, i5.NzTrDirective, i6.PrimeTemplate, i7.Table, i8.ButtonDirective, i9.Dialog, i10.Checkbox, i11.MatTooltip, i12.AddRoomStatisticsReportTableComponent],\n    styles: [\".checkbox-cont[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  align-items: center;\\n  height: 50px;\\n}\\n\\n.select-box[_ngcontent-%COMP%] {\\n  margin-right: 5px;\\n}\\n\\np-dialog[_ngcontent-%COMP%] {\\n  z-index: 1000;\\n}\\n\\n  .p-dialog .p-dialog-header {\\n  padding: 10px !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvdmlldy1vY2N1cGFuY3ktc3RhdGlzdGljcy92aWV3LW9jY3VwYW5jeS1zdGF0aXN0aWNzLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vLi4vLi4vLi4vTWFuYXYlMjBHdXB0YS9Eb3dubG9hZHMvZm1zL2Ztcy9mcm9udGVuZC9mbXNfZnJvbnRlbmQvc3JjL2FwcC91aS92aWV3LW9jY3VwYW5jeS1zdGF0aXN0aWNzL3ZpZXctb2NjdXBhbmN5LXN0YXRpc3RpY3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksaUJBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7QUNDSjs7QURFQTtFQUNJLHdCQUFBO0FDQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIuY2hlY2tib3gtY29udHtcbiAgICBkaXNwbGF5OmZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBoZWlnaHQ6NTBweDtcbn1cblxuLnNlbGVjdC1ib3h7XG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG59XG5cbnAtZGlhbG9ne1xuICAgIHotaW5kZXg6MTAwMDtcbn1cblxuOjpuZy1kZWVwIC5wLWRpYWxvZyAucC1kaWFsb2ctaGVhZGVye1xuICAgIHBhZGRpbmcgOiAxMHB4ICFpbXBvcnRhbnQ7XG59IiwiLmNoZWNrYm94LWNvbnQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGhlaWdodDogNTBweDtcbn1cblxuLnNlbGVjdC1ib3gge1xuICBtYXJnaW4tcmlnaHQ6IDVweDtcbn1cblxucC1kaWFsb2cge1xuICB6LWluZGV4OiAxMDAwO1xufVxuXG46Om5nLWRlZXAgLnAtZGlhbG9nIC5wLWRpYWxvZy1oZWFkZXIge1xuICBwYWRkaW5nOiAxMHB4ICFpbXBvcnRhbnQ7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["UtilConstant","SpaceUtilizationStatisticsFilterInputDTO","FileSaver","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","col_r8","header","ɵɵtemplate","ViewOccupancyStatisticsComponent_div_23_ng_template_2_th_1_Template","ɵɵproperty","columns_r6","rowData_r9","col_r12","field","ɵɵlistener","ViewOccupancyStatisticsComponent_div_23_ng_template_3_Template_tr_click_0_listener","restoredCtx","ɵɵrestoreView","_r15","$implicit","ctx_r14","ɵɵnextContext","ɵɵresetView","onClickCount","ViewOccupancyStatisticsComponent_div_23_ng_template_3_td_1_Template","columns_r10","ɵɵattribute","columns_r16","length","ɵɵelement","ctx_r5","roomData","ViewOccupancyStatisticsComponent_div_23_ng_template_2_Template","ViewOccupancyStatisticsComponent_div_23_ng_template_3_Template","ViewOccupancyStatisticsComponent_div_23_ng_template_4_Template","ViewOccupancyStatisticsComponent_div_23_Template_p_dialog_visibleChange_5_listener","$event","_r18","ctx_r17","showPopUpGrid","ViewOccupancyStatisticsComponent_div_23_ng_template_6_Template","ViewOccupancyStatisticsComponent_div_23_ng_template_7_Template","ctx_r0","columnData","rowCount","ɵɵpureFunction0","_c0","resultData","isTableRecordLoading","ɵɵstyleMap","_c1","ViewOccupancyStatisticsComponent","constructor","emService","blService","selectedOptions","showTable","ROW_COUNT","filterData","grid_array","ngOnInit","onloadData","checkboxSelected","event","forEach","option","building","floor","includes","push","division","department","getspaceutilization","subscribe","res","generateColumnData","onClear","exportExcel","getDestructuredData","excelHeaders","then","xlsx","worksheet","utils","json_to_sheet","i","wch","map","obj","headers","index","v","position","String","fromCharCode","workbook","Sheets","SheetNames","excelBuffer","write","bookType","type","saveAsExcelFile","data","item","buffer","fileName","EXCEL_TYPE","EXCEL_EXTENSION","Blob","saveAs","Date","getTime","divId","depId","blId","flId","getspaceutilizationrmdata","_","ɵɵdirectiveInject","i1","EmployeeService","i2","BuildingService","_2","selectors","decls","vars","consts","template","ViewOccupancyStatisticsComponent_Template","rf","ctx","ViewOccupancyStatisticsComponent_Template_p_checkbox_ngModelChange_5_listener","ViewOccupancyStatisticsComponent_Template_p_checkbox_onChange_5_listener","ViewOccupancyStatisticsComponent_Template_p_checkbox_ngModelChange_9_listener","ViewOccupancyStatisticsComponent_Template_p_checkbox_onChange_9_listener","ViewOccupancyStatisticsComponent_Template_p_checkbox_ngModelChange_13_listener","ViewOccupancyStatisticsComponent_Template_p_checkbox_onChange_13_listener","ViewOccupancyStatisticsComponent_Template_p_checkbox_ngModelChange_17_listener","ViewOccupancyStatisticsComponent_Template_p_checkbox_onChange_17_listener","ViewOccupancyStatisticsComponent_Template_button_click_21_listener","ViewOccupancyStatisticsComponent_Template_button_click_22_listener","ViewOccupancyStatisticsComponent_div_23_Template"],"sources":["C:\\Users\\Manav Gupta\\Downloads\\fms\\fms\\frontend\\fms_frontend\\src\\app\\ui\\view-occupancy-statistics\\view-occupancy-statistics.component.ts","C:\\Users\\Manav Gupta\\Downloads\\fms\\fms\\frontend\\fms_frontend\\src\\app\\ui\\view-occupancy-statistics\\view-occupancy-statistics.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { UtilConstant } from 'src/common/UtilConstant';\nimport { SpaceUtilizationStatisticsFilterInputDTO } from './model/SpaceUtilizationStatisticsFilterInputDTO.model';\nimport { EmployeeService } from '../employee/services/employee.service';\nimport * as FileSaver from 'file-saver';\nimport { BuildingService } from '../background-loc/services/bl.service';\n\n@Component({\n  selector: 'app-view-occupancy-statistics',\n  templateUrl: './view-occupancy-statistics.component.html',\n  styleUrls: ['./view-occupancy-statistics.component.scss']\n})\nexport class ViewOccupancyStatisticsComponent {\n  selectedOptions:any[]=[];\n  showTable:boolean = false;\n  rowCount: number = UtilConstant.ROW_COUNT;\n  isTableRecordLoading : boolean = false;\n  resultData : any[]=[];\n  columnData : any[]=[];\n  filterData :SpaceUtilizationStatisticsFilterInputDTO =  new SpaceUtilizationStatisticsFilterInputDTO(false,false,false,false);\n  grid_array : any[]=[];\n  showPopUpGrid : boolean = false;\n  roomData : any[] = [];\n  constructor(\n    private emService : EmployeeService,\n    private blService : BuildingService\n  ){\n\n  }\n  ngOnInit(): void {\n    this.onloadData();\n  }\n\n  checkboxSelected(event:any){\n    this.isTableRecordLoading = true;\n    this.resultData = [];\n    this.columnData = [];\n    this.filterData = new SpaceUtilizationStatisticsFilterInputDTO(false,false,false,false);\n    this.selectedOptions.forEach((option:any)=>{\n      if(option == 'building'){\n        this.filterData.building = true;\n      }\n      if(option == 'floor'){\n        this.filterData.building = true;\n        this.filterData.floor = true;\n        if(!this.selectedOptions.includes('building')){\n          this.selectedOptions.push('building');\n        }\n      }\n      if(option == 'division'){\n        this.filterData.division = true;\n      }\n      if(option == 'department'){\n        this.filterData.division = true;\n        this.filterData.department = true;\n        if(!this.selectedOptions.includes('division')){\n          this.selectedOptions.push('division');\n        }\n      }\n    });\n    if(!this.filterData.division && !this.filterData.department && !this.filterData.building && !this.filterData.floor){\n      this.resultData = [];\n      this.isTableRecordLoading = false;\n      this.showTable = true;\n    }else{\n      this.emService.getspaceutilization(this.filterData).subscribe((res:any) => {\n        this.resultData = res;\n        this.generateColumnData();\n        this.showTable = true;\n        this.isTableRecordLoading = false;\n      })\n    }\n  }\n\n  onloadData(){\n    this.isTableRecordLoading = true;\n    this.selectedOptions.push('division');\n    this.filterData = new SpaceUtilizationStatisticsFilterInputDTO(false,false,false,false);\n    this.filterData.division = true;\n    this.emService.getspaceutilization(this.filterData).subscribe((res:any) => {\n      this.resultData = res;\n      this.generateColumnData();\n      this.showTable = true;\n      this.isTableRecordLoading = false;\n    })\n  }\n\n  generateColumnData(){\n    if(this.filterData.division){\n      this.columnData.push({field:'division',header:'Division'});\n    }\n    if(this.filterData.department){\n      this.columnData.push({field:'department',header:'Department'});\n    }\n    if(this.filterData.building){\n      this.columnData.push({field:'building',header:'Building'});\n    }\n    if(this.filterData.floor){\n      this.columnData.push({field:'floor',header:'Floor'});\n    }\n    this.columnData.push({field:'totalSpace',header:'Total Seats'});\n    this.columnData.push({field:'occupiedSpace',header:'Occupied Seats'});\n    this.columnData.push({field:'availableSpace',header:'Available Seats'});\n    this.columnData.push({field:'occupiedPercentage',header:'Occupancy (%)'});\n  }\n\n  onClear(){\n    this.selectedOptions =[];\n    this.showTable = false;\n    this.isTableRecordLoading = false;\n    this.resultData =[];\n    this.columnData =[];\n    this.onloadData();\n    this.showPopUpGrid = false;\n  }\n\n  exportExcel(){\n    this.getDestructuredData(this.resultData);\n    var excelHeaders: string[]=[];\n    import(\"xlsx\").then(xlsx => {\n      const worksheet = xlsx.utils.json_to_sheet(this.grid_array);\n      worksheet['!cols'] = [];\n      for (let i = 0; i < this.columnData.length; i++) {\n        worksheet['!cols'][i] = { wch: 20 };\n      }\n      excelHeaders = this.columnData.map(obj => obj['header']);\n      const headers = excelHeaders.map((header, index) => ({ v: header, position: String.fromCharCode(65 + index) + 1 }));\n      headers.forEach(header => {\n        worksheet[header.position] = { v: header.v };\n      });\n      const workbook = { Sheets: { 'data': worksheet }, SheetNames: ['data'] };\n      const excelBuffer: any = xlsx.write(workbook, { bookType: 'xlsx', type: 'array' });\n      this.saveAsExcelFile(excelBuffer, \"occupancy_statistics\");\n    });\n  }\n    getDestructuredData(data: any) {\n      this.grid_array = data.map((item: any) => {\n        let obj:any ={};\n        if(this.filterData.division){\n          obj[\"Division\"] = item['division']\n        }\n        if(this.filterData.department){\n          obj[\"Department\"] = item['department']\n        }\n        if(this.filterData.building){\n          obj[\"Building\"] = item['building']\n        }\n        if(this.filterData.floor){\n          obj[\"Floor\"] = item['floor']\n        }\n        obj[\"Total Seats\"] = item['totalSpace']\n        obj[\"Occupied Seats\"] = item['occupiedSpace']\n        obj[\"Available Seats\"] = item['availableSpace']\n        obj[\"Occupancy (%)\"] = item['occupiedPercentage']\n        return obj;\n      });\n    }\n  \n    saveAsExcelFile(buffer: any, fileName: string): void {\n      let EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n      let EXCEL_EXTENSION = '.xlsx';\n      const data: Blob = new Blob([buffer], {\n        type: EXCEL_TYPE\n      });\n      FileSaver.saveAs(data, fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION);\n    }\n\n    onClickCount(data:any){\n      this.showPopUpGrid = false;\n      let obj:any={};\n      if(data.division){\n        obj.divId = data.division;\n      }\n      if(data.department){\n        obj.depId = data.department;\n      }\n      if(data.building){\n        obj.blId = data.building;\n      }\n      if(data.floor){\n        obj.flId = data.floor;\n      }\n      if(this.filterData.division){\n        obj.division = true;\n      }else{\n        obj.division = false;\n      }if(this.filterData.department){\n        obj.department = true;\n      }else{\n        obj.department = false;\n      }if(this.filterData.building){\n        obj.building = true;\n      }else{\n        obj.building = false;\n      }if(this.filterData.floor){\n        obj.floor = true;\n      }else{\n        obj.floor = false;\n      }\n      this.blService.getspaceutilizationrmdata(obj).subscribe((res:any)=>{\n      this.roomData = res;\n      this.showPopUpGrid = true;\n      })\n    }\n}\n","<div class=\"card checkbox-cont\" >\n    <div style=\"display: flex;\">\n        <div style=\"margin-left:10px;\">\n            View By\n        </div>\n        <div style=\"margin-left:10px;\">\n            <p-checkbox name=\"group1\" value=\"division\" [(ngModel)]=\"selectedOptions\" inputId=\"div\" class=\"select-box\"\n            (onChange)=\"checkboxSelected($event)\"></p-checkbox>\n            <label for=\"div\">Division</label>\n        </div>\n        <div style=\"margin-left:10px;\">\n            <p-checkbox name=\"group1\" value=\"department\" [(ngModel)]=\"selectedOptions\" inputId=\"dep\" class=\"select-box\"\n            (onChange)=\"checkboxSelected($event)\"></p-checkbox>\n            <label for=\"dep\">Department</label>\n        </div>\n        <div style=\"margin-left:10px;\">\n            <p-checkbox name=\"group1\" value=\"building\" [(ngModel)]=\"selectedOptions\" inputId=\"bl\" class=\"select-box\"\n            (onChange)=\"checkboxSelected($event)\"></p-checkbox>\n            <label for=\"bl\">Building</label>\n        </div>\n        <div style=\"margin-left:10px;\">\n            <p-checkbox name=\"group1\" value=\"floor\" [(ngModel)]=\"selectedOptions\" inputId=\"fl\" class=\"select-box\"\n            (onChange)=\"checkboxSelected($event)\"></p-checkbox>\n            <label for=\"fl\">Floor</label>\n        </div>\n    </div>\n    <div style=\"margin-right:10px;\">\n        <button (click)=\"onClear()\" pButton pRipple label=\"Clear\" style=\"width: 60px;  margin-left: 5px;\"\n        class=\"p-button-primary p-button-sm pull right\"></button>\n        <button type=\"button\" (click)=\"exportExcel()\" pButton pRipple icon=\"pi pi-file-excel\"\n        class=\"p-button-success p-mr-2 pull-right\" style=\"margin-left: 5px;\" matTooltip=\"XLS\" matTooltipPosition=\"below\"\n        [disabled]=\"selectedOptions.length==0\"></button>\n    </div>\n</div>\n<div class=\"card\" *ngIf=\"showTable\" style=\"height:610px;\">\n    <p-table [columns]=\"columnData\" [paginator]=\"true\" [rows]=\"rowCount\"  [scrollable]=\"true\" scrollDirection=\"both\" scrollHeight=\"560px\"\n        [showCurrentPageReport]=\"true\"  currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\"\n         [rowsPerPageOptions]=\"[5,10,25]\" [value]=\"resultData\" [loading]=\"isTableRecordLoading\" \n         styleClass=\"p-datatable-responsive-demo p-datatable-gridlines\" [rowHover]=\"false\">\n        <ng-template pTemplate=\"header\" let-columns>\n                <tr>\n                        <th style=\"min-width:40px\" *ngFor=\"let col of columns\">\n                                {{col.header}}\n                        </th>\n                </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-rowData let-columns=\"columns\">\n                <tr (click)=\"onClickCount(rowData)\" style=\"cursor: pointer;\">\n                        <td style=\"min-width:40px\"  *ngFor=\"let col of columns\">\n                                <div>\n                                        {{rowData[col.field]}}  \n                                </div>        \n                        </td>\n                </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\" let-columns>\n                <tr>\n                        <td [attr.colspan]=columns.length+1>\n                                No records found\n                        </td>\n                </tr>\n        </ng-template>\n</p-table>\n<p-dialog [(visible)]=\"showPopUpGrid\" [modal]=\"true\" [style]=\"{width: '66vw'}\" [maximizable]=\"true\"\n[draggable]=\"false\" [resizable]=\"false\" styleClass=\"dark-panel\">\n<ng-template pTemplate=\"header\">\n    <h2 style=\"margin: 0px;\">Room List</h2>\n</ng-template>\n<ng-template pTemplate=\"body\">\n    <app-add-room-statistics-report-table [data] =\"roomData\"></app-add-room-statistics-report-table>\n</ng-template>\n</p-dialog>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}