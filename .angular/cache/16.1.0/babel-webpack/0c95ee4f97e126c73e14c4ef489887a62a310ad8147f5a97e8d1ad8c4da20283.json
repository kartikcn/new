{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../services/tokenStorage.service\";\nimport * as i5 from \"../services/shared.service\";\nimport * as i6 from \"../services/users.service\";\nimport * as i7 from \"ngx-spinner\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"../directive/directive/upper-case.directive\";\nfunction LoginComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.loginFailedMsg, \" \");\n  }\n}\nfunction LoginComponent_form_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 26);\n    i0.ɵɵtext(1, \" \\u00A0\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(2, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function LoginComponent_form_23_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.backLogin());\n    });\n    i0.ɵɵtext(3, \"\\u00A0\\u00A0\\u00A0\\u2190 GO BACK\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 28);\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"div\", 29);\n    i0.ɵɵelement(7, \"input\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 17)(9, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function LoginComponent_form_23_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.onReset());\n    });\n    i0.ɵɵtext(10, \"RESET PASSWORD\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 32);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 33);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.resetForm);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.resetForm.valid && ctx_r1.isEmailSent);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.resetErrorMsg);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.resetMsg);\n  }\n}\nexport class LoginComponent {\n  // Declare private variables\n  constructor(fb, authService, router, tokenStorage, ss, userSrv, spinner) {\n    this.fb = fb;\n    this.authService = authService;\n    this.router = router;\n    this.tokenStorage = tokenStorage;\n    this.ss = ss;\n    this.userSrv = userSrv;\n    this.spinner = spinner;\n    this.submitted = false;\n    this.returnUrl = \"\";\n    this.error = {\n      errorTitle: '',\n      errorDesc: ''\n    };\n    this.loginError = \"\";\n    this.isLoggedIn = false;\n    this.isLoginFailed = false;\n    this.title = 'appBootstrap';\n    this.isPasswordResetChecked = false;\n    this.resetMsg = \"\";\n    this.resetErrorMsg = \"\";\n    this.isEmailSent = false;\n    this.closeResult = '';\n    this.loginFailedMsg = \"\";\n    // Initialization of Reactive Form elements\n    this.loginForm = this.fb.group({\n      username: ['', [Validators.required, Validators.min(18)]],\n      password: ['', Validators.required]\n    });\n    this.resetForm = this.fb.group({\n      userEmail: ['', [Validators.required, Validators.email]]\n    });\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      this.ss.change(this.authService.isLoggedIn());\n    });\n    $(document).ready(function () {\n      $('#sidebarCollapse').on('click', function () {\n        //  $('#sidebar').toggleClass('active');\n      });\n    });\n    if (this.tokenStorage.getToken()) {\n      this.isLoggedIn = true;\n      $(\"#parent_body\").removeClass(\"login_img\");\n      const redirect = this.authService.redirectUrl ? this.authService.redirectUrl : '/index';\n      this.router.navigate([redirect]);\n    } else {\n      $(\"#parent_body\").addClass(\"login_img\");\n      this.router.navigate(['/login']);\n    }\n  }\n  onSidebarClicked() {\n    $('#sidebar').toggleClass('active');\n  }\n  onClickLink() {}\n  // getting user name and password\n  get username() {\n    return this.loginForm.get('username');\n  }\n  get password() {\n    return this.loginForm.get('password');\n  }\n  onSubmit() {\n    // login service\n    this.spinner.show();\n    this.authService.login(this.username?.value, this.password?.value).subscribe(data => {\n      this.spinner.hide();\n      $(\"#parent_body\").removeClass(\"login_img\");\n      this.tokenStorage.saveToken(data.token);\n      this.tokenStorage.saveUser(data);\n      this.isLoginFailed = false;\n      this.isLoggedIn = true;\n      this.router.navigate(['/welcome']);\n    }, error => {\n      this.spinner.hide();\n      this.isLoginFailed = true;\n      this.loginFailedMsg = '';\n      if (error.status == 405) {\n        this.loginFailedMsg = \"Current User is blocked. Please contact Adminstrator\";\n      } else {\n        this.loginFailedMsg = \"User name and password you entered don't match our records.\";\n      }\n    });\n  }\n  passwordShow() {\n    $('.textRed ,.textRed1').hide();\n    $('#loginTenant').slideUp();\n    $('#passwordReset').slideDown(\"slow\");\n    this.isPasswordResetChecked = true;\n  }\n  backLogin() {\n    $('.form-group').css('margin-top', '15px');\n    $('.textRed ,.textRed1,.textGreen').hide();\n    $('#passwordReset').slideUp();\n    $('#loginTenant').slideDown(\"slow\");\n    this.isPasswordResetChecked = false;\n  }\n  showPwd() {\n    var $pwd = $(\"#pass\");\n    if ($pwd.attr('type') === 'password') {\n      $pwd.attr('type', 'text');\n    } else {\n      $pwd.attr('type', 'password');\n    }\n  }\n  onReset() {\n    this.resetErrorMsg = this.resetMsg = \"\";\n    if (this.resetForm.valid) {\n      var userPwdDto = {\n        \"userEmail\": this.resetForm.controls[\"userEmail\"].value,\n        \"url\": window.origin + \"/password-reset\"\n      };\n      this.spinner.show();\n      this.userSrv.resetUserCrendentials(userPwdDto).subscribe(res => {\n        if (res != null && res.code == \"200\") {\n          this.resetMsg = res.text;\n          this.resetErrorMsg = \"\";\n          this.isEmailSent = true;\n        } else if (res.status == 405) {\n          this.resetErrorMsg = res.text;\n          this.resetMsg = \"\";\n          this.isEmailSent = false;\n        } else {\n          this.resetErrorMsg = res.text;\n          this.resetMsg = \"\";\n          this.isEmailSent = false;\n        }\n        this.spinner.hide();\n      }, error => {\n        this.resetErrorMsg = \"Email not sent. Please contact support\";\n        this.resetMsg = \"\";\n        this.isEmailSent = false;\n        this.spinner.hide();\n      });\n    }\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.UntypedFormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.TokenStorageService), i0.ɵɵdirectiveInject(i5.SharedService), i0.ɵɵdirectiveInject(i6.UsersService), i0.ɵɵdirectiveInject(i7.NgxSpinnerService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 27,\n    vars: 4,\n    consts: [[1, \"container\"], [\"id\", \"loginbox\", 1, \"mainbox\", \"col-md-6\", \"col-md-offset-3\", \"col-sm-8\", \"col-sm-offset-2\", \"logInBoxDiv\"], [1, \"panel\", \"panel-info\", 2, \"background-color\", \"white !important\"], [\"href\", \"#\", \"target\", \"_blank\"], [\"src\", \"assets/images/fms_logo_dark_uncollapsed.png\", \"width\", \"250px\", \"height\", \"100px\", \"alt\", \"FMS\", 1, \"companyLogo\"], [1, \"panel-body\", 2, \"padding-top\", \"15px\", \"margin\", \"10%\"], [\"id\", \"login-alert\", 1, \"alert\", \"alert-danger\", \"col-sm-12\", 2, \"display\", \"none\"], [\"id\", \"loginTenant\", 3, \"formGroup\"], [1, \"input-group\", \"mBottom\", \"mBottom\"], [\"type\", \"email\", \"formControlName\", \"username\", \"uppercase\", \"\", \"autofocus\", \"\", \"placeholder\", \"User Name\", \"id\", \"email\", \"required\", \"\", \"maxlength\", \"64\", 1, \"form-control\"], [1, \"input-group\", \"mBottom\"], [\"type\", \"password\", \"formControlName\", \"password\", \"autofocus\", \"\", \"id\", \"pass\", \"placeholder\", \"Password\", \"required\", \"\", \"maxlength\", \"64\", 1, \"form-control\"], [1, \"input-group-btn\", 2, \"margin-top\", \"-2px\", \"float\", \"left\", \"outline\", \"0.01em solid #dee2e6\", \"margin-left\", \"0.5px\"], [\"type\", \"button\", 1, \"btn\", \"btn-default\", \"reveal\", 3, \"click\"], [1, \"fa\", \"fa-eye\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [1, \"form-group\", 2, \"margin-top\", \"10px\"], [1, \"col-sm-12\", \"controls\"], [\"id\", \"login_btn\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"form-group\"], [1, \"textRed\"], [1, \"col-md-12\", \"control\"], [\"id\", \"passwordReset\", \"class\", \"form-horizontal\", \"role\", \"form\", \"style\", \"text-decoration: none !important;\", 3, \"formGroup\", 4, \"ngIf\"], [\"bdColor\", \"rgba(0, 0, 0, 0.8)\", \"size\", \"medium\", \"type\", \"square-jelly-box\", 1, \"spinner-color\", 3, \"fullScreen\"], [2, \"color\", \"white\"], [2, \"color\", \"red\"], [\"id\", \"passwordReset\", \"role\", \"form\", 1, \"form-horizontal\", 2, \"text-decoration\", \"none !important\", 3, \"formGroup\"], [1, \"btn\", \"bLogin\", 2, \"margin-left\", \"15px !important\", \"margin-right\", \"0px !important\", 3, \"click\"], [1, \"bLoginDiv\"], [1, \"input-group\", \"input-groupSub\"], [\"id\", \"Ema\", \"type\", \"text\", \"formControlName\", \"userEmail\", \"name\", \"email\", \"value\", \"\", \"placeholder\", \"Email\", \"maxlength\", \"64\", 1, \"form-control\", \"input_box\"], [\"id\", \"resetBtn\", 1, \"btn\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"textRed1\"], [1, \"textGreen\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\n        i0.ɵɵelement(4, \"img\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵelement(6, \"div\", 6);\n        i0.ɵɵelementStart(7, \"form\", 7)(8, \"div\", 8);\n        i0.ɵɵelement(9, \"input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 10);\n        i0.ɵɵelement(11, \"input\", 11);\n        i0.ɵɵelementStart(12, \"span\", 12)(13, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_13_listener() {\n          return ctx.showPwd();\n        });\n        i0.ɵɵelement(14, \"em\", 14);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(15, LoginComponent_div_15_Template, 2, 1, \"div\", 15);\n        i0.ɵɵelementStart(16, \"div\", 16)(17, \"div\", 17)(18, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_18_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵtext(19, \"LOGIN\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(20, \"div\", 19);\n        i0.ɵɵelement(21, \"div\", 20)(22, \"div\", 21);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(23, LoginComponent_form_23_Template, 15, 4, \"form\", 22);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"ngx-spinner\", 23)(25, \"p\", 24);\n        i0.ɵɵtext(26, \" Loading... \");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoginFailed);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.isPasswordResetChecked);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"fullScreen\", true);\n      }\n    },\n    dependencies: [i8.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.MaxLengthValidator, i1.FormGroupDirective, i1.FormControlName, i7.NgxSpinnerComponent, i9.UppercaseDirective],\n    styles: [\".panel-info[_ngcontent-%COMP%] {\\n  border: 0px;\\n}\\n\\na[_ngcontent-%COMP%]:visited {\\n  color: white;\\n}\\n\\n#passwordReset[_ngcontent-%COMP%] {\\n  font-size: 85%;\\n}\\n\\n.panel[_ngcontent-%COMP%] {\\n  border-radius: 5px;\\n  width: 350px !important;\\n}\\n\\n.textRed[_ngcontent-%COMP%], .textRed1[_ngcontent-%COMP%] {\\n  color: #fa6767;\\n  font-size: 85%;\\n  text-align: center;\\n  font-family: Raleway, sans-serif;\\n  padding-top: 10px !important;\\n}\\n\\n.textRed1[_ngcontent-%COMP%] {\\n  font-size: small;\\n}\\n\\n.textGreen[_ngcontent-%COMP%] {\\n  padding-top: 20px !important;\\n  color: #5bbf8b;\\n  font-size: small;\\n  text-align: center;\\n  font-family: Raleway, sans-serif;\\n}\\n\\n.input_box[_ngcontent-%COMP%] {\\n  width: 250px !important;\\n}\\n\\n.logInBoxDiv[_ngcontent-%COMP%] {\\n  margin-top: 10%;\\n  width: 500px;\\n  margin-left: 33%;\\n}\\n\\n.companyLogo[_ngcontent-%COMP%] {\\n  margin-left: 48px;\\n  margin-top: 20px;\\n}\\n\\n.mBottom[_ngcontent-%COMP%] {\\n  margin-bottom: 25px;\\n}\\n\\n#login_btn[_ngcontent-%COMP%] {\\n  width: 250px;\\n  padding: 7px;\\n  margin-left: 15px;\\n  color: white;\\n  background: #00a9c4;\\n  border-color: #00a9c4;\\n  font-size: medium;\\n}\\n\\n#login_btn[_ngcontent-%COMP%]:HOVER, #resetBtn[_ngcontent-%COMP%]:HOVER {\\n  background-color: #02adc9;\\n}\\n\\n#resetBtn[_ngcontent-%COMP%]:HOVER, #passwordReset[_ngcontent-%COMP%]:HOVER {\\n  text-decoration: underline;\\n}\\n\\n.hTrouble[_ngcontent-%COMP%] {\\n  border-top: 1px solid #e0e0e0;\\n  padding-top: 15px;\\n  font-size: 85%;\\n  padding-left: 26%;\\n}\\n\\n.reset[_ngcontent-%COMP%] {\\n  color: #00a9c4 !important;\\n  margin-left: -47px !important;\\n  font-size: 100%;\\n}\\n\\n.bLogin[_ngcontent-%COMP%] {\\n  color: #00a9c4;\\n  cursor: pointer;\\n  float: left;\\n  margin-right: 15px;\\n  font-weight: 600;\\n}\\n\\n.bLoginDiv[_ngcontent-%COMP%] {\\n  border-top: 1px solid #e0e0e0;\\n  padding-top: 15px;\\n  font-size: 85%;\\n  padding-left: 1%;\\n  margin: 12px;\\n}\\n\\n#resetBtn[_ngcontent-%COMP%] {\\n  width: 250px;\\n  padding: 7px;\\n  margin-left: 30px;\\n  color: white;\\n  background: #00a9c4;\\n  border-color: #00a9c4;\\n  font-size: medium;\\n}\\n\\n.input-groupSub[_ngcontent-%COMP%] {\\n  margin-bottom: 25px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 0px !important;\\n}\\n\\n.reveal[_ngcontent-%COMP%] {\\n  color: #00a9c4 !important;\\n}\\n\\n.reveal[_ngcontent-%COMP%]:HOVER {\\n  color: #00a9c4 !important;\\n}\\n\\n.spinner-color[_ngcontent-%COMP%] {\\n  color: #879cc9;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvc2Nzcy9fdmFyaWFibGVzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0M7RUFDTyxXQUFBO0FBQVI7O0FBRVE7RUFDQSxZQUFBO0FBQ1I7O0FBQ1E7RUFDQSxjQUFBO0FBRVI7O0FBQVE7RUFDQyxrQkFBQTtFQUNBLHVCQUFBO0FBR1Q7O0FBRFE7RUFDQSxjQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsZ0NBQUE7RUFDQSw0QkFBQTtBQUlSOztBQUZRO0VBQ0EsZ0JBQUE7QUFLUjs7QUFGUTtFQUNBLDRCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQ0FBQTtBQUtSOztBQUhRO0VBQ0EsdUJBQUE7QUFNUjs7QUFKUTtFQUNBLGVBQUE7RUFBZSxZQUFBO0VBQVksZ0JBQUE7QUFTbkM7O0FBUFE7RUFDQSxpQkFBQTtFQUFpQixnQkFBQTtBQVd6Qjs7QUFUUTtFQUNBLG1CQUFBO0FBWVI7O0FBVlE7RUFDQSxZQUFBO0VBQWEsWUFBQTtFQUFhLGlCQUFBO0VBQWlCLFlBQUE7RUFBWSxtQkFBQTtFQUFtQixxQkFBQTtFQUFxQixpQkFBQTtBQW1Cdkc7O0FBakJRO0VBQ0EseUJBQUE7QUFvQlI7O0FBakJRO0VBQ0EsMEJBQUE7QUFvQlI7O0FBbEJRO0VBQ0EsNkJBQUE7RUFBOEIsaUJBQUE7RUFBa0IsY0FBQTtFQUFjLGlCQUFBO0FBd0J0RTs7QUF0QlE7RUFDQSx5QkFBQTtFQUF5Qiw2QkFBQTtFQUE4QixlQUFBO0FBMkIvRDs7QUF6QlE7RUFDQSxjQUFBO0VBQWUsZUFBQTtFQUFlLFdBQUE7RUFBVyxrQkFBQTtFQUFtQixnQkFBQTtBQWdDcEU7O0FBOUJRO0VBQ0EsNkJBQUE7RUFBOEIsaUJBQUE7RUFBa0IsY0FBQTtFQUFjLGdCQUFBO0VBQWlCLFlBQUE7QUFxQ3ZGOztBQW5DUTtFQUNBLFlBQUE7RUFBYSxZQUFBO0VBQWEsaUJBQUE7RUFBa0IsWUFBQTtFQUFZLG1CQUFBO0VBQW1CLHFCQUFBO0VBQXFCLGlCQUFBO0FBNEN4Rzs7QUExQ1E7RUFDQSxtQkFBQTtBQTZDUjs7QUExQ1E7RUFDQSw2QkFBQTtBQTZDUjs7QUExQ1E7RUFDSSx5QkFBQTtBQTZDWjs7QUEzQ1E7RUFDSSx5QkFBQTtBQThDWjs7QUE1Q0k7RUFDSSxjQzFFQztBRHlIVCIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy9zcmMvc2Nzcy92YXJpYWJsZXMnO1xuIC5wYW5lbC1pbmZve1xuICAgICAgICBib3JkZXI6MHB4O1xuICAgICAgICB9XG4gICAgICAgIGE6dmlzaXRlZCB7XG4gICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICB9XG4gICAgICAgICNwYXNzd29yZFJlc2V0e1xuICAgICAgICBmb250LXNpemU6IDg1JTtcbiAgICAgICAgfVxuICAgICAgICAucGFuZWx7XG4gICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgICB3aWR0aDogMzUwcHggIWltcG9ydGFudDtcbiAgICAgICAgfSAgICBcbiAgICAgICAgLnRleHRSZWQsIC50ZXh0UmVkMXtcbiAgICAgICAgY29sb3I6I2ZhNjc2NztcbiAgICAgICAgZm9udC1zaXplOjg1JTtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LWZhbWlseTogUmFsZXdheSwgc2Fucy1zZXJpZjtcbiAgICAgICAgcGFkZGluZy10b3A6IDEwcHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICAudGV4dFJlZDF7XG4gICAgICAgIGZvbnQtc2l6ZTpzbWFsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnRleHRHcmVlbntcbiAgICAgICAgcGFkZGluZy10b3A6IDIwcHggIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6IzViYmY4YjtcbiAgICAgICAgZm9udC1zaXplOnNtYWxsO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGZvbnQtZmFtaWx5OiBSYWxld2F5LCBzYW5zLXNlcmlmO1xuICAgICAgICB9XG4gICAgICAgIC5pbnB1dF9ib3h7XG4gICAgICAgIHdpZHRoOiAyNTBweCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIC5sb2dJbkJveERpdntcbiAgICAgICAgbWFyZ2luLXRvcDoxMCU7d2lkdGg6NTAwcHg7bWFyZ2luLWxlZnQ6IDMzJTtcbiAgICAgICAgfVxuICAgICAgICAuY29tcGFueUxvZ297XG4gICAgICAgIG1hcmdpbi1sZWZ0OjQ4cHg7bWFyZ2luLXRvcDoyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC5tQm90dG9te1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xuICAgICAgICB9XG4gICAgICAgICNsb2dpbl9idG4ge1xuICAgICAgICB3aWR0aDogMjUwcHg7cGFkZGluZzo3cHg7IG1hcmdpbi1sZWZ0OjE1cHg7Y29sb3I6d2hpdGU7YmFja2dyb3VuZDojMDBhOWM0O2JvcmRlci1jb2xvcjojMDBhOWM0O2ZvbnQtc2l6ZTogbWVkaXVtO1xuICAgICAgICB9XG4gICAgICAgICNsb2dpbl9idG46SE9WRVIsICNyZXNldEJ0bjpIT1ZFUntcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjojMDJhZGM5O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAjcmVzZXRCdG46SE9WRVIsICNwYXNzd29yZFJlc2V0OkhPVkVSe1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgICAgfVxuICAgICAgICAuaFRyb3VibGV7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCNlMGUwZTA7IHBhZGRpbmctdG9wOjE1cHg7IGZvbnQtc2l6ZTo4NSU7cGFkZGluZy1sZWZ0OjI2JTtcbiAgICAgICAgfVxuICAgICAgICAucmVzZXR7XG4gICAgICAgIGNvbG9yOiMwMGE5YzQgIWltcG9ydGFudDttYXJnaW4tbGVmdDogLTQ3cHggIWltcG9ydGFudDtmb250LXNpemU6IDEwMCU7XG4gICAgICAgIH1cbiAgICAgICAgLmJMb2dpbntcbiAgICAgICAgY29sb3I6IzAwYTljNDsgY3Vyc29yOnBvaW50ZXI7ZmxvYXQ6bGVmdDttYXJnaW4tcmlnaHQ6IDE1cHg7Zm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgfVxuICAgICAgICAuYkxvZ2luRGl2e1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQjZTBlMGUwOyBwYWRkaW5nLXRvcDoxNXB4OyBmb250LXNpemU6ODUlO3BhZGRpbmctbGVmdDogMSU7bWFyZ2luOiAxMnB4O1xuICAgICAgICB9XG4gICAgICAgICNyZXNldEJ0bntcbiAgICAgICAgd2lkdGg6IDI1MHB4O3BhZGRpbmc6N3B4OyBtYXJnaW4tbGVmdDogMzBweDtjb2xvcjp3aGl0ZTtiYWNrZ3JvdW5kOiMwMGE5YzQ7Ym9yZGVyLWNvbG9yOiMwMGE5YzQ7Zm9udC1zaXplOiBtZWRpdW07XG4gICAgICAgIH1cbiAgICAgICAgLmlucHV0LWdyb3VwU3Vie1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuZm9ybS1ncm91cHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTowcHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnJldmVhbCB7XG4gICAgICAgICAgICBjb2xvcjogIzAwYTljNCAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgIC5yZXZlYWw6SE9WRVIge1xuICAgICAgICAgICAgY29sb3I6ICMwMGE5YzQgIWltcG9ydGFudDtcbiAgICAgICAgfSBcbiAgICAuc3Bpbm5lci1jb2xvcntcbiAgICAgICAgY29sb3I6ICR0b29sYmFyO1xuICAgIH1cblxuIiwiLy8gVHlwb2dyYXBoeSB2YXJpYWJsZXNcbiRmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7XG4kdXJsOiAnaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Sb2JvdG8mZGlzcGxheT1zd2FwJztcblxuXG4vLyBUaGVtaW5nIHZhcmlhYmxlXG4kcHJpbWFyeS1jb2xvcjogIzBiOWU2ZDtcbiR3aGl0ZTogI2ZmZmZmZjtcbiRtYWluLWJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XG4kdGV4dC1zaXplOjEycHg7XG4kdG9vbGJhcjojODc5Y2M5O1xuJHNpZGUtbmF2OiMzNDNhNDA7XG4kbWFuZGF0b3J5RmllbGQ6I2UwMTUxNTtcbiR0YWJCZ0NvbG9yOiAjODc5Y2M5O1xuJHRhYkFjdGl2ZUJnQ29sb3I6ICNmZmZmZmY7XG4kdGFiSGVpZ2h0OiAyLjM1O1xuJHRhYldpZHRoOiA4MHB4O1xuJHRhYkJvcmRlclJhZGl1czogNnB4IDZweCAwIDA7XG4kdGFiQm9yZGVyQm90dG9tOiAzcHggc29saWQgIzg3OWNjOSAhaW1wb3J0YW50O1xuJHRhYkZvbnRDb2xvcjogI2ZmZmZmZjtcbiR0YWJQYW5lQmFja2dyb3VuZENvbG9yOiAjRjBGMkY1O1xuJEFjdGl2ZVRhYkZvbnRDb2xvcjogIzAwMDAwMDtcblxuJHRhYmxldFBvdHJhaXRNaW5XaWR0aDo2MDBweCA7XG4kdGFibGV0UG90cmFpdE1heFdpZHRoOiA5NTlweDtcbiR0YWJsZXRMYW5kc2NhcGVNaW5XaWR0aDogOTYwcHg7XG4kdGFibGV0TGFuZHNwYWNlTWF4V2lkdGg6IDE0MzlweDtcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","loginFailedMsg","ɵɵlistener","LoginComponent_form_23_Template_button_click_2_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","backLogin","ɵɵelement","LoginComponent_form_23_Template_button_click_9_listener","ctx_r4","onReset","ɵɵproperty","ctx_r1","resetForm","valid","isEmailSent","ɵɵtextInterpolate","resetErrorMsg","resetMsg","LoginComponent","constructor","fb","authService","router","tokenStorage","ss","userSrv","spinner","submitted","returnUrl","error","errorTitle","errorDesc","loginError","isLoggedIn","isLoginFailed","title","isPasswordResetChecked","closeResult","loginForm","group","username","required","min","password","userEmail","email","ngOnInit","setTimeout","change","$","document","ready","on","getToken","removeClass","redirect","redirectUrl","navigate","addClass","onSidebarClicked","toggleClass","onClickLink","get","onSubmit","show","login","value","subscribe","data","hide","saveToken","token","saveUser","status","passwordShow","slideUp","slideDown","css","showPwd","$pwd","attr","userPwdDto","controls","window","origin","resetUserCrendentials","res","code","text","_","ɵɵdirectiveInject","i1","UntypedFormBuilder","i2","AuthService","i3","Router","i4","TokenStorageService","i5","SharedService","i6","UsersService","i7","NgxSpinnerService","_2","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","LoginComponent_Template_button_click_13_listener","ɵɵtemplate","LoginComponent_div_15_Template","LoginComponent_Template_button_click_18_listener","LoginComponent_form_23_Template"],"sources":["/home/admin7/Documents/fms_frontend/src/app/login/login.component.ts","/home/admin7/Documents/fms_frontend/src/app/login/login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { UserPwdReset } from '../model/user-pwd-reset.model';\nimport { AuthService } from '../services/auth.service';\nimport { SharedService } from '../services/shared.service';\nimport { TokenStorageService } from '../services/tokenStorage.service';\nimport { UsersService } from '../services/users.service';\n\ndeclare var $: any;\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\n\nexport class LoginComponent implements OnInit {\n\n  loginForm: UntypedFormGroup;\n  resetForm:UntypedFormGroup;\n  submitted = false;\n  returnUrl: string=\"\";\n  error:any= { errorTitle: '', errorDesc: '' };\n  loginError: string=\"\";\n  isLoggedIn :boolean= false;\n  isLoginFailed :boolean= false;\n  title:string = 'appBootstrap';\n  isPasswordResetChecked:boolean=false;\n  resetMsg:string=\"\";\n  resetErrorMsg:string=\"\";\n  isEmailSent:boolean=false;\n  \n  closeResult: string='';\n  loginFailedMsg=\"\";\n\n  // Declare private variables\n  constructor(private fb: UntypedFormBuilder, \n    private authService: AuthService, \n    private router: Router,\n    private tokenStorage: TokenStorageService,\n    private ss: SharedService,\n    private userSrv:UsersService,\n    private spinner: NgxSpinnerService,\n    ) { \n      \n      // Initialization of Reactive Form elements\n    this.loginForm = this.fb.group({\n      username: ['',[Validators.required,Validators.min(18)]],\n      password: ['', Validators.required]\n    });\n    this.resetForm = this.fb.group({\n      userEmail: ['', [Validators.required,Validators.email]],\n      \n    });\n    }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.ss.change(this.authService.isLoggedIn());\n    });\n    $(document).ready(function () {\n      $('#sidebarCollapse').on('click', function () {\n      //  $('#sidebar').toggleClass('active');\n      });\n    });\n    \n      if (this.tokenStorage.getToken()) {\n        this.isLoggedIn = true;\n        $(\"#parent_body\").removeClass(\"login_img\");\n        const redirect = this.authService.redirectUrl ? this.authService.redirectUrl : '/index';\n        this.router.navigate([redirect]);\n      }else{\n      $(\"#parent_body\").addClass(\"login_img\");\n      this.router.navigate(['/login']);\n      }\n  }\n  onSidebarClicked(){\n    $('#sidebar').toggleClass('active');\n  }\n  onClickLink(){}\n\n  // getting user name and password\n  get username() { return this.loginForm.get('username'); }\n  get password() { return this.loginForm.get('password'); }\n\n  onSubmit() {\n    // login service\n    this.spinner.show();\n     this.authService.login(this.username?.value,this.password?.value).subscribe((data)=>{\n       this.spinner.hide();\n       $(\"#parent_body\").removeClass(\"login_img\");\n       this.tokenStorage.saveToken(data.token);\n        this.tokenStorage.saveUser(data);\n\n        this.isLoginFailed = false;\n        this.isLoggedIn = true;\n   this.router.navigate(['/welcome']);\n\n     },error=>{\n       this.spinner.hide();\n       this.isLoginFailed = true;\n       this.loginFailedMsg = '';\n       if (error.status == 405){\n        this.loginFailedMsg = \"Current User is blocked. Please contact Adminstrator\"\n      }else{\n        this.loginFailedMsg = \"User name and password you entered don't match our records.\"\n      }       \n       \n     });\n    \n  }\n  passwordShow(){\n\t\t$('.textRed ,.textRed1').hide();$('#loginTenant').slideUp();$('#passwordReset').slideDown(\"slow\");\n    this.isPasswordResetChecked= true;\n\t}\n\tbackLogin(){\n\t\t$('.form-group').css('margin-top', '15px');\n\t\t$('.textRed ,.textRed1,.textGreen').hide();\n\t\t$('#passwordReset').slideUp();\n\t\t$('#loginTenant').slideDown(\"slow\");\n    this.isPasswordResetChecked= false;\n\t}\n  showPwd(){\n    var $pwd = $(\"#pass\");\n\t\t    if ($pwd.attr('type') === 'password') {\n\t\t        $pwd.attr('type', 'text');\n\t\t    } else {\n\t\t        $pwd.attr('type', 'password');\n\t\t    }\n  }\n  onReset(){\n    this.resetErrorMsg = this.resetMsg = \"\";\n    \n    if (this.resetForm.valid){\n      var userPwdDto: UserPwdReset={\n        \"userEmail\": this.resetForm.controls[\"userEmail\"].value,\n        \"url\": window.origin +\"/password-reset\"\n      };\n      this.spinner.show();\n      this.userSrv.resetUserCrendentials(userPwdDto).subscribe((res)=>{\n          if(res != null &&  res.code == \"200\"){\n            this.resetMsg = res.text;\n            this.resetErrorMsg=\"\";\n            this.isEmailSent=true;\n          }\n          else if (res.status == 405){\n            this.resetErrorMsg = res.text;\n            this.resetMsg = \"\";\n            this.isEmailSent = false;\n          }\n          else{\n            this.resetErrorMsg = res.text;\n            this.resetMsg=\"\";\n            this.isEmailSent=false;\n            \n          }\n        this.spinner.hide();\n      },error=>{\n        this.resetErrorMsg = \"Email not sent. Please contact support\";\n        this.resetMsg = \"\";\n        this.isEmailSent = false;\n        this.spinner.hide()\n      });\n    }\n  }\n}","<div class=\"container\">\n    <div id=\"loginbox\" class=\"mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 logInBoxDiv\">\n      <div class=\"panel panel-info\" style=\"background-color: white !important;\">\n        <a href=\"#\" target=\"_blank\"><img src=\"assets/images/fms_logo_dark_uncollapsed.png\" width=\"250px\" height=\"100px\"  alt=\"FMS\" class=\"companyLogo\" />\n        </a>\n        <div style=\"padding-top:15px; margin: 10%; \" class=\"panel-body\">\n          <div style=\"display:none\" id=\"login-alert\" class=\"alert alert-danger col-sm-12\"></div>\n          <form id=\"loginTenant\" [formGroup]=\"loginForm\">\n            <div class=\"input-group mBottom mBottom\">\n              <input type=\"email\" formControlName=\"username\" uppercase  autofocus placeholder=\"User Name\" id=\"email\" class=\"form-control\" required maxlength=\"64\">\n            </div>\n            <div class=\"input-group mBottom\">\n                <input type=\"password\" formControlName=\"password\" autofocus id=\"pass\" class=\"form-control\" placeholder=\"Password\" required maxlength=\"64\">\n                <span class=\"input-group-btn\" style=\" margin-top: -2px; float:left;outline: 0.01em solid #dee2e6;margin-left: 0.5px;\">\n                <button class=\"btn btn-default reveal\" (click)=\"showPwd()\" type=\"button\"><em class=\"fa fa-eye\"></em></button>\n                </span>\n            </div>\n            <div *ngIf=\"isLoginFailed\" style=\"color: red;\">\n                   {{loginFailedMsg}}\n            </div>\n            <div style=\"margin-top:10px\" class=\"form-group\">\n              <div class=\"col-sm-12 controls\">\n                <button id=\"login_btn\" (click)=\"onSubmit()\" class=\"btn btn-success\">LOGIN</button>\n              </div>\n            </div>\n            <div class=\"form-group\">\n              <div class=\"textRed\"></div>\n              <div class=\"col-md-12 control\">\n                <!-- <div class=\"hTrouble\">\n                  Having login trouble?\n                  <br/>\n                  <button (click)=\"passwordShow();\" class=\" btn btn-link reset\">Reset Password</button> or <a href=\"\" style=\"color:#00a9c4\"> Contact Support</a>\n                </div> -->\n              </div>\n            </div>\n          </form>\n        </div>\n        <form id=\"passwordReset\" *ngIf=\"isPasswordResetChecked\" class=\"form-horizontal\" role=\"form\" style=\"text-decoration: none !important;\"  [formGroup]=\"resetForm\">\n          &nbsp;&nbsp;&nbsp;\n          <button (click)=\"backLogin();\" class=\"btn bLogin\" style=\"margin-left:15px !important;margin-right:0px !important;\">&nbsp;&nbsp;&nbsp;&larr; GO BACK</button>\n          <div class='bLoginDiv'>\n            <br/>\n            <div class=\"input-group input-groupSub\">\n              <input id=\"Ema\" type=\"text\" formControlName=\"userEmail\" class=\"form-control input_box\" name=\"email\" value=\"\" placeholder=\"Email\" maxlength=\"64\">\n            </div>\n            <div class=\"col-sm-12 controls\">\n              <button id=\"resetBtn\" class=\"btn btn-success\" (click)=\"onReset()\" [disabled]=\"(!resetForm.valid && isEmailSent)\">RESET PASSWORD</button>\n            </div>\n            <div class=\"textRed1\">{{resetErrorMsg}}</div>\n            <div class=\"textGreen\">{{resetMsg}}</div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n  <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"medium\" class=\"spinner-color\" type=\"square-jelly-box\" [fullScreen]=\"true\">\n    <p style=\"color: white\"> Loading... </p>\n  </ngx-spinner>\n\n \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}