{"ast":null,"code":"import { UtilConstant } from 'src/common/UtilConstant';\nimport { MessageService } from 'primeng/api';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../work-request/service/add-work-request.services\";\nimport * as i5 from \"../../parts-usage-analysis/services/parts-usage-analysis.service\";\nimport * as i6 from \"primeng/api\";\nimport * as i7 from \"primeng/table\";\nimport * as i8 from \"primeng/calendar\";\nimport * as i9 from \"primeng/button\";\nimport * as i10 from \"primeng/panel\";\nimport * as i11 from \"@ng-select/ng-select\";\nfunction BudgetAnalysisComponent_p_panel_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-panel\", 2)(1, \"form\", 3)(2, \"table\", 4)(3, \"tr\")(4, \"td\", 5)(5, \"div\", 6)(6, \"label\", 7);\n    i0.ɵɵtext(7, \"Request Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ng-select\", 8);\n    i0.ɵɵlistener(\"change\", function BudgetAnalysisComponent_p_panel_0_Template_ng_select_change_8_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onSelectRequst($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"td\", 5)(10, \"div\", 6)(11, \"div\", 9)(12, \"div\", 10)(13, \"label\", 7);\n    i0.ɵɵtext(14, \"Date From\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"p-calendar\", 11);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(16, \"td\", 5)(17, \"div\", 6)(18, \"div\", 9)(19, \"div\", 10)(20, \"label\", 7);\n    i0.ɵɵtext(21, \"Date To\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"p-calendar\", 12);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(23, \"td\", 5)(24, \"div\", 6)(25, \"label\", 7);\n    i0.ɵɵtext(26, \"Requests Type \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"ng-select\", 13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"td\", 5)(29, \"div\", 14)(30, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function BudgetAnalysisComponent_p_panel_0_Template_button_click_30_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function BudgetAnalysisComponent_p_panel_0_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onClickClear());\n    });\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"toggleable\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.filterPanel);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r0.allRequests);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"showIcon\", false)(\"disabled\", ctx_r0.datesReadOnly);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"showIcon\", false)(\"disabled\", ctx_r0.datesReadOnly);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r0.showRequestsTypeList)(\"searchable\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.filterPanel.valid);\n  }\n}\nfunction BudgetAnalysisComponent_div_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 23)(2, \"div\", 6)(3, \"label\", 7);\n    i0.ɵɵtext(4, \"Category\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(5, \"th\", 24)(6, \"div\", 6)(7, \"label\", 7);\n    i0.ɵɵtext(8, \"Estimated Cost\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"th\", 25)(10, \"div\", 6)(11, \"label\", 7);\n    i0.ɵɵtext(12, \"Actual Cost\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"th\", 25)(14, \"div\", 6)(15, \"label\", 7);\n    i0.ɵɵtext(16, \"Difference\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction BudgetAnalysisComponent_div_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 26)(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const reqData_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"pSelectableRow\", reqData_r11);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(reqData_r11.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 5, reqData_r11.EstimateCost, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 8, reqData_r11.ActualCost, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 11, reqData_r11.EstimateCost - reqData_r11.ActualCost, \"1.2-2\"));\n  }\n}\nfunction BudgetAnalysisComponent_div_1_ng_template_4_tr_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, ctx_r12.estimateCostSum, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 6, ctx_r12.actualCostSum, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 9, ctx_r12.sumOfDiffernces, \"1.2-2\"));\n  }\n}\nfunction BudgetAnalysisComponent_div_1_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, BudgetAnalysisComponent_div_1_ng_template_4_tr_0_Template, 12, 12, \"tr\", 27);\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.budgetalysisData.length > 0);\n  }\n}\nfunction BudgetAnalysisComponent_div_1_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" No Records Found. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", 3);\n  }\n}\nfunction BudgetAnalysisComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"p-table\", 18);\n    i0.ɵɵtemplate(2, BudgetAnalysisComponent_div_1_ng_template_2_Template, 17, 0, \"ng-template\", 19);\n    i0.ɵɵtemplate(3, BudgetAnalysisComponent_div_1_ng_template_3_Template, 12, 14, \"ng-template\", 20);\n    i0.ɵɵtemplate(4, BudgetAnalysisComponent_div_1_ng_template_4_Template, 1, 1, \"ng-template\", 21);\n    i0.ɵɵtemplate(5, BudgetAnalysisComponent_div_1_ng_template_5_Template, 3, 1, \"ng-template\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"rows\", ctx_r1.rowCount)(\"value\", ctx_r1.budgetalysisData)(\"paginator\", false)(\"customSort\", true)(\"loading\", ctx_r1.loading);\n  }\n}\nfunction BudgetAnalysisComponent_div_2_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"th\", 29);\n    i0.ɵɵelementStart(2, \"th\", 30);\n    i0.ɵɵtext(3, \" Request Code\");\n    i0.ɵɵelement(4, \"p-sortIcon\", 31)(5, \"p-columnFilter\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 33);\n    i0.ɵɵtext(7, \" Estimated Cost\");\n    i0.ɵɵelement(8, \"p-sortIcon\", 34)(9, \"p-columnFilter\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 36);\n    i0.ɵɵtext(11, \" Actual Cost\");\n    i0.ɵɵelement(12, \"p-sortIcon\", 37)(13, \"p-columnFilter\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 39);\n    i0.ɵɵtext(15, \" Difference\");\n    i0.ɵɵelement(16, \"p-sortIcon\", 40)(17, \"p-columnFilter\", 41);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction BudgetAnalysisComponent_div_2_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 26)(1, \"td\", 29)(2, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function BudgetAnalysisComponent_div_2_ng_template_3_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const reqData_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.onClickView(reqData_r17));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const reqData_r17 = ctx.$implicit;\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"pSelectableRow\", reqData_r17);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(reqData_r17.requestId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 7, reqData_r17.sumOfEstimated, \"1.2-2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 10, reqData_r17.sumOfActual, \"1.2-2\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background\", ctx_r15.getColorCode(reqData_r17));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(13, 13, reqData_r17.sumOfDifference, \"1.2-2\"));\n  }\n}\nfunction BudgetAnalysisComponent_div_2_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" No Records Found. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", 5);\n  }\n}\nconst _c0 = function () {\n  return [5, 10, 25];\n};\nfunction BudgetAnalysisComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"p-table\", 28);\n    i0.ɵɵtemplate(2, BudgetAnalysisComponent_div_2_ng_template_2_Template, 18, 0, \"ng-template\", 19);\n    i0.ɵɵtemplate(3, BudgetAnalysisComponent_div_2_ng_template_3_Template, 14, 16, \"ng-template\", 20);\n    i0.ɵɵtemplate(4, BudgetAnalysisComponent_div_2_ng_template_4_Template, 3, 1, \"ng-template\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", ctx_r2.budgetalysisDataForAll)(\"paginator\", true)(\"rows\", ctx_r2.rowCount)(\"showCurrentPageReport\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(8, _c0))(\"loading\", ctx_r2.loading)(\"scrollable\", true)(\"rowHover\", false);\n  }\n}\nexport class BudgetAnalysisComponent {\n  constructor(formBuilder, datePipe, router, wrServ, partsUsageanalysisService) {\n    this.formBuilder = formBuilder;\n    this.datePipe = datePipe;\n    this.router = router;\n    this.wrServ = wrServ;\n    this.partsUsageanalysisService = partsUsageanalysisService;\n    this.budgetalysisData = [];\n    this.budgetalysisDataForAll = [];\n    this.requestId = [];\n    this.allRequests = [];\n    this.actualCostSum = 0;\n    this.sumOfDiffernces = 0;\n    this.estimateCostSum = 0;\n    this.loading = false;\n    this.rowCount = UtilConstant.ROW_COUNT;\n    this.datesReadOnly = false;\n    this.showRequestsTypeList = [{\n      label: \"Preventive Maintenance\",\n      value: \"ppm\"\n    }, {\n      label: \"Facilities Helpdesk\",\n      value: \"facilities\"\n    }, {\n      label: \"All\",\n      value: \"all\"\n    }];\n    this.isReadOnly = false;\n    this.hideFilterPanel = false;\n    this.showType = \"facilities\";\n    this.filterPanel = this.formBuilder.group({\n      wrId: [null],\n      dateRequestedFrom: [new Date(new Date().getFullYear(), new Date().getMonth(), 1)],\n      dateRequestedTo: [new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0)],\n      showType: [this.showType]\n    });\n  }\n  ngOnInit() {\n    setTimeout(() => {\n      this.filterPanel.patchValue({\n        showType: this.showType\n      });\n      const filterData = this.getFilterData();\n      this.getRequestBugdet(filterData);\n    });\n    this.loadRequests();\n  }\n  onSearch() {\n    const filterData = this.getFilterData();\n    this.getRequestBugdet(filterData);\n  }\n  getRequestBugdet(filterData) {\n    this.loading = true;\n    this.partsUsageanalysisService.getRequestByBugdet(filterData).subscribe(res => {\n      this.loading = false;\n      this.budgetalysisDataForAll = [];\n      if (this.hideFilterPanel) {\n        this.createDataToDisplay(res[0]);\n      } else {\n        res.map(data => {\n          this.createDataForMultipleRequests(data);\n        });\n      }\n    });\n  }\n  loadRequests() {\n    this.wrServ.getAllWr().subscribe(res => {\n      this.allRequests = res;\n      this.allRequests.unshift(new Object({\n        wrId: \"Make a selection\"\n      }));\n    });\n  }\n  getFilterData() {\n    var dateRequestedFrom = this.filterPanel.controls.dateRequestedFrom.value;\n    var dateRequestedTo = this.filterPanel.controls.dateRequestedTo.value;\n    var wrId = this.filterPanel.controls.wrId.value;\n    var filterData = {\n      \"dateRequestedFrom\": this.datePipe.transform(dateRequestedFrom, \"yyyy-MM-dd\"),\n      \"dateRequestedTo\": this.datePipe.transform(dateRequestedTo, \"yyyy-MM-dd\"),\n      \"wrId\": wrId,\n      \"showRequestType\": this.filterPanel.controls.showType.value\n    };\n    return filterData;\n  }\n  createDataToDisplay(data) {\n    const dataArray = [];\n    for (const key in data) {\n      if (key !== \"RequestId\") {\n        const items = data[key];\n        items.forEach(item => {\n          const obj = {\n            label: key,\n            EstimateCost: item.EstimateCost,\n            ActualCost: item.ActualCost\n          };\n          dataArray.push(obj);\n        });\n      }\n    }\n    this.estimateCostSum = 0;\n    this.actualCostSum = 0;\n    this.sumOfDiffernces = 0;\n    dataArray.forEach(record => {\n      this.estimateCostSum += parseFloat(record.EstimateCost);\n      this.actualCostSum += parseFloat(record.ActualCost);\n      this.sumOfDiffernces += parseFloat(record.EstimateCost) - parseFloat(record.ActualCost);\n    });\n    this.budgetalysisData = dataArray;\n  }\n  createDataForMultipleRequests(data) {\n    const requestId = data.RequestId;\n    let sumOfEstimated = 0;\n    let sumOfActual = 0;\n    for (const part of data.Part) {\n      sumOfEstimated += part.EstimateCost;\n      sumOfActual += part.ActualCost;\n    }\n    for (const technician of data.Technician) {\n      sumOfEstimated += technician.EstimateCost;\n      sumOfActual += technician.ActualCost;\n    }\n    for (const tool of data.Tools) {\n      sumOfEstimated += tool.EstimateCost;\n      sumOfActual += tool.ActualCost;\n    }\n    for (const cost of data['Other Cost']) {\n      sumOfEstimated += cost.EstimateCost;\n      sumOfActual += cost.ActualCost;\n    }\n    for (const cost of data.Trade) {\n      sumOfEstimated += cost.EstimateCost;\n      sumOfActual += cost.ActualCost;\n    }\n    const sumOfDifference = sumOfEstimated - sumOfActual;\n    const requestObject = {\n      requestId: requestId,\n      sumOfEstimated: sumOfEstimated,\n      sumOfActual: sumOfActual,\n      sumOfDifference: sumOfDifference\n    };\n    this.budgetalysisDataForAll.push(requestObject);\n  }\n  onClickView(data) {\n    const wrId = data.requestId;\n    const url = this.router.serializeUrl(this.router.createUrlTree([\"/work-request-details\"], {\n      queryParams: {\n        requestId: wrId,\n        index: 0,\n        action: \"details\",\n        viewDetails: true,\n        isNavigationFromReport: true\n      }\n    }));\n    window.open(url, '_blank');\n  }\n  getColorCode(data) {\n    var currDate = new Date();\n    if (data.sumOfDifference < 0) {\n      return '#FF9999';\n    } else {\n      return '#CCFFFF';\n    }\n  }\n  onSelectRequst(data) {\n    if (data.wrId !== 'Make a selection') {\n      this.filterPanel.patchValue({\n        wrId: data.wrId,\n        dateRequestedFrom: null,\n        dateRequestedTo: null\n      });\n      this.datesReadOnly = true;\n    } else {\n      this.filterPanel.patchValue({\n        wrId: null\n      });\n      this.datesReadOnly = false;\n    }\n  }\n  onClickClear() {\n    this.filterPanel.patchValue({\n      wrId: null,\n      dateRequestedFrom: null,\n      dateRequestedTo: null,\n      showType: this.showType\n    });\n    this.datesReadOnly = false;\n  }\n  static #_ = this.ɵfac = function BudgetAnalysisComponent_Factory(t) {\n    return new (t || BudgetAnalysisComponent)(i0.ɵɵdirectiveInject(i1.UntypedFormBuilder), i0.ɵɵdirectiveInject(i2.DatePipe), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.AddWorkRequestService), i0.ɵɵdirectiveInject(i5.PartsUsageanalysisService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BudgetAnalysisComponent,\n    selectors: [[\"app-budget-analysis\"]],\n    inputs: {\n      isReadOnly: \"isReadOnly\",\n      hideFilterPanel: \"hideFilterPanel\",\n      showType: \"showType\"\n    },\n    features: [i0.ɵɵProvidersFeature([MessageService])],\n    decls: 3,\n    vars: 3,\n    consts: [[\"header\", \"Budget Summary\", 3, \"toggleable\", 4, \"ngIf\"], [\"class\", \"card\", 4, \"ngIf\"], [\"header\", \"Budget Summary\", 3, \"toggleable\"], [3, \"formGroup\"], [\"width\", \"100%\"], [2, \"width\", \"20%\"], [1, \"input-label-custom\"], [1, \"form-field-lable\"], [\"appendTo\", \"body\", \"formControlName\", \"wrId\", \"bindLabel\", \"wrId\", \"bindValue\", \"wrId\", \"placeholder\", \"Make a Selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"searchable\", \"items\", \"change\"], [1, \"p-fluid\"], [1, \"p-field\"], [\"appendTo\", \"body\", \"dateFormat\", \"dd M yy\", \"name\", \"dateRequestedFrom\", \"formControlName\", \"dateRequestedFrom\", \"inputId\", \"icon\", 3, \"showIcon\", \"disabled\"], [\"appendTo\", \"body\", \"dateFormat\", \"dd M yy\", \"name\", \"dateRequestedTo\", \"formControlName\", \"dateRequestedTo\", \"inputId\", \"icon\", 3, \"showIcon\", \"disabled\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"formControlName\", \"showType\", \"bindLabel\", \"label\", \"bindValue\", \"value\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"searchable\", \"items\"], [2, \"display\", \"flex\", \"flex-direction\", \"row\", \"justify-content\", \"center\", \"margin-top\", \"12.5px\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Search\", 1, \"p-button-primary\", \"p-button-sm\", \"filter-search-button\", 3, \"disabled\", \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Clear\", 1, \"p-button-primary\", \"p-button-sm\", \"pull-right\", \"filter-clear-button\", 3, \"click\"], [1, \"card\"], [\"styleClass\", \"p-datatable-customers p-datatable-gridlines\", \"selectionMode\", \"single\", 3, \"rows\", \"value\", \"paginator\", \"customSort\", \"loading\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"footer\"], [\"pTemplate\", \"emptymessage\"], [\"pSortableColumn\", \"label\"], [\"pSortableColumn\", \"EstimateCost\"], [\"pSortableColumn\", \"ActualCost\"], [3, \"pSelectableRow\"], [4, \"ngIf\"], [\"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", \"scrollDirection\", \"both\", \"scrollHeight\", \"450px\", \"styleClass\", \"p-datatable-customers p-datatable-gridlines\", 3, \"value\", \"paginator\", \"rows\", \"showCurrentPageReport\", \"rowsPerPageOptions\", \"loading\", \"scrollable\", \"rowHover\"], [2, \"width\", \"4rem\"], [\"pSortableColumn\", \"requestId\"], [\"field\", \"requestId\"], [\"type\", \"numeric\", \"field\", \"requestId\", \"display\", \"menu\"], [\"pSortableColumn\", \"sumOfEstimated\"], [\"field\", \"sumOfEstimated\"], [\"type\", \"numeric\", \"field\", \"sumOfEstimated\", \"display\", \"menu\"], [\"pSortableColumn\", \"sumOfActual\"], [\"field\", \"sumOfActual\"], [\"type\", \"numeric\", \"field\", \"sumOfActual\", \"display\", \"menu\"], [\"pSortableColumn\", \"sumOfDifference\"], [\"field\", \"sumOfDifference\"], [\"type\", \"numeric\", \"field\", \"sumOfDifference\", \"display\", \"menu\"], [\"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-eye\", \"type\", \"button\", 1, \"p-button-text\", \"pull-right\", 2, \"font-size\", \"5rem\", 3, \"click\"]],\n    template: function BudgetAnalysisComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, BudgetAnalysisComponent_p_panel_0_Template, 32, 14, \"p-panel\", 0);\n        i0.ɵɵtemplate(1, BudgetAnalysisComponent_div_1_Template, 6, 5, \"div\", 1);\n        i0.ɵɵtemplate(2, BudgetAnalysisComponent_div_2_Template, 5, 9, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.hideFilterPanel);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hideFilterPanel);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.hideFilterPanel);\n      }\n    },\n    dependencies: [i2.NgIf, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i6.PrimeTemplate, i7.Table, i7.SortableColumn, i7.SelectableRow, i7.SortIcon, i7.ColumnFilter, i8.Calendar, i9.ButtonDirective, i10.Panel, i1.FormGroupDirective, i1.FormControlName, i11.NgSelectComponent, i2.DecimalPipe],\n    styles: [\".filter-search-button[_ngcontent-%COMP%] {\\n  width: 80px;\\n  margin: 0px 20px 0px 0px;\\n}\\n\\n.filter-clear-button[_ngcontent-%COMP%] {\\n  width: 80px;\\n  margin-left: -5px;\\n}\\n\\n@media screen and (min-width: 600px) and (max-width: 959px) {\\n  .filter-search-button[_ngcontent-%COMP%] {\\n    width: 60px;\\n    margin: 0px 8px 0px 0px;\\n  }\\n  .filter-clear-button[_ngcontent-%COMP%] {\\n    width: 60px;\\n    margin-left: -5px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvSGVscGRlc2svYnVkZ2V0LWFuYWx5c2lzL21vZGVsL2J1ZGdldC1hbmFseXNpcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNJLFdBQUE7RUFDQSx3QkFBQTtBQUFKOztBQUVFO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBRUU7RUFDRTtJQUNFLFdBQUE7SUFDQSx1QkFBQTtFQUNKO0VBQ0U7SUFDRSxXQUFBO0lBQ0EsaUJBQUE7RUFDSjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnL3NyYy9zY3NzL3ZhcmlhYmxlcyc7XG4uZmlsdGVyLXNlYXJjaC1idXR0b257XG4gICAgd2lkdGg6IDgwcHg7IFxuICAgIG1hcmdpbjogMHB4IDIwcHggMHB4IDBweDtcbiAgfVxuICAuZmlsdGVyLWNsZWFyLWJ1dHRvbntcbiAgICB3aWR0aDogODBweDtcbiAgICBtYXJnaW4tbGVmdDogLTA1cHg7XG4gIH1cbiAgXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6ICR0YWJsZXRQb3RyYWl0TWluV2lkdGgpIGFuZCAobWF4LXdpZHRoOiR0YWJsZXRQb3RyYWl0TWF4V2lkdGggKXtcbiAgICAuZmlsdGVyLXNlYXJjaC1idXR0b257XG4gICAgICB3aWR0aDogNjBweDsgXG4gICAgICBtYXJnaW46IDBweCA4cHggMHB4IDBweDtcbiAgICB9XG4gICAgLmZpbHRlci1jbGVhci1idXR0b257XG4gICAgICB3aWR0aDogNjBweDtcbiAgICAgIG1hcmdpbi1sZWZ0OiAtMDVweDtcbiAgICB9XG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["UtilConstant","MessageService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","BudgetAnalysisComponent_p_panel_0_Template_ng_select_change_8_listener","$event","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","onSelectRequst","ɵɵelement","BudgetAnalysisComponent_p_panel_0_Template_button_click_30_listener","ctx_r5","onSearch","BudgetAnalysisComponent_p_panel_0_Template_button_click_31_listener","ctx_r6","onClickClear","ɵɵproperty","ɵɵadvance","ctx_r0","filterPanel","allRequests","datesReadOnly","showRequestsTypeList","valid","reqData_r11","ɵɵtextInterpolate","label","ɵɵpipeBind2","EstimateCost","ActualCost","ctx_r12","estimateCostSum","actualCostSum","sumOfDiffernces","ɵɵtemplate","BudgetAnalysisComponent_div_1_ng_template_4_tr_0_Template","ctx_r9","budgetalysisData","length","ɵɵattribute","BudgetAnalysisComponent_div_1_ng_template_2_Template","BudgetAnalysisComponent_div_1_ng_template_3_Template","BudgetAnalysisComponent_div_1_ng_template_4_Template","BudgetAnalysisComponent_div_1_ng_template_5_Template","ctx_r1","rowCount","loading","BudgetAnalysisComponent_div_2_ng_template_3_Template_button_click_2_listener","restoredCtx","_r19","reqData_r17","$implicit","ctx_r18","onClickView","requestId","sumOfEstimated","sumOfActual","ɵɵstyleProp","ctx_r15","getColorCode","sumOfDifference","BudgetAnalysisComponent_div_2_ng_template_2_Template","BudgetAnalysisComponent_div_2_ng_template_3_Template","BudgetAnalysisComponent_div_2_ng_template_4_Template","ctx_r2","budgetalysisDataForAll","ɵɵpureFunction0","_c0","BudgetAnalysisComponent","constructor","formBuilder","datePipe","router","wrServ","partsUsageanalysisService","ROW_COUNT","value","isReadOnly","hideFilterPanel","showType","group","wrId","dateRequestedFrom","Date","getFullYear","getMonth","dateRequestedTo","ngOnInit","setTimeout","patchValue","filterData","getFilterData","getRequestBugdet","loadRequests","getRequestByBugdet","subscribe","res","createDataToDisplay","map","data","createDataForMultipleRequests","getAllWr","unshift","Object","controls","transform","dataArray","key","items","forEach","item","obj","push","record","parseFloat","RequestId","part","Part","technician","Technician","tool","Tools","cost","Trade","requestObject","url","serializeUrl","createUrlTree","queryParams","index","action","viewDetails","isNavigationFromReport","window","open","currDate","_","ɵɵdirectiveInject","i1","UntypedFormBuilder","i2","DatePipe","i3","Router","i4","AddWorkRequestService","i5","PartsUsageanalysisService","_2","selectors","inputs","features","ɵɵProvidersFeature","decls","vars","consts","template","BudgetAnalysisComponent_Template","rf","ctx","BudgetAnalysisComponent_p_panel_0_Template","BudgetAnalysisComponent_div_1_Template","BudgetAnalysisComponent_div_2_Template"],"sources":["/home/admin7/Documents/fms_frontend/src/app/ui/Helpdesk/budget-analysis/model/budget-analysis.component.ts","/home/admin7/Documents/fms_frontend/src/app/ui/Helpdesk/budget-analysis/model/budget-analysis.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { UntypedFormBuilder, UntypedFormGroup } from '@angular/forms';\nimport { UtilConstant } from 'src/common/UtilConstant';\nimport { PartsUsageanalysisService } from '../../parts-usage-analysis/services/parts-usage-analysis.service';\nimport { MessageService } from 'primeng/api';\nimport { AddWorkRequestService } from '../../work-request/service/add-work-request.services';\nimport { DatePipe } from '@angular/common';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-budget-analysis',\n  templateUrl: './budget-analysis.component.html',\n  styleUrls: ['./budget-analysis.component.scss'],\n  providers: [MessageService]\n})\nexport class BudgetAnalysisComponent implements OnInit {\n  filterPanel!: UntypedFormGroup;\n  budgetalysisData: any[] = [];\n  budgetalysisDataForAll: any[] = [];\n  requestId: any[] = [];\n  allRequests: any[] = [];\n  actualCostSum: number = 0;\n  sumOfDiffernces: number = 0;\n  estimateCostSum: number = 0;\n  loading: boolean = false;\n  rowCount: number = UtilConstant.ROW_COUNT;\n\n  datesReadOnly : boolean = false;\n  showRequestsTypeList:any[] = [{label:\"Preventive Maintenance\",value:\"ppm\"},\n  {label:\"Facilities Helpdesk\",value:\"facilities\"},\n  {label:\"All\",value:\"all\"}]\n  @Input() isReadOnly: boolean = false;\n  @Input() hideFilterPanel: boolean = false;\n  @Input()showType:string = \"facilities\";\n  constructor(\n    private formBuilder: UntypedFormBuilder,\n    private datePipe: DatePipe,\n    private router: Router,\n    private wrServ: AddWorkRequestService,\n    private partsUsageanalysisService: PartsUsageanalysisService\n  ) {\n    this.filterPanel = this.formBuilder.group({\n      wrId: [null],\n      dateRequestedFrom: [new Date(new Date().getFullYear(), new Date().getMonth(), 1)],\n      dateRequestedTo: [new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0)],\n      showType : [this.showType]\n    });\n  }\n\n  ngOnInit(): void {\n    setTimeout(() => {\n      this.filterPanel.patchValue({\n        showType: this.showType\n      });\n      const filterData = this.getFilterData();\n      this.getRequestBugdet(filterData);\n    });\n    this.loadRequests();\n  }\n  onSearch() {\n  const filterData = this.getFilterData();\n    this.getRequestBugdet(filterData);\n  }\n\n  getRequestBugdet(filterData: any) {\n    this.loading = true\n    this.partsUsageanalysisService.getRequestByBugdet(filterData).subscribe((res: any) => {\n      this.loading = false;\n      this.budgetalysisDataForAll = [];\n      if (this.hideFilterPanel) {\n        this.createDataToDisplay(res[0]);\n      } else {\n        res.map((data: any) => {\n          this.createDataForMultipleRequests(data);\n        });\n      }\n   })\n  }\n\n  loadRequests() {\n    this.wrServ.getAllWr().subscribe((res: any) => {\n      this.allRequests = res;\n      this.allRequests.unshift(new Object({ wrId: \"Make a selection\" }));\n    })\n  }\n\n  getFilterData() {\n    var dateRequestedFrom = this.filterPanel.controls.dateRequestedFrom.value;\n    var dateRequestedTo = this.filterPanel.controls.dateRequestedTo.value;\n    var wrId = this.filterPanel.controls.wrId.value;\n    var filterData = {\n\n      \"dateRequestedFrom\": this.datePipe.transform(dateRequestedFrom, \"yyyy-MM-dd\"),\n      \"dateRequestedTo\": this.datePipe.transform(dateRequestedTo, \"yyyy-MM-dd\"),\n      \"wrId\": wrId,\n      \"showRequestType\": this.filterPanel.controls.showType.value\n     };\n    return filterData;\n  }\n\n  createDataToDisplay(data: any) {\n    const dataArray: any[] = [];\n    for (const key in data) {\n      if (key !== \"RequestId\") {\n        const items = data[key];\n        items.forEach((item: any) => {\n          const obj = {\n            label: key,\n            EstimateCost: item.EstimateCost,\n            ActualCost: item.ActualCost\n          };\n          dataArray.push(obj);\n        });\n      }\n    }\n\n    this.estimateCostSum = 0;\n    this.actualCostSum = 0;\n    this.sumOfDiffernces = 0;\n\n    dataArray.forEach(record => {\n      this.estimateCostSum += parseFloat(record.EstimateCost);\n      this.actualCostSum += parseFloat(record.ActualCost);\n      this.sumOfDiffernces += (parseFloat(record.EstimateCost) - parseFloat(record.ActualCost));\n    });\n\n    this.budgetalysisData = dataArray;\n  }\n\n  createDataForMultipleRequests(data: any) {\n    const requestId = data.RequestId;\n    let sumOfEstimated = 0;\n    let sumOfActual = 0;\n\n    for (const part of data.Part) {\n      sumOfEstimated += part.EstimateCost;\n      sumOfActual += part.ActualCost;\n    }\n\n    for (const technician of data.Technician) {\n      sumOfEstimated += technician.EstimateCost;\n      sumOfActual += technician.ActualCost;\n    }\n\n    for (const tool of data.Tools) {\n      sumOfEstimated += tool.EstimateCost;\n      sumOfActual += tool.ActualCost;\n    }\n\n    for (const cost of data['Other Cost']) {\n      sumOfEstimated += cost.EstimateCost;\n      sumOfActual += cost.ActualCost;\n    }\n\n    for (const cost of data.Trade) {\n      sumOfEstimated += cost.EstimateCost;\n      sumOfActual += cost.ActualCost;\n    }\n\n    const sumOfDifference = sumOfEstimated - sumOfActual;\n\n    const requestObject = {\n      requestId: requestId,\n      sumOfEstimated: sumOfEstimated,\n      sumOfActual: sumOfActual,\n      sumOfDifference: sumOfDifference\n    };\n    this.budgetalysisDataForAll.push(requestObject);\n  }\n\n  onClickView(data: any) {\n    const wrId = data.requestId;\n    const url = this.router.serializeUrl(\n      this.router.createUrlTree([\"/work-request-details\"], { queryParams: { requestId: wrId, index: 0, action: \"details\", viewDetails: true, isNavigationFromReport: true } })\n    );\n    window.open(url, '_blank');\n  }\n\n  getColorCode(data: any) {\n    var currDate = new Date();\n\n    if (data.sumOfDifference < 0) {\n      return '#FF9999'\n    }\n    else {\n      return '#CCFFFF'\n    }\n  }\n\n  onSelectRequst(data: any){\n    if(data.wrId !== 'Make a selection'){\n      this.filterPanel.patchValue({\n        wrId : data.wrId,\n        dateRequestedFrom : null,\n        dateRequestedTo : null\n      })\n      this.datesReadOnly = true;\n    }else{\n      this.filterPanel.patchValue({\n        wrId : null\n      })\n      this.datesReadOnly = false;\n    }\n  }\n\n  onClickClear(){\n    this.filterPanel.patchValue({\n      wrId: null,\n      dateRequestedFrom : null,\n      dateRequestedTo : null ,\n      showType: this.showType\n    });\n    this.datesReadOnly = false;\n  }\n}","<p-panel header=\"Budget Summary\" [toggleable]=\"true\" *ngIf=\"!hideFilterPanel\">\n  <form [formGroup]=\"filterPanel\">\n    <table width=\"100%\">\n      <tr>\n        <td style=\"width: 20%\">\n          <div class=\"input-label-custom \">\n            <label class='form-field-lable'>Request Code</label>\n            <ng-select appendTo=\"body\" [clearable]=\"false\" formControlName=\"wrId\" [searchable]=\"true\" bindLabel=\"wrId\"\n              bindValue=\"wrId\" [items]=\"allRequests\" class=\"ng-select-dropdown\" placeholder=\"Make a Selection\" (change)=\"onSelectRequst($event)\">\n            </ng-select>\n          </div>\n        </td>\n        <td style=\"width: 20%\">\n          <div class=\"input-label-custom\">\n            <div class=\"p-fluid\">\n              <div class=\"p-field\">\n                <label class='form-field-lable'>Date From</label>\n                <p-calendar appendTo=\"body\" dateFormat=\"dd M yy\" name=\"dateRequestedFrom\" formControlName=\"dateRequestedFrom\"\n                  [showIcon]=\"false\" inputId=\"icon\" [disabled]=\"datesReadOnly\"></p-calendar>\n              </div>\n            </div>\n          </div>\n        </td>\n        <td style=\"width: 20%\">\n          <div class=\"input-label-custom\">\n            <div class=\"p-fluid\">\n              <div class=\"p-field\">\n                <label class='form-field-lable'>Date To</label>\n                <p-calendar appendTo=\"body\" dateFormat=\"dd M yy\" name=\"dateRequestedTo\" formControlName=\"dateRequestedTo\"\n                  [showIcon]=\"false\" inputId=\"icon\" [disabled]=\"datesReadOnly\"></p-calendar>\n              </div>\n            </div>\n          </div>\n        </td>\n        <td style=\"width: 20%\">\n          <div class=\"input-label-custom \">\n              <label class='form-field-lable'>Requests Type </label>\n              <ng-select appendTo=\"body\" [clearable]=\"false\" [searchable]=\"true\"\n                  placeholder=\"Make a selection\" class=\"ng-select-dropdown\" [items]=\"showRequestsTypeList\"\n                  formControlName=\"showType\"  [searchable]=\"true\"\n                  bindLabel=\"label\" bindValue=\"value\">\n              </ng-select>\n          </div>\n      </td>\n        <td style=\"width: 20%\">\n          <div style=\"display: flex; flex-direction: row;justify-content: center; margin-top:12.5px;\">\n            <button pButton pRipple label=\"Search\" (click)=\"onSearch()\" \n              class=\"p-button-primary p-button-sm filter-search-button\" [disabled]=\"!filterPanel.valid\"></button>\n            <button pButton pRipple label=\"Clear\" \n              class=\"p-button-primary p-button-sm pull-right filter-clear-button\" (click)=\"onClickClear()\"></button>\n             </div>\n        </td>\n      </tr>\n    </table>\n  </form>\n</p-panel>\n<div class=\"card\"  *ngIf=\"hideFilterPanel\">\n  <p-table [rows]=\"rowCount\" [value]=\"budgetalysisData\" styleClass=\"p-datatable-customers p-datatable-gridlines\"\n    [paginator]=\"false\" [customSort]=\"true\" [loading]=\"loading\" selectionMode=\"single\">\n    <ng-template pTemplate=\"header\">\n      <tr>\n        <th pSortableColumn=\"label\">\n          <div class=\"input-label-custom \">\n            <label class='form-field-lable'>Category</label>\n          </div>\n        </th>\n        <th pSortableColumn=\"EstimateCost\">\n          <div class=\"input-label-custom \">\n            <label class='form-field-lable'>Estimated Cost</label>\n          </div>\n        </th>\n        <th pSortableColumn=\"ActualCost\">\n          <div class=\"input-label-custom \">\n            <label class='form-field-lable'>Actual Cost</label>\n          </div>\n        </th>\n        <th pSortableColumn=\"ActualCost\">\n          <div class=\"input-label-custom \">\n            <label class='form-field-lable'>Difference</label>\n          </div>\n        </th>\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-reqData>\n      <tr [pSelectableRow]=\"reqData\">\n        <td>{{reqData.label}}</td>\n        <td>{{reqData.EstimateCost | number:'1.2-2'}}</td>\n        <td>{{reqData.ActualCost | number:'1.2-2'}}</td>\n        <td>{{(reqData.EstimateCost-reqData.ActualCost) | number:'1.2-2'}}</td>\n\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"footer\">\n      <tr *ngIf=\"budgetalysisData.length > 0 \">\n        <td>Total</td>\n        <td>{{ estimateCostSum | number:'1.2-2'}}</td>\n        <td>{{ actualCostSum | number:'1.2-2'}}</td>\n        <td>{{ sumOfDiffernces | number:'1.2-2' }}</td>\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"emptymessage\" let-columns>\n      <tr>\n        <td [attr.colspan]=\"3\">\n          No Records Found.\n        </td>\n      </tr>\n    </ng-template>\n  </p-table>\n</div>\n<div class=\"card\"  *ngIf=\"!hideFilterPanel\">\n  <p-table [value]=\"budgetalysisDataForAll\" [paginator]=\"true\" [rows]=\"rowCount\" [showCurrentPageReport]=\"true\"\n  currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} entries\" [rowsPerPageOptions]=\"[5,10,25]\"\n  [loading]=\"loading\" [scrollable]=\"true\" scrollDirection=\"both\" scrollHeight=\"450px\"  [rowHover]=\"false\"\n  styleClass=\"p-datatable-customers p-datatable-gridlines\">\n    <ng-template pTemplate=\"header\"> \n      <tr>\n        <th style=\"width:4rem\"> </th>\n        <th pSortableColumn=\"requestId\">\n          Request Code<p-sortIcon field=\"requestId\"></p-sortIcon>\n          <p-columnFilter type=\"numeric\" field=\"requestId\" display=\"menu\"></p-columnFilter>\n        </th>\n        <th pSortableColumn=\"sumOfEstimated\">\n          Estimated Cost<p-sortIcon field=\"sumOfEstimated\"></p-sortIcon>\n          <p-columnFilter type=\"numeric\" field=\"sumOfEstimated\" display=\"menu\"></p-columnFilter>\n        </th>\n        <th pSortableColumn=\"sumOfActual\">\n          Actual Cost<p-sortIcon field=\"sumOfActual\"></p-sortIcon>\n          <p-columnFilter type=\"numeric\" field=\"sumOfActual\" display=\"menu\"></p-columnFilter>\n        </th>\n        <th pSortableColumn=\"sumOfDifference\">\n          Difference<p-sortIcon field=\"sumOfDifference\"></p-sortIcon>\n          <p-columnFilter type=\"numeric\" field=\"sumOfDifference\" display=\"menu\"></p-columnFilter>\n        </th>\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-reqData>\n      <tr [pSelectableRow]=\"reqData\">\n        <td style=\"width:4rem\" >\n        <button pButton pRipple icon=\"pi pi-eye\" type=\"button\" (click)=\"onClickView(reqData)\"\n                            class=\"p-button-text pull-right\" style=\"font-size: 5rem;\">\n                        </button>   </td>\n       <td>{{reqData.requestId}}</td>\n        <td>{{reqData.sumOfEstimated | number:'1.2-2'}}</td>\n        <td>{{reqData.sumOfActual | number:'1.2-2'}}</td>\n        <td [style.background]=\"getColorCode(reqData)\">{{(reqData.sumOfDifference) | number:'1.2-2'}}</td>\n      </tr>\n    </ng-template>\n    <ng-template pTemplate=\"emptymessage\" let-columns>\n      <tr>\n        <td [attr.colspan]=\"5\">\n          No Records Found.\n        </td>\n      </tr>\n    </ng-template>\n  </p-table>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}