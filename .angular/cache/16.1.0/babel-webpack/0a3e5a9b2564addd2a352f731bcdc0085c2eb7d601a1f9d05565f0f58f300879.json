{"ast":null,"code":"import { UtilConstant } from 'src/common/UtilConstant';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { MessageService } from 'primeng/api';\nimport { Validators } from '@angular/forms';\nimport { EnumList } from 'src/app/model/enum-list.model';\nimport { BreakpointService } from 'src/app/services/breakpoint.service';\nimport { RoomFilterInputDTO } from 'src/app/ui/background-loc/model/DTO/RoomFilterInputDTO.model';\nimport { FloorFilterInputDTO } from 'src/app/ui/background-loc/model/DTO/FloorFilterInputDTO.model';\nimport { BuildingFilterInputDTO } from 'src/app/ui/background-loc/model/DTO/BuildingFilterInputDTO.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/add-work-request.services\";\nimport * as i2 from \"src/app/services/enum.service\";\nimport * as i3 from \"src/app/ui/employee/services/employee.service\";\nimport * as i4 from \"../../problem-type/services/problem-type..service\";\nimport * as i5 from \"primeng/api\";\nimport * as i6 from \"src/app/services/site.service\";\nimport * as i7 from \"src/app/ui/background-loc/services/bl.service\";\nimport * as i8 from \"src/app/services/auth.service\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"../provider/wr-comments-provider\";\nimport * as i11 from \"../../equipment/services/equipment.services\";\nimport * as i12 from \"@angular/router\";\nimport * as i13 from \"@angular/common\";\nimport * as i14 from \"src/app/services/breakpoint.service\";\nimport * as i15 from \"ng-zorro-antd/table\";\nimport * as i16 from \"ng-zorro-antd/input\";\nimport * as i17 from \"primeng/accordion\";\nimport * as i18 from \"primeng/table\";\nimport * as i19 from \"primeng/button\";\nimport * as i20 from \"primeng/dialog\";\nimport * as i21 from \"primeng/toast\";\nimport * as i22 from \"primeng/panel\";\nimport * as i23 from \"primeng/confirmdialog\";\nimport * as i24 from \"primeng/menu\";\nimport * as i25 from \"@ng-select/ng-select\";\nimport * as i26 from \"primeng/radiobutton\";\nimport * as i27 from \"@angular/material/tooltip\";\nfunction ViewEditWorkRequestComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16)(2, \"label\", 17);\n    i0.ɵɵtext(3, \"Filter\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 18)(5, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_ng_template_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.logRequest());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ViewEditWorkRequestComponent_table_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 7)(1, \"tr\")(2, \"td\", 20)(3, \"div\", 21)(4, \"label\", 17);\n    i0.ɵɵtext(5, \"Building\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ng-select\", 22);\n    i0.ɵɵlistener(\"change\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_change_6_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onSelectBlCode($event));\n    })(\"scrollToEnd\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_scrollToEnd_6_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.scrollToEndBl());\n    })(\"search\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_search_6_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.searchBl($event));\n    })(\"open\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_open_6_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.onOpenBl());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"td\", 20)(8, \"div\", 21)(9, \"label\", 17);\n    i0.ɵɵtext(10, \"Floor \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ng-select\", 23);\n    i0.ɵɵlistener(\"change\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_change_11_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.onSelectFlCode($event));\n    })(\"scrollToEnd\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_scrollToEnd_11_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.scrollToEndFl());\n    })(\"search\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_search_11_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.searchFl($event));\n    })(\"open\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_open_11_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.onOpenFl());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"td\", 20)(13, \"div\", 21)(14, \"label\", 17);\n    i0.ɵɵtext(15, \"Room \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ng-select\", 24);\n    i0.ɵɵlistener(\"change\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_change_16_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.onSelectRmCode($event));\n    })(\"open\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_open_16_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.onOpenRm());\n    })(\"scrollToEnd\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_scrollToEnd_16_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.scrollToEndRm());\n    })(\"search\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_search_16_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.searchRm($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"td\", 20)(18, \"div\", 21)(19, \"label\", 17);\n    i0.ɵɵtext(20, \"Requests Type \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"ng-select\", 25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"tr\")(23, \"td\", 20)(24, \"div\", 21)(25, \"label\", 17);\n    i0.ɵɵtext(26, \"Asset\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"ng-select\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"td\", 20)(29, \"div\", 21)(30, \"label\", 17);\n    i0.ɵɵtext(31, \"Request Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"ng-select\", 27);\n    i0.ɵɵlistener(\"change\", function ViewEditWorkRequestComponent_table_4_Template_ng_select_change_32_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.onSelectWrId($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(33, \"td\", 20)(34, \"div\", 21)(35, \"label\", 17);\n    i0.ɵɵtext(36, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"ng-select\", 28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"td\", 20)(39, \"div\", 29)(40, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_table_4_Template_button_click_40_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.onSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_table_4_Template_button_click_41_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.onClear());\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r1.enumBL);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r1.enumFL);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r1.enumRM)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r1.showRequestsTypeList)(\"searchable\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"items\", ctx_r1.eqData)(\"clearable\", false)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.allRequests);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r1.enumStatusFilter);\n  }\n}\nfunction ViewEditWorkRequestComponent_table_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"table\", 7)(1, \"tr\")(2, \"td\", 32)(3, \"div\", 21)(4, \"label\", 17);\n    i0.ɵɵtext(5, \"Building\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ng-select\", 22);\n    i0.ɵɵlistener(\"change\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_change_6_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.onSelectBlCode($event));\n    })(\"scrollToEnd\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_scrollToEnd_6_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.scrollToEndBl());\n    })(\"search\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_search_6_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.searchBl($event));\n    })(\"open\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_open_6_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r32.onOpenBl());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"td\", 32)(8, \"div\", 21)(9, \"label\", 17);\n    i0.ɵɵtext(10, \"Floor \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ng-select\", 23);\n    i0.ɵɵlistener(\"change\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_change_11_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.onSelectFlCode($event));\n    })(\"scrollToEnd\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_scrollToEnd_11_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r34.scrollToEndFl());\n    })(\"search\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_search_11_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.searchFl($event));\n    })(\"open\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_open_11_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r36.onOpenFl());\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"td\", 32)(13, \"div\", 21)(14, \"label\", 17);\n    i0.ɵɵtext(15, \"Room \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ng-select\", 24);\n    i0.ɵɵlistener(\"change\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_change_16_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.onSelectRmCode($event));\n    })(\"open\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_open_16_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r38.onOpenRm());\n    })(\"scrollToEnd\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_scrollToEnd_16_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.scrollToEndRm());\n    })(\"search\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_search_16_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.searchRm($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(17, \"tr\")(18, \"td\", 32)(19, \"div\", 21)(20, \"label\", 17);\n    i0.ɵɵtext(21, \"Requests Type \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(22, \"ng-select\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"td\", 32)(24, \"div\", 21)(25, \"label\", 17);\n    i0.ɵɵtext(26, \"Asset\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(27, \"ng-select\", 26);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"td\", 32)(29, \"div\", 21)(30, \"label\", 17);\n    i0.ɵɵtext(31, \"Request Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"ng-select\", 27);\n    i0.ɵɵlistener(\"change\", function ViewEditWorkRequestComponent_table_5_Template_ng_select_change_32_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r41.onSelectWrId($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(33, \"tr\")(34, \"td\", 32)(35, \"div\", 21)(36, \"label\", 17);\n    i0.ɵɵtext(37, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(38, \"ng-select\", 28);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"td\", 32)(40, \"div\", 29)(41, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_table_5_Template_button_click_41_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.onSearch());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_table_5_Template_button_click_42_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.onClear());\n    });\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r2.enumBL);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r2.enumFL);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r2.enumRM)(\"searchable\", true);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"searchable\", true)(\"items\", ctx_r2.showRequestsTypeList)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"items\", ctx_r2.eqData)(\"clearable\", false)(\"searchable\", true);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r2.allRequests);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx_r2.enumStatusFilter);\n  }\n}\nfunction ViewEditWorkRequestComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"th\", 33);\n    i0.ɵɵelementStart(2, \"th\")(3, \"p\", 34);\n    i0.ɵɵtext(4, \"Request Id\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"th\")(6, \"p\", 34);\n    i0.ɵɵtext(7, \"Requested For\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"th\")(9, \"p\", 34);\n    i0.ɵɵtext(10, \"Status\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"th\")(12, \"p\", 34);\n    i0.ɵɵtext(13, \"Problem Type\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"th\")(15, \"p\", 34);\n    i0.ɵɵtext(16, \"Building\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"th\")(18, \"p\", 34);\n    i0.ɵɵtext(19, \"Floor\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"th\")(21, \"p\", 34);\n    i0.ɵɵtext(22, \"Room\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"th\")(24, \"p\", 34);\n    i0.ɵɵtext(25, \"Asset\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"th\")(27, \"p\", 34);\n    i0.ɵɵtext(28, \"Problem Description\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ViewEditWorkRequestComponent_p_accordion_9_p_accordionTab_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r51 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 40)(1, \"td\", 33)(2, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_p_accordion_9_p_accordionTab_1_ng_template_2_Template_button_click_2_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r51);\n      const wr_r48 = restoredCtx.$implicit;\n      const _r49 = i0.ɵɵreference(4);\n      const ctx_r50 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r50.setMenuList($event, _r49, wr_r48));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"p-menu\", 42, 43);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 44);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 44);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 44);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\", 44);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 44);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const wr_r48 = ctx.$implicit;\n    const ctx_r46 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"pSelectableRow\", wr_r48);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"popup\", true)(\"model\", ctx_r46.reqitems);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(wr_r48.wrId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r46.getEmployeeFullName(wr_r48.requestedFor));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(wr_r48.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"matTooltip\", wr_r48.probTypeId == null ? \"Default\" : wr_r48.problemTypeString);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", wr_r48.probTypeId == null ? \"Default\" : wr_r48.problemTypeString, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"matTooltip\", wr_r48.building);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(wr_r48.building);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"matTooltip\", wr_r48.floor);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(wr_r48.floor);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"matTooltip\", wr_r48.room);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(wr_r48.room);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(wr_r48.eqCode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"matTooltip\", wr_r48.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", wr_r48.description, \"\");\n  }\n}\nfunction ViewEditWorkRequestComponent_p_accordion_9_p_accordionTab_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2, \" No records found. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r47 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r47.statusData.length);\n  }\n}\nconst _c0 = function () {\n  return [5, 10, 25];\n};\nfunction ViewEditWorkRequestComponent_p_accordion_9_p_accordionTab_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-accordionTab\", 37)(1, \"p-table\", 38);\n    i0.ɵɵlistener(\"onRowSelect\", function ViewEditWorkRequestComponent_p_accordion_9_p_accordionTab_1_Template_p_table_onRowSelect_1_listener($event) {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r53 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r53.onViewWorkRequest($event));\n    });\n    i0.ɵɵtemplate(2, ViewEditWorkRequestComponent_p_accordion_9_p_accordionTab_1_ng_template_2_Template, 23, 17, \"ng-template\", 11);\n    i0.ɵɵtemplate(3, ViewEditWorkRequestComponent_p_accordion_9_p_accordionTab_1_ng_template_3_Template, 3, 1, \"ng-template\", 39);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const status_r45 = ctx.$implicit;\n    const ctx_r44 = i0.ɵɵnextContext(2);\n    i0.ɵɵpropertyInterpolate(\"header\", ctx_r44.findStatusCount(status_r45.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"value\", ctx_r44.statusData)(\"rowHover\", true)(\"rows\", 5)(\"paginator\", true)(\"showCurrentPageReport\", true)(\"scrollable\", true)(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(8, _c0));\n  }\n}\nfunction ViewEditWorkRequestComponent_p_accordion_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r56 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"p-accordion\", 35);\n    i0.ɵɵlistener(\"onClose\", function ViewEditWorkRequestComponent_p_accordion_9_Template_p_accordion_onClose_0_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r55 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r55.onTabClose($event));\n    })(\"onOpen\", function ViewEditWorkRequestComponent_p_accordion_9_Template_p_accordion_onOpen_0_listener($event) {\n      i0.ɵɵrestoreView(_r56);\n      const ctx_r57 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r57.onTabOpen($event));\n    });\n    i0.ɵɵtemplate(1, ViewEditWorkRequestComponent_p_accordion_9_p_accordionTab_1_Template, 4, 9, \"p-accordionTab\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.statusCountData);\n  }\n}\nfunction ViewEditWorkRequestComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r59 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 45)(1, \"div\", 21)(2, \"label\", 46);\n    i0.ɵɵtext(3, \"Comments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"nz-textarea-count\", 47)(5, \"textarea\", 48);\n    i0.ɵɵlistener(\"input\", function ViewEditWorkRequestComponent_td_14_Template_textarea_input_5_listener($event) {\n      i0.ɵɵrestoreView(_r59);\n      const ctx_r58 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r58.chanageReason($event));\n    });\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"nzMaxCharacterCount\", 512);\n  }\n}\nfunction ViewEditWorkRequestComponent_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 45)(1, \"div\", 21)(2, \"label\", 46);\n    i0.ɵɵtext(3, \"Comments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"nz-textarea-count\", 47)(5, \"textarea\", 49);\n    i0.ɵɵlistener(\"input\", function ViewEditWorkRequestComponent_td_15_Template_textarea_input_5_listener($event) {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r60.chanageReason($event));\n    });\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"nzMaxCharacterCount\", 512);\n  }\n}\nfunction ViewEditWorkRequestComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r63 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_ng_template_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r62 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r62.saveReason());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_ng_template_16_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r63);\n      const ctx_r64 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r64.cancelCancellationReason());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r7.isUpdateFormValid);\n  }\n}\nfunction ViewEditWorkRequestComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\", 2)(1, \"div\", 52)(2, \"div\", 53)(3, \"label\", 54);\n    i0.ɵɵtext(4, \"Hold For\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 53);\n    i0.ɵɵelement(6, \"p-radioButton\", 55);\n    i0.ɵɵelementStart(7, \"label\", 56);\n    i0.ɵɵtext(8, \" Access \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 53);\n    i0.ɵɵelement(10, \"p-radioButton\", 57);\n    i0.ɵɵelementStart(11, \"label\", 56);\n    i0.ɵɵtext(12, \" Parts \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 53);\n    i0.ɵɵelement(14, \"p-radioButton\", 58);\n    i0.ɵɵelementStart(15, \"label\", 56);\n    i0.ɵɵtext(16, \"Labour\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"div\", 53)(18, \"label\", 46);\n    i0.ɵɵtext(19, \"Comments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"nz-textarea-count\", 47);\n    i0.ɵɵelement(21, \"textarea\", 59);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r8.holdDialog);\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"nzMaxCharacterCount\", 512);\n  }\n}\nfunction ViewEditWorkRequestComponent_ng_template_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r66 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 50);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_ng_template_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r66);\n      const ctx_r65 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r65.confirmHoldType());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"button\", 51);\n    i0.ɵɵlistener(\"click\", function ViewEditWorkRequestComponent_ng_template_19_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r66);\n      const ctx_r67 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r67.closeHoldDialog());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r9.holdDialog.valid);\n  }\n}\nconst _c1 = function () {\n  return {\n    width: \"28vw\"\n  };\n};\nconst _c2 = function () {\n  return {\n    width: \"20vw\"\n  };\n};\nexport let ViewEditWorkRequestComponent = /*#__PURE__*/(() => {\n  class ViewEditWorkRequestComponent {\n    constructor(wrServ, enumsrv, employeeService, problemTypeService, messageService, siteService, blService, authServ, formBuilder, confirmationService, wrCommentsProvider, eqService, router, datePipe, authSrv, bps) {\n      this.wrServ = wrServ;\n      this.enumsrv = enumsrv;\n      this.employeeService = employeeService;\n      this.problemTypeService = problemTypeService;\n      this.messageService = messageService;\n      this.siteService = siteService;\n      this.blService = blService;\n      this.authServ = authServ;\n      this.formBuilder = formBuilder;\n      this.confirmationService = confirmationService;\n      this.wrCommentsProvider = wrCommentsProvider;\n      this.eqService = eqService;\n      this.router = router;\n      this.datePipe = datePipe;\n      this.authSrv = authSrv;\n      this.bps = bps;\n      this.rowCount = UtilConstant.ROW_COUNT;\n      this.allWorkRequestData = [];\n      this.enumStauts = [];\n      this.enumList = [];\n      this.enumClonedList = [];\n      this.enumStatusData = [];\n      this.allEmployees = [];\n      this.enumEm = [];\n      this.nodes = [];\n      this.problemTypeData = [];\n      this.displayProblemTypeString = '';\n      this.problemTypeString = \"\";\n      this.noGrp = false;\n      this.isGrp = true;\n      this.requestedData = [];\n      this.approvedData = [];\n      this.rejectedData = [];\n      this.inProcessData = [];\n      this.completeData = [];\n      this.closedData = [];\n      this.statusData = [];\n      this.allSitesData = [];\n      this.enumBL = [];\n      this.enumAllBl = [];\n      this.enumFL = [];\n      this.enumRM = [];\n      this.enumAllEquipment = [];\n      this.enumEquipment = [];\n      this.enumAllFL = [];\n      this.allRmDdata = [];\n      this.rm_data = [];\n      this.compId = 0;\n      this.reqitems = [];\n      this.cancelledData = [];\n      this.isReload = false;\n      this.displayForm = false;\n      this.previousAction = '';\n      this.cancelledReason = null;\n      this.rejctReason = null;\n      this.holdReason = null;\n      this.eqData = [];\n      this.allRequests = [];\n      this.loading = false;\n      this.enumStatusFilter = [];\n      this.displayHoldScreen = false;\n      this.onHoldForAccessData = [];\n      this.onHoldForPartsData = [];\n      this.onHoldForLabourData = [];\n      this.isUpdateFormValid = false;\n      this.panelExpanded = true;\n      this.loggedInUser = '';\n      this.showRequestsTypeList = [{\n        label: \"Preventive Maintenance\",\n        value: \"ppm\"\n      }, {\n        label: \"Facilities Helpdesk\",\n        value: \"facilities\"\n      }, {\n        label: \"All\",\n        value: \"all\"\n      }];\n      this.showType = \"facilities\";\n      this.useTabletProtrait = false;\n      this.statusCountData = [];\n      this.limitBl = 0;\n      this.offsetBl = 0;\n      this.limitFl = 0;\n      this.offsetFl = 0;\n      this.limitRm = 0;\n      this.offsetRm = 0;\n      this.filterCriteria = {\n        fieldName: null,\n        value: null,\n        matchMode: \"contains\",\n        limit: 0,\n        offset: 0\n      };\n      this.selectedBl = {};\n      this.selectedFl = {};\n      this.selectedRm = {};\n      this.scrollLimit = UtilConstant.SCROLL_LIMIT;\n      this.loggedInUser = this.authServ.getLoggedInUserId();\n      this.loggedInTechnicianId = this.authServ.getLoggedInTechnicianId();\n      this.filterPanel = this.formBuilder.group({\n        siteId: [null],\n        blId: [null],\n        flId: [null],\n        rmId: [null],\n        eqId: [null],\n        wrId: [null],\n        status: [null],\n        showType: [this.showType]\n      });\n      this.updateForm = this.formBuilder.group({\n        cancelledReason: [null],\n        rejectReason: [null],\n        holdReason: [null]\n      });\n      this.reqitems = [{\n        icon: 'pi-ellipsis-v',\n        items: []\n      }];\n      this.holdDialog = this.formBuilder.group({\n        hold: [null, [Validators.required]],\n        reason: [null, [Validators.required]]\n      });\n    }\n    ngOnInit() {\n      this.bps.register(this);\n      this.setShowType();\n      this.loadAllEnums();\n      this.loadAllEmployee();\n      this.loadAllProblemType();\n      this.loadequipments();\n      this.loadRequests();\n    }\n    notify() {\n      this.useTabletProtrait = BreakpointService.useTabletProtrait;\n    }\n    setShowType() {\n      setTimeout(() => {\n        this.filterPanel.patchValue({\n          showType: this.showType\n        });\n        //this.loadAllWorkRequest();\n        this.loadAllStatusCountDataByFilter();\n      });\n    }\n    loadAllEnums() {\n      this.enumsrv.getEnums().subscribe(res => {\n        if (res) {\n          this.enumList = res;\n          this.enumClonedList = this.enumList.map(x => Object.assign({}, x));\n          this.enumStatusData = this.enumClonedList.filter(t => t.tableName.toLocaleUpperCase() === 'wr'.toLocaleUpperCase() && t.fieldName.toLocaleUpperCase() === 'status'.toLocaleUpperCase());\n          this.enumStatusFilter = [...this.enumStatusData];\n          this.enumStatusFilter.unshift(new EnumList(null, \"\", \"\", 'Make a selection', null));\n        }\n      });\n    }\n    loadAllEmployee() {\n      this.employeeService.getAllEmployeeList().subscribe(res => {\n        if (res) {\n          this.allEmployees = res;\n        } else {\n          this.allEmployees = [];\n        }\n      });\n    }\n    loadAllProblemType() {\n      this.problemTypeService.getAll().subscribe(res => {\n        if (res) {\n          this.nodes = res;\n        }\n      });\n    }\n    getEnumByEnumId(enumKey) {\n      return this.enumStatusData.find(t => t.enumKey === enumKey)?.enumValue;\n    }\n    getEmployeeFullName(id) {\n      if (this.allEmployees) {\n        this.enumEm = this.allEmployees.filter(em => em.emId === id);\n        this.fullName = this.enumEm.map(em => {\n          if (em.firstName.length > 0 && em.lastName.length > 0) {\n            return em.firstName + \" \" + em.lastName + ' - ' + em.emId;\n          } else {\n            return em.firstName + ' - ' + em.emId;\n          }\n        });\n      }\n      return this.fullName;\n    }\n    loadAllStatusCountDataByFilter() {\n      this.statusCountData = [];\n      let filterData = {\n        siteId: this.filterPanel.controls.siteId.value,\n        blId: this.filterPanel.controls.blId.value,\n        flId: this.filterPanel.controls.flId.value,\n        rmId: this.filterPanel.controls.rmId.value,\n        eqId: this.filterPanel.controls.eqId.value,\n        wrId: this.filterPanel.controls.wrId.value,\n        status: this.filterPanel.controls.status.value,\n        showRequestType: this.filterPanel.controls.showType.value,\n        problemType: null,\n        dateRequestedFrom: null,\n        dateRequestedTo: null,\n        requestedFor: null,\n        technicianId: null\n      };\n      this.loading = true;\n      this.isReload = false;\n      this.wrServ.getAllStatusWithCount(filterData).subscribe(res => {\n        if (res) {\n          this.statusCountData = res;\n        }\n        this.loading = false;\n        this.isReload = true;\n      });\n    }\n    getIdByStatus(status) {\n      return this.enumStatusData.find(t => t.enumValue === status)?.enumKey;\n    }\n    getEnumById(id) {\n      return this.enumStatusData.find(t => t.id === id)?.enumValue;\n    }\n    onViewWorkRequest(event) {\n      let status = event.data.status;\n      let isRequestor = event.data.isRequestor;\n      let isApprover = event.data.isApprover;\n      let isSupervisor = event.data.isSupervisor;\n      let isTechnician = event.data.technician;\n      if (event.data) {\n        this.authSrv.setPreviousUrl(this.router.url);\n        this.router.navigate(['/work-request-details'], {\n          queryParams: {\n            requestId: event.data.wrId,\n            index: 0,\n            status: status,\n            viewDetails: true,\n            isRequestor: isRequestor,\n            isApprover: isApprover,\n            isSupervisor: isSupervisor,\n            isTechnician: isTechnician\n          }\n        });\n      }\n    }\n    onTabClose(event) {}\n    onTabOpen(event) {\n      this.statusData = [];\n      let statusName = this.statusCountData[event.index].status;\n      let filterData = {\n        siteId: this.filterPanel.controls.siteId.value,\n        blId: this.filterPanel.controls.blId.value,\n        flId: this.filterPanel.controls.flId.value,\n        rmId: this.filterPanel.controls.rmId.value,\n        eqId: this.filterPanel.controls.eqId.value,\n        wrId: this.filterPanel.controls.wrId.value,\n        status: statusName,\n        showRequestType: this.filterPanel.controls.showType.value,\n        problemType: null,\n        dateRequestedFrom: null,\n        dateRequestedTo: null,\n        requestedFor: null,\n        technicianId: null\n      };\n      this.wrServ.getAllWrByFilter(filterData).subscribe(res => {\n        if (res.code === 409) {\n          this.messageService.add({\n            key: 'error',\n            severity: 'warn',\n            summary: res.text\n          });\n        } else {\n          this.statusData = res;\n        }\n      });\n    }\n    findStatusCount(status) {\n      let result = this.statusCountData.find(each => each.status == status);\n      return `${status}(${result?.count})`;\n    }\n    setMenuList(event, menu, record) {\n      this.reqitems[0].items = [];\n      this.selectedRequest = record;\n      let status = record.status;\n      switch (status?.toLowerCase()) {\n        case 'requested':\n          if (record.isApprover === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Approve',\n              command: event => {\n                this.confirmDialog(record, \"Approve\");\n              }\n            });\n            this.reqitems[0].items?.push({\n              'label': 'Reject',\n              command: event => {\n                this.updateRequest(record, \"Reject\");\n              }\n            });\n          }\n          if (record.isRequestor === '1' || record.isSupervisor === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Cancel',\n              command: event => {\n                this.updateRequest(record, \"Cancel\");\n              }\n            });\n            this.reqitems[0].items?.push({\n              'label': 'Edit',\n              command: event => {\n                this.onEditRequest(record);\n              }\n            });\n          }\n          this.reqitems[0].items?.push({\n            'label': 'Comments',\n            command: event => {\n              this.onAddComments();\n            }\n          });\n          break;\n        case 'approved':\n          if (record.isSupervisor === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Issue',\n              command: event => {\n                this.confirmDialog(record, 'Issue');\n              }\n            });\n          }\n          if (record.isRequestor === '1' || record.isSupervisor === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Cancel',\n              command: event => {\n                this.updateRequest(record, \"Cancel\");\n              }\n            });\n            this.reqitems[0].items?.push({\n              'label': 'Edit',\n              command: event => {\n                this.onEditRequest(record);\n              }\n            });\n          }\n          this.reqitems[0].items?.push({\n            'label': 'Comments',\n            command: event => {\n              this.onAddComments();\n            }\n          });\n          break;\n        case 'rejected':\n          break;\n        case 'on hold for access':\n          if (record.isSupervisor === '1' || record.isTechnician === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Resume',\n              command: event => {\n                this.confirmDialog(record, \"Resume\");\n              }\n            });\n          }\n          if (record.isRequestor === '1' || record.isSupervisor === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Cancel',\n              command: event => {\n                this.updateRequest(record, \"Cancel\");\n              }\n            });\n            this.reqitems[0].items?.push({\n              'label': 'Edit',\n              command: event => {\n                this.onEditRequest(record);\n              }\n            });\n          }\n          this.reqitems[0].items?.push({\n            'label': 'Comments',\n            command: event => {\n              this.onAddComments();\n            }\n          });\n          break;\n        case 'on hold for parts':\n          if (record.isSupervisor === '1' || record.isTechnician === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Resume',\n              command: event => {\n                this.confirmDialog(record, \"Resume\");\n              }\n            });\n          }\n          if (record.isRequestor === '1' || record.isSupervisor === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Cancel',\n              command: event => {\n                this.updateRequest(record, \"Cancel\");\n              }\n            });\n            this.reqitems[0].items?.push({\n              'label': 'Edit',\n              command: event => {\n                this.onEditRequest(record);\n              }\n            });\n          }\n          this.reqitems[0].items?.push({\n            'label': 'Comments',\n            command: event => {\n              this.onAddComments();\n            }\n          });\n          break;\n        case 'on hold for labour':\n          if (record.isSupervisor === '1' || record.isTechnician === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Resume',\n              command: event => {\n                this.confirmDialog(record, \"Resume\");\n              }\n            });\n          }\n          if (record.isRequestor === '1' || record.isSupervisor === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Cancel',\n              command: event => {\n                this.updateRequest(record, \"Cancel\");\n              }\n            });\n            this.reqitems[0].items?.push({\n              'label': 'Edit',\n              command: event => {\n                this.onEditRequest(record);\n              }\n            });\n          }\n          this.reqitems[0].items?.push({\n            'label': 'Comments',\n            command: event => {\n              this.onAddComments();\n            }\n          });\n          break;\n        case 'in process':\n          if (record.isSupervisor === '1' || record.isTechnician === \"1\") {\n            this.reqitems[0].items?.push({\n              'label': 'Hold',\n              command: event => {\n                this.openHoldDialog();\n              }\n            });\n            this.reqitems[0].items?.push({\n              'label': 'Complete',\n              command: event => {\n                this.confirmDialog(record, \"Complete\");\n              }\n            });\n          }\n          if (record.isRequestor === '1' || record.isSupervisor === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Cancel',\n              command: event => {\n                this.updateRequest(record, \"Cancel\");\n              }\n            });\n            this.reqitems[0].items?.push({\n              'label': 'Edit',\n              command: event => {\n                this.onEditRequest(record);\n              }\n            });\n          }\n          this.reqitems[0].items?.push({\n            'label': 'Comments',\n            command: event => {\n              this.onAddComments();\n            }\n          });\n          break;\n        case 'completed':\n          if (record.isSupervisor === '1') {\n            this.reqitems[0].items?.push({\n              'label': 'Close',\n              command: event => {\n                this.confirmDialog(record, \"Close\");\n              }\n            });\n          }\n          this.reqitems[0].items?.push({\n            'label': 'Comments',\n            command: event => {\n              this.onAddComments();\n            }\n          });\n          break;\n        case 'cancelled':\n          break;\n        case 'close':\n          break;\n        default:\n          break;\n      }\n      this.reqitems[0].items?.push({\n        'label': 'Details',\n        command: event => {\n          this.openDetails(record);\n        }\n      });\n      menu.toggle(event);\n    }\n    openDetails(record) {\n      if (record) {\n        let status = record.status;\n        this.authSrv.setPreviousUrl(this.router.url);\n        this.router.navigate(['/work-request-details'], {\n          queryParams: {\n            requestId: record.wrId,\n            index: 0,\n            action: \"details\",\n            status: status,\n            viewDetails: true\n          }\n        });\n      }\n    }\n    onEditRequest(record) {\n      if (record) {\n        let status = record.status;\n        let isRequestor = record.isRequestor;\n        let isApprover = record.isApprover;\n        let isSupervisor = record.isSupervisor;\n        let isTechnician = record.technician;\n        this.authSrv.setPreviousUrl(this.router.url);\n        this.router.navigate(['/work-request-details'], {\n          queryParams: {\n            requestId: record.wrId,\n            index: 0,\n            action: \"edit\",\n            status: status,\n            viewDetails: true,\n            isRequestor: isRequestor,\n            isApprover: isApprover,\n            isSupervisor: isSupervisor,\n            isTechnician: isTechnician\n          }\n        });\n      }\n    }\n    confirmDialog(data, action) {\n      this.confirmationService.confirm({\n        message: \"Are you sure that you want to \" + action,\n        header: 'Confirmation',\n        icon: 'pi pi-exclamation-triangle',\n        accept: () => {\n          this.updateRequest(data, action);\n        }\n      });\n    }\n    updateRequest(record, action) {\n      this.selectedRequest = record;\n      switch (action.toLowerCase()) {\n        case 'approve':\n          let enumStatusAprd = \"Approved\";\n          record.status = enumStatusAprd;\n          record.dateResponded = this.datePipe.transform(new Date(), \"yyyy-MM-dd\");\n          record.timeResponded = this.datePipe.transform(new Date(), \"HH:mm:ss\");\n          this.saveWorkRequest(record);\n          break;\n        case 'reject':\n          this.updateForm.reset();\n          this.previousAction = \"Reject\";\n          this.displayForm = true;\n          break;\n        case 'cancel':\n          this.updateForm.reset();\n          this.previousAction = \"Cancel\";\n          this.displayForm = true;\n          break;\n        case 'on hold for access':\n          this.updateForm.reset();\n          this.selectedRequest.status = \"On Hold For Access\";\n          this.selectedRequest.comments = this.holdDialog.controls.reason.value;\n          this.saveWorkRequest(this.selectedRequest);\n          break;\n        case 'on hold for parts':\n          this.updateForm.reset();\n          this.selectedRequest.status = \"On Hold For Parts\";\n          this.selectedRequest.comments = this.holdDialog.controls.reason.value;\n          this.saveWorkRequest(this.selectedRequest);\n          break;\n        case 'on hold for labour':\n          this.updateForm.reset();\n          this.selectedRequest.status = \"On Hold For Labour\";\n          this.selectedRequest.comments = this.holdDialog.controls.reason.value;\n          this.saveWorkRequest(this.selectedRequest);\n          break;\n        case 'issue':\n          let enumStatusInprs = \"In Process\";\n          record.status = enumStatusInprs;\n          this.saveWorkRequest(record);\n          break;\n        case 'complete':\n          let enumStatusCmpld = \"Completed\";\n          record.status = enumStatusCmpld;\n          record.dateCompleted = this.datePipe.transform(new Date(), \"yyyy-MM-dd\");\n          record.timeCompleted = this.datePipe.transform(new Date(), \"HH:mm:ss\");\n          record.completeBy = this.authServ.getLoggedInUserEMId();\n          record.loggedInTechnicianId = this.loggedInTechnicianId;\n          this.saveWorkRequest(record);\n          break;\n        case 'resume':\n          let enumStatusInprs1 = \"In Process\";\n          record.status = enumStatusInprs1;\n          this.saveWorkRequest(record);\n          break;\n        case 'close':\n          let enumStatusClose = \"Close\";\n          record.status = enumStatusClose;\n          this.saveWorkRequest(record);\n          break;\n        default:\n          break;\n      }\n    }\n    saveWorkRequest(record) {\n      this.wrServ.saveWorkRequest(record).subscribe(res => {\n        if (res) {\n          this.messageService.clear();\n          this.messageService.add({\n            key: 'wrSave',\n            severity: 'success',\n            summary: 'Record saved successfully',\n            detail: 'Record saved successfully'\n          });\n          //this.loadAllWorkRequest();\n          this.loadAllStatusCountDataByFilter();\n        }\n      });\n    }\n    saveReason() {\n      this.cancelledReason = this.updateForm.controls.cancelledReason.value;\n      this.rejctReason = this.updateForm.controls.rejectReason.value;\n      if (this.previousAction === \"Cancel\") {\n        this.selectedRequest.status = \"Cancelled\";\n        this.selectedRequest.comments = this.cancelledReason;\n        this.saveWorkRequest(this.selectedRequest);\n        this.displayForm = false;\n      } else if (this.previousAction === \"Reject\") {\n        this.selectedRequest.status = \"Rejected\";\n        this.selectedRequest.dateResponded = this.datePipe.transform(new Date(), \"yyyy-MM-dd\");\n        this.selectedRequest.timeResponded = this.datePipe.transform(new Date(), \"HH:mm:ss\");\n        this.selectedRequest.comments = this.rejctReason;\n        this.saveWorkRequest(this.selectedRequest);\n        this.displayForm = false;\n      }\n    }\n    cancelCancellationReason() {\n      this.displayForm = false;\n    }\n    onAddComments() {\n      const dialogConfig = new MatDialogConfig();\n      dialogConfig.disableClose = true;\n      dialogConfig.autoFocus = false;\n      dialogConfig.width = '500px';\n      dialogConfig.data = {\n        wrId: this.selectedRequest.wrId\n      };\n      this.wrCommentsProvider.openDialog(dialogConfig);\n      this.wrCommentsProvider.onDialogueClosed.subscribe(result => {\n        this.messageService.clear();\n        if (result) {\n          this.messageService.add({\n            key: 'wrSave',\n            severity: 'success',\n            summary: 'Record saved successfully',\n            detail: 'Record saved successfully'\n          });\n        }\n      });\n    }\n    onSelectBlCode($event) {\n      if ($event.blId != null && $event.blId != '') {\n        this.selectedBl = $event;\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            flId: null,\n            rmId: null,\n            siteId: $event.siteId\n          });\n          this.selectedFl = {};\n        }, 0);\n      } else {\n        this.selectedBl = {};\n        this.selectedFl = {};\n      }\n    }\n    onSelectFlCode($event) {\n      if ($event.flId != null && $event.flId != '') {\n        this.selectedFl = $event;\n        const blData = {\n          blId: $event.blId,\n          blNameString: $event.blNameString,\n          site: null\n        };\n        this.selectedBl = blData;\n        this.updateBlList(blData);\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            blId: $event.blId,\n            rmId: null\n          });\n          this.selectedRm = {};\n        }, 10);\n      } else {\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            rmId: null,\n            flId: null\n          });\n        }, 0);\n        this.selectedRm = {};\n      }\n    }\n    onSelectRmCode($event) {\n      if ($event.rmId != null && $event.rmId != '') {\n        this.selectedRm = $event;\n        const blData = {\n          blId: $event.blId,\n          blNameString: $event.blNameString,\n          site: null\n        };\n        this.selectedBl = blData;\n        this.updateBlList(blData);\n        const flData = {\n          flId: $event.flId,\n          flNameString: $event.flNameString,\n          blId: $event.blId,\n          blNameString: $event.blNameString\n        };\n        this.selectedFl = flData;\n        ;\n        this.updateFlList(flData);\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            blId: $event.blId,\n            flId: $event.flId\n          });\n        }, 0);\n      } else {\n        this.selectedRm = {};\n      }\n    }\n    loadequipments() {\n      this.eqService.getAllEquipments().subscribe(res => {\n        if (res.status != 202) {\n          this.eqData = res;\n          this.eqData.unshift(new Object({\n            eqCode: \"Make a selection\",\n            description: '',\n            eqId: null\n          }));\n        }\n      });\n    }\n    loadRequests() {\n      this.wrServ.getAllWr().subscribe(res => {\n        this.allRequests = res;\n        this.allRequests.unshift(new Object({\n          wrId: \"Make a selection\"\n        }));\n      });\n    }\n    onSelectWrId(event) {\n      if (event.wrId === 'Make a selection' || event.wrId === \"\") {\n        setTimeout(() => {\n          this.filterPanel.patchValue({\n            wrId: null\n          });\n        }, 0);\n      }\n    }\n    onSearch() {\n      // this.loadAllWorkRequest();\n      this.loadAllStatusCountDataByFilter();\n    }\n    openHoldDialog() {\n      this.holdDialog.reset();\n      this.displayHoldScreen = true;\n    }\n    closeHoldDialog() {\n      this.displayHoldScreen = false;\n    }\n    confirmHoldType() {\n      this.displayHoldScreen = false;\n      let record = this.selectedRequest;\n      let action = this.holdDialog.controls.hold.value;\n      this.updateRequest(record, action);\n    }\n    chanageReason(event) {\n      this.isUpdateFormValid = false;\n      if (event.target.value && event.target.value.length > 0) {\n        this.isUpdateFormValid = true;\n      } else {\n        this.isUpdateFormValid = false;\n      }\n    }\n    logRequest() {\n      this.authSrv.setPreviousUrl(this.router.url);\n      this.router.navigate(['/add-work-request'], {\n        queryParams: {\n          requestId: 0\n        }\n      });\n    }\n    ngOnDestroy() {\n      this.bps.unregister(this);\n    }\n    scrollToEndBl() {\n      this.offsetBl = this.limitBl;\n      this.limitBl += this.scrollLimit;\n      this.filterCriteria.limit = this.limitBl;\n      this.filterCriteria.offset = this.offsetBl;\n      this.blService.getALLBuildingByScroll(this.filterCriteria).subscribe(res => {\n        this.enumBL = res;\n        this.updateBlList(this.selectedBl);\n      });\n    }\n    scrollToEndFl() {\n      this.offsetFl = this.limitFl;\n      this.limitFl += this.scrollLimit;\n      this.filterCriteria.limit = this.limitFl;\n      this.filterCriteria.offset = this.offsetFl;\n      this.blService.getALLFloorByScroll(this.filterCriteria).subscribe(res => {\n        this.enumFL = res;\n        this.updateFlList(this.selectedFl);\n      });\n    }\n    scrollToEndRm() {\n      this.offsetRm = this.limitRm;\n      this.limitRm += this.scrollLimit;\n      this.filterCriteria.limit = this.limitRm;\n      this.filterCriteria.offset = this.offsetRm;\n      this.blService.getALLRoomByScroll(this.filterCriteria).subscribe(res => {\n        this.enumRM = res;\n        this.updateRmList(this.selectedRm);\n      });\n    }\n    searchBl(event) {\n      this.filterCriteria = {};\n      this.filterCriteria = {\n        fieldName: \"blName\",\n        value: event.term,\n        matchMode: \"contains\"\n      };\n      this.scrollToEndBl();\n    }\n    searchFl(event) {\n      this.filterCriteria = {};\n      this.filterCriteria = {\n        fieldName: \"flName\",\n        value: event.term,\n        matchMode: \"contains\"\n      };\n      this.scrollToEndFl();\n    }\n    searchRm(event) {\n      this.filterCriteria = {};\n      this.filterCriteria = {\n        fieldName: \"rmName\",\n        value: event.term,\n        matchMode: \"contains\"\n      };\n      this.scrollToEndRm();\n    }\n    updateBlList(blData) {\n      if (blData.blId) {\n        this.enumBL = this.enumBL.filter(t => t.blId !== blData.blId);\n        this.enumBL = this.enumBL.filter(t => t.blId !== null);\n        this.enumBL.unshift(blData);\n      }\n      this.enumBL.unshift(new BuildingFilterInputDTO(null, 'Make a selection', null));\n    }\n    updateFlList(flData) {\n      if (flData.flId) {\n        this.enumFL = this.enumFL.filter(t => t.flId !== flData.flId);\n        this.enumFL = this.enumFL.filter(t => t.flId !== null);\n        this.enumFL.unshift(flData);\n      }\n      this.enumFL.unshift(new FloorFilterInputDTO(null, 'Make a selection', null));\n    }\n    updateRmList(rmData) {\n      if (rmData.rmId) {\n        this.enumRM = this.enumRM.filter(t => t.rmId !== rmData.rmId);\n        this.enumRM = this.enumRM.filter(t => t.rmId !== null);\n        this.enumRM.unshift(rmData);\n      }\n      this.enumRM.unshift(new RoomFilterInputDTO(null, 'Make a selection', null, null));\n    }\n    onOpenBl() {\n      this.limitBl = 0;\n      this.offsetBl = 0;\n      this.filterCriteria = {\n        fieldName: null,\n        value: null,\n        matchMode: \"contains\",\n        limit: 0,\n        offset: 0\n      };\n      this.scrollToEndBl();\n    }\n    onOpenFl() {\n      this.limitFl = 0;\n      this.offsetFl = 0;\n      if (this.selectedBl.blId) {\n        this.filterCriteria = {\n          fieldName: \"bl.blId\",\n          value: this.selectedBl.blId,\n          matchMode: \"equals\",\n          limit: 0,\n          offset: 0\n        };\n      } else {\n        this.filterCriteria = {\n          fieldName: null,\n          value: null,\n          matchMode: \"contains\",\n          limit: 0,\n          offset: 0\n        };\n      }\n      this.scrollToEndFl();\n    }\n    onOpenRm() {\n      this.limitRm = 0;\n      this.offsetRm = 0;\n      if (this.selectedFl.flId) {\n        this.filterCriteria = {\n          fieldName: \"fl.flId\",\n          value: this.selectedFl.flId,\n          matchMode: \"equals\",\n          limit: 0,\n          offset: 0\n        };\n      } else if (this.selectedBl.blId) {\n        this.filterCriteria = {\n          fieldName: \"bl.blId\",\n          value: this.selectedBl.blId,\n          matchMode: \"equals\",\n          limit: 0,\n          offset: 0\n        };\n      } else {\n        this.filterCriteria = {\n          fieldName: null,\n          value: null,\n          matchMode: \"contains\",\n          limit: 0,\n          offset: 0\n        };\n      }\n      this.scrollToEndRm();\n    }\n    onClear() {\n      this.filterPanel.reset();\n      this.filterCriteria = {\n        fieldName: null,\n        value: null,\n        matchMode: \"contains\",\n        limit: 0,\n        offset: 0\n      };\n      this.setShowType();\n      this.selectedBl = {};\n      this.selectedFl = {};\n      this.selectedRm = {};\n    }\n    static #_ = this.ɵfac = function ViewEditWorkRequestComponent_Factory(t) {\n      return new (t || ViewEditWorkRequestComponent)(i0.ɵɵdirectiveInject(i1.AddWorkRequestService), i0.ɵɵdirectiveInject(i2.EnumService), i0.ɵɵdirectiveInject(i3.EmployeeService), i0.ɵɵdirectiveInject(i4.ProblemTypeService), i0.ɵɵdirectiveInject(i5.MessageService), i0.ɵɵdirectiveInject(i6.SiteService), i0.ɵɵdirectiveInject(i7.BuildingService), i0.ɵɵdirectiveInject(i8.AuthService), i0.ɵɵdirectiveInject(i9.UntypedFormBuilder), i0.ɵɵdirectiveInject(i5.ConfirmationService), i0.ɵɵdirectiveInject(i10.WrCommentsProvider), i0.ɵɵdirectiveInject(i11.EquipmentService), i0.ɵɵdirectiveInject(i12.Router), i0.ɵɵdirectiveInject(i13.DatePipe), i0.ɵɵdirectiveInject(i8.AuthService), i0.ɵɵdirectiveInject(i14.BreakpointService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewEditWorkRequestComponent,\n      selectors: [[\"app-view-edit-work-request\"]],\n      inputs: {\n        showType: \"showType\"\n      },\n      features: [i0.ɵɵProvidersFeature([MessageService])],\n      decls: 23,\n      vars: 30,\n      consts: [[\"pTemplate\", \"header\"], [1, \"card\"], [3, \"formGroup\"], [\"width\", \"100%\", 4, \"ngIf\"], [\"styleClass\", \"p-datatable-customers p-datatable-gridlines\", \"selectionMode\", \"single\", 3, \"rows\", \"value\", \"paginator\", \"customSort\", \"loading\"], [3, \"onClose\", \"onOpen\", 4, \"ngIf\"], [3, \"header\", \"visible\", \"modal\", \"maximizable\", \"draggable\", \"resizable\", \"closable\", \"visibleChange\"], [\"width\", \"100%\"], [\"colspan\", \"2\", 4, \"ngIf\"], [\"pTemplate\", \"footer\"], [3, \"visible\", \"closable\", \"draggable\", \"resizable\", \"modal\", \"visibleChange\"], [\"pTemplate\", \"body\"], [\"key\", \"wrSave\", \"position\", \"top-right\"], [\"key\", \"error\", \"position\", \"top-right\"], [\"header\", \"Confirmation\", \"icon\", \"pi pi-exclamation-triangle\"], [1, \"header-container\"], [1, \"header-label\"], [1, \"form-field-lable\"], [1, \"header-button\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Log Request\", \"icon\", \"pi pi-plus\", 1, \"p-button-primary\", \"p-button-sm\", 2, \"margin\", \"0px 0px 0px 20px\", 3, \"click\"], [2, \"width\", \"25%\"], [1, \"input-label-custom\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"formControlName\", \"blId\", \"bindLabel\", \"blNameString\", \"bindValue\", \"blId\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"searchable\", \"items\", \"change\", \"scrollToEnd\", \"search\", \"open\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"formControlName\", \"flId\", \"bindLabel\", \"flNameString\", \"bindValue\", \"flId\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"searchable\", \"items\", \"change\", \"scrollToEnd\", \"search\", \"open\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"formControlName\", \"rmId\", \"bindLabel\", \"rmNameString\", \"bindValue\", \"rmId\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"searchable\", \"items\", \"change\", \"open\", \"scrollToEnd\", \"search\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"formControlName\", \"showType\", \"bindLabel\", \"label\", \"bindValue\", \"value\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"searchable\", \"items\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"bindLabel\", \"eqCode\", \"bindValue\", \"eqId\", \"formControlName\", \"eqId\", 1, \"ng-select-dropdown\", 3, \"items\", \"clearable\", \"searchable\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"bindLabel\", \"wrId\", \"bindValue\", \"wrId\", \"formControlName\", \"wrId\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"change\"], [\"appendTo\", \"body\", \"placeholder\", \"Make a selection\", \"bindLabel\", \"enumValue\", \"bindValue\", \"enumKey\", \"formControlName\", \"status\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\"], [2, \"display\", \"flex\", \"flex-direction\", \"row\", \"justify-content\", \"center\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Filter\", \"icon\", \"pi pi-search\", 1, \"p-button-primary\", \"p-button-sm\", 2, \"width\", \"80px\", \"margin\", \"0px 20px 0px 0px\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Clear\", \"icon\", \"pi pi-times-circle\", 1, \"p-button-primary\", \"p-button-sm\", \"pull-right\", 2, \"width\", \"80px\", 3, \"click\"], [2, \"width\", \"32%\"], [2, \"width\", \"4rem\"], [1, \"grid-label-paragraph\"], [3, \"onClose\", \"onOpen\"], [3, \"header\", 4, \"ngFor\", \"ngForOf\"], [3, \"header\"], [\"selectionMode\", \"single\", \"styleClass\", \"p-datatable-responsive-demo p-datatable-gridlines\", \"scrollDirection\", \"both\", \"scrollHeight\", \"500px\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"rowHover\", \"rows\", \"paginator\", \"showCurrentPageReport\", \"scrollable\", \"rowsPerPageOptions\", \"onRowSelect\"], [\"pTemplate\", \"emptymessage\"], [3, \"pSelectableRow\"], [\"type\", \"button\", \"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-cog\", 1, \"p-button-text\", 3, \"click\"], [\"appendTo\", \"body\", 3, \"popup\", \"model\"], [\"showMenu\", \"\"], [\"matTooltipPosition\", \"below\", 1, \"ellipsis\", 3, \"matTooltip\"], [\"colspan\", \"2\"], [1, \"form-field-lable\", \"control-label\"], [3, \"nzMaxCharacterCount\"], [\"name\", \"rejectReason\", \"formControlName\", \"rejectReason\", \"rows\", \"2\", \"nz-input\", \"\", \"maxlength\", \"512\", 1, \"form-control\", \"note-border\", 3, \"input\"], [\"name\", \"cancelledReason\", \"formControlName\", \"cancelledReason\", \"rows\", \"2\", \"nz-input\", \"\", \"maxlength\", \"512\", 1, \"form-control\", \"note-border\", 3, \"input\"], [\"type\", \"button\", \"pButton\", \"\", \"icon\", \"pi pi-check\", \"label\", \"Save\", 3, \"disabled\", \"click\"], [\"icon\", \"pi pi-times\", \"pButton\", \"\", \"label\", \"Close\", \"styleClass\", \"p-button-text\", 3, \"click\"], [2, \"display\", \"flex\", \"flex-direction\", \"row\"], [1, \"input-label-custom\", 2, \"margin-top\", \"10px\"], [1, \"form-field-lable\", \"control-label\", 2, \"margin-left\", \"5px\"], [\"name\", \"hold\", \"value\", \"On Hold For Access\", \"formControlName\", \"hold\"], [1, \"form-field-lable\", 2, \"margin-left\", \"5px\"], [\"name\", \"hold\", \"value\", \"On Hold For Parts\", \"formControlName\", \"hold\"], [\"name\", \"hold\", \"value\", \"On Hold For Labour\", \"formControlName\", \"hold\"], [\"name\", \"reason\", \"formControlName\", \"reason\", \"rows\", \"2\", \"nz-input\", \"\", \"maxlength\", \"512\", 1, \"form-control\", \"note-border\"]],\n      template: function ViewEditWorkRequestComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p-panel\");\n          i0.ɵɵtemplate(1, ViewEditWorkRequestComponent_ng_template_1_Template, 6, 0, \"ng-template\", 0);\n          i0.ɵɵelementStart(2, \"div\", 1)(3, \"form\", 2);\n          i0.ɵɵtemplate(4, ViewEditWorkRequestComponent_table_4_Template, 42, 21, \"table\", 3);\n          i0.ɵɵtemplate(5, ViewEditWorkRequestComponent_table_5_Template, 43, 21, \"table\", 3);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(6, \"div\", 1)(7, \"p-table\", 4);\n          i0.ɵɵtemplate(8, ViewEditWorkRequestComponent_ng_template_8_Template, 29, 0, \"ng-template\", 0);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(9, ViewEditWorkRequestComponent_p_accordion_9_Template, 2, 1, \"p-accordion\", 5);\n          i0.ɵɵelementStart(10, \"p-dialog\", 6);\n          i0.ɵɵlistener(\"visibleChange\", function ViewEditWorkRequestComponent_Template_p_dialog_visibleChange_10_listener($event) {\n            return ctx.displayForm = $event;\n          });\n          i0.ɵɵelementStart(11, \"form\", 2)(12, \"table\", 7)(13, \"tr\");\n          i0.ɵɵtemplate(14, ViewEditWorkRequestComponent_td_14_Template, 6, 1, \"td\", 8);\n          i0.ɵɵtemplate(15, ViewEditWorkRequestComponent_td_15_Template, 6, 1, \"td\", 8);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(16, ViewEditWorkRequestComponent_ng_template_16_Template, 2, 1, \"ng-template\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"p-dialog\", 10);\n          i0.ɵɵlistener(\"visibleChange\", function ViewEditWorkRequestComponent_Template_p_dialog_visibleChange_17_listener($event) {\n            return ctx.displayHoldScreen = $event;\n          });\n          i0.ɵɵtemplate(18, ViewEditWorkRequestComponent_ng_template_18_Template, 22, 2, \"ng-template\", 11);\n          i0.ɵɵtemplate(19, ViewEditWorkRequestComponent_ng_template_19_Template, 2, 1, \"ng-template\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"p-toast\", 12)(21, \"p-toast\", 13)(22, \"p-confirmDialog\", 14);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.filterPanel);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.useTabletProtrait);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.useTabletProtrait);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"rows\", ctx.rowCount)(\"value\", ctx.statusData)(\"paginator\", false)(\"customSort\", true)(\"loading\", ctx.loading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.isReload);\n          i0.ɵɵadvance(1);\n          i0.ɵɵstyleMap(i0.ɵɵpureFunction0(28, _c1));\n          i0.ɵɵpropertyInterpolate1(\"header\", \"Are you sure that you want to \", ctx.previousAction, \" this request?\");\n          i0.ɵɵproperty(\"visible\", ctx.displayForm)(\"modal\", true)(\"maximizable\", false)(\"draggable\", false)(\"resizable\", false)(\"closable\", false);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.updateForm);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.previousAction === \"Reject\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.previousAction === \"Cancel\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵstyleMap(i0.ɵɵpureFunction0(29, _c2));\n          i0.ɵɵproperty(\"visible\", ctx.displayHoldScreen)(\"closable\", false)(\"draggable\", false)(\"resizable\", false)(\"modal\", true);\n        }\n      },\n      dependencies: [i13.NgForOf, i13.NgIf, i9.ɵNgNoValidate, i9.DefaultValueAccessor, i9.NgControlStatus, i9.NgControlStatusGroup, i9.MaxLengthValidator, i9.FormGroupDirective, i9.FormControlName, i15.NzTableCellDirective, i15.NzThMeasureDirective, i15.NzTrDirective, i16.NzTextareaCountComponent, i16.NzInputDirective, i17.Accordion, i17.AccordionTab, i5.PrimeTemplate, i18.Table, i18.SelectableRow, i19.ButtonDirective, i20.Dialog, i21.Toast, i22.Panel, i23.ConfirmDialog, i24.Menu, i25.NgSelectComponent, i26.RadioButton, i27.MatTooltip],\n      styles: [\"@charset \\\"UTF-8\\\";.ellipsis[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  p-datatable-scrollable-header-box{padding:0}  .p-panel .p-panel-content{border:none!important;padding:0!important}  .ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;max-width:280px!important}[_nghost-%COMP%]     .pi-chevron-down:before{content:\\\"\\\\2212\\\"!important;font-size:1.5rem;font-weight:700;color:#0d89ec}[_nghost-%COMP%]     .pi-chevron-right:before{content:\\\"+\\\"!important;font-size:1.5rem;font-weight:700;color:#0d89ec}.hold-dialog-header[_ngcontent-%COMP%]{margin-left:5px;font-weight:700;font-size:14px}  .p-menu .p-submenu-header{padding:0}[_nghost-%COMP%]     .p-datatable-table{table-layout:fixed}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.header-button[_ngcontent-%COMP%]{margin-left:auto}\"]\n    });\n  }\n  return ViewEditWorkRequestComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}