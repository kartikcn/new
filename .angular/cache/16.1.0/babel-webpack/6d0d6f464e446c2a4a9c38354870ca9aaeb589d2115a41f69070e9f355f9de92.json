{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"../../../problem-type/services/problem-type..service\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"primeng/tree\";\nfunction AddWrProblemTypeComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const node_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"href\", node_r2.data, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(node_r2.label);\n  }\n}\nfunction AddWrProblemTypeComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"b\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const node_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(node_r3.label);\n  }\n}\nexport class AddWrProblemTypeComponent {\n  constructor(authSrv, problemTypeSrv) {\n    this.authSrv = authSrv;\n    this.problemTypeSrv = problemTypeSrv;\n    this.hideForm = true;\n    this.selectedRecord = [];\n    this.loading = false;\n    this.subscriptions = [];\n    this.parentProbType = '';\n    this.newRecord = true;\n    this.title = '';\n    this.saveBtnDisable = new EventEmitter();\n  }\n  ngOnInit() {\n    if (this.nodes && this.nodes.length > 0) {\n      this.selectedFiles = [this.nodes[0]];\n    }\n    this.compId = this.authSrv.getLoggedInUserCompId();\n    this.loadRecords();\n  }\n  loadRecords() {\n    this.loading = true;\n    this.nodes = [];\n    this.problemTypeSrv.getAll().subscribe(res => {\n      this.nodes = res;\n      this.loading = false;\n    });\n  }\n  nodeSelect(event) {\n    this.selectedRecord = event.node;\n    this.saveBtnDisable.emit(this.selectedRecord);\n  }\n  static #_ = this.ɵfac = function AddWrProblemTypeComponent_Factory(t) {\n    return new (t || AddWrProblemTypeComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ProblemTypeService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddWrProblemTypeComponent,\n    selectors: [[\"app-add-wr-problem-type\"]],\n    outputs: {\n      saveBtnDisable: \"saveBtnDisable\"\n    },\n    decls: 3,\n    vars: 4,\n    consts: [[\"selectionMode\", \"single\", 3, \"loading\", \"value\", \"selection\", \"filter\", \"selectionChange\", \"onNodeSelect\"], [\"pTemplate\", \"url\"], [\"pTemplate\", \"default\"], [3, \"href\"]],\n    template: function AddWrProblemTypeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p-tree\", 0);\n        i0.ɵɵlistener(\"selectionChange\", function AddWrProblemTypeComponent_Template_p_tree_selectionChange_0_listener($event) {\n          return ctx.selectedFiles = $event;\n        })(\"onNodeSelect\", function AddWrProblemTypeComponent_Template_p_tree_onNodeSelect_0_listener($event) {\n          return ctx.nodeSelect($event);\n        });\n        i0.ɵɵtemplate(1, AddWrProblemTypeComponent_ng_template_1_Template, 2, 2, \"ng-template\", 1);\n        i0.ɵɵtemplate(2, AddWrProblemTypeComponent_ng_template_2_Template, 2, 1, \"ng-template\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"loading\", ctx.loading)(\"value\", ctx.nodes)(\"selection\", ctx.selectedFiles)(\"filter\", true);\n      }\n    },\n    dependencies: [i3.PrimeTemplate, i4.Tree],\n    styles: [\"@charset \\\"UTF-8\\\";\\n  .p-tree {\\n  border: none !important;\\n  padding: 0px !important;\\n  overflow-y: scroll;\\n}\\n\\n[_nghost-%COMP%]     .pi-chevron-down:before {\\n  content: \\\"\\u2212\\\" !important;\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  color: #0d89ec;\\n}\\n\\n[_nghost-%COMP%]     .pi-chevron-right:before {\\n  content: \\\"+\\\" !important;\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  color: #0d89ec;\\n}\\n\\n[_nghost-%COMP%]     b, strong[_ngcontent-%COMP%] {\\n  font-weight: 400;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvSGVscGRlc2svd29yay1yZXF1ZXN0L3dpZGdldHMvYWRkLXdyLXByb2JsZW0tdHlwZS9hZGQtd3ItcHJvYmxlbS10eXBlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQUFoQjtFQUNJLHVCQUFBO0VBQ0EsdUJBQUE7RUFDQSxrQkFBQTtBQUVKOztBQUNBO0VBQ0ksdUJBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtBQUVKOztBQUNBO0VBQ0ksdUJBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtBQUVKOztBQUNBO0VBQ0ksZ0JBQUE7QUFFSiIsInNvdXJjZXNDb250ZW50IjpbIjo6bmctZGVlcCAucC10cmVlIHtcbiAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbiAgICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG59XG5cbjpob3N0IDo6bmctZGVlcCAucGktY2hldnJvbi1kb3duOmJlZm9yZSB7XG4gICAgY29udGVudDogXCJcXDIyMTJcIiAhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiAjMGQ4OWVjO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgLnBpLWNoZXZyb24tcmlnaHQ6YmVmb3JlIHtcbiAgICBjb250ZW50OiBcIlxcMDAyQlwiICFpbXBvcnRhbnQ7XG4gICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgY29sb3I6ICMwZDg5ZWM7XG59XG5cbjpob3N0IDo6bmctZGVlcCBiLCBzdHJvbmcge1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","node_r2","data","ɵɵsanitizeUrl","ɵɵadvance","ɵɵtextInterpolate","label","node_r3","AddWrProblemTypeComponent","constructor","authSrv","problemTypeSrv","hideForm","selectedRecord","loading","subscriptions","parentProbType","newRecord","title","saveBtnDisable","ngOnInit","nodes","length","selectedFiles","compId","getLoggedInUserCompId","loadRecords","getAll","subscribe","res","nodeSelect","event","node","emit","_","ɵɵdirectiveInject","i1","AuthService","i2","ProblemTypeService","_2","selectors","outputs","decls","vars","consts","template","AddWrProblemTypeComponent_Template","rf","ctx","ɵɵlistener","AddWrProblemTypeComponent_Template_p_tree_selectionChange_0_listener","$event","AddWrProblemTypeComponent_Template_p_tree_onNodeSelect_0_listener","ɵɵtemplate","AddWrProblemTypeComponent_ng_template_1_Template","AddWrProblemTypeComponent_ng_template_2_Template"],"sources":["/home/admin7/Documents/fms_frontend/src/app/ui/Helpdesk/work-request/widgets/add-wr-problem-type/add-wr-problem-type.component.ts","/home/admin7/Documents/fms_frontend/src/app/ui/Helpdesk/work-request/widgets/add-wr-problem-type/add-wr-problem-type.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output, } from '@angular/core';\nimport { UntypedFormGroup } from '@angular/forms';\nimport { TreeNode } from 'primeng/api';\nimport { Subscription } from 'rxjs';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { ProblemTypeService } from '../../../problem-type/services/problem-type..service';\n\n@Component({\n  selector: 'app-add-wr-problem-type',\n  templateUrl: './add-wr-problem-type.component.html',\n  styleUrls: ['./add-wr-problem-type.component.scss']\n})\nexport class AddWrProblemTypeComponent implements OnInit {\n\n  nodes!: TreeNode[];\n  hideForm: boolean = true;\n  selectedRecord: any[] = [];\n  parentRecord!: any;\n  compId!: number;\n  loading: boolean = false;\n  selectedFiles!: TreeNode[];\n  probTypeFormPanel!: UntypedFormGroup;\n  subscriptions: Subscription[] = [];\n  openedNodeData!: any;\n  parentProbType: String = '';\n  newRecord: boolean = true;\n  title: string = '';\n\n  @Output() saveBtnDisable = new EventEmitter();\n  constructor(\n    private authSrv: AuthService,\n    private problemTypeSrv: ProblemTypeService,\n  ) { }\n\n  ngOnInit(): void {\n    if (this.nodes && this.nodes.length > 0) {\n      this.selectedFiles = [this.nodes[0]];\n    }\n    this.compId = this.authSrv.getLoggedInUserCompId();\n    this.loadRecords();\n  }\n\n  loadRecords() {\n    this.loading = true;\n    this.nodes = [];\n    this.problemTypeSrv.getAll().subscribe((res: any) => {\n      this.nodes = res;\n      this.loading = false;\n    })\n  }\n\n  nodeSelect(event: any) {\n    this.selectedRecord = event.node;\n    this.saveBtnDisable.emit(this.selectedRecord);\n  }\n}\n","<p-tree [loading]=\"loading\" [value]=\"nodes\" selectionMode=\"single\" [(selection)]=\"selectedFiles\" [filter]=\"true\"\n    (onNodeSelect)=\"nodeSelect($event)\">\n    <ng-template let-node pTemplate=\"url\">\n        <a [href]=\"node.data\">{{node.label}}</a>\n    </ng-template>\n    <ng-template let-node pTemplate=\"default\">\n        <b>{{node.label}}</b>\n    </ng-template>\n</p-tree>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}