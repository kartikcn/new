{"ast":null,"code":"import { MatDialogConfig } from '@angular/material/dialog';\nimport { MessageService } from 'primeng/api';\nimport { ResourceAssignScreenComponent } from '../widgets/resource-assign-screen/resource-assign-screen.component';\nimport { ResourceUnassignScreenComponent } from '../widgets/resourrce-unassign-screen/resource-unassign-screen.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/rm-resources.service\";\nimport * as i2 from \"../provider/rm-resources.provider\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"../widgets/room-list/room-list.component\";\nimport * as i5 from \"../widgets/resourrce-unassign-screen/resource-unassign-screen.component\";\nimport * as i6 from \"../widgets/resource-assign-screen/resource-assign-screen.component\";\nimport * as i7 from \"primeng/toast\";\nimport * as i8 from \"primeng/panel\";\nexport class RmResourcesComponent {\n  constructor(rmResourcesSrv, rmResourceProvider, messageService) {\n    this.rmResourcesSrv = rmResourcesSrv;\n    this.rmResourceProvider = rmResourceProvider;\n    this.messageService = messageService;\n  }\n  ngOnInit() {}\n  getUnAssignedResources(event) {\n    this.myEvent = event;\n    this.ResourceAssignScreenPanel.blId = event.data.blId;\n    this.ResourceAssignScreenPanel.flId = event.data.flId;\n    this.ResourceAssignScreenPanel.rmId = event.data.rmId;\n    this.ResourceUnAssignScreenPanel.roomDetails = \" \" + '  to ' + event.data.rmName;\n    this.ResourceUnAssignScreenPanel.blId = event.data.blId;\n    this.ResourceUnAssignScreenPanel.flId = event.data.flId;\n    this.ResourceUnAssignScreenPanel.rmId = event.data.rmId;\n    this.ResourceUnAssignScreenPanel.selectedScreens = [];\n    let data = {\n      blId: event.data.blId,\n      flId: event.data.flId,\n      rmId: event.data.rmId\n    };\n    this.rmResourcesSrv.getUnAssignedResources(data).subscribe(res => {\n      this.ResourceAssignScreenPanel.unAssignedResources = res;\n    });\n    this.rmResourcesSrv.getAssignedResources(data).subscribe(res => {\n      this.ResourceUnAssignScreenPanel.AssignedResources = res;\n    });\n  }\n  onAdd() {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = false;\n    dialogConfig.width = '400px';\n    dialogConfig.data = {\n      blId: this.blId,\n      flId: this.flId,\n      rmId: this.rmId\n    };\n    this.rmResourceProvider.openDialog(dialogConfig);\n    this.rmResourceProvider.onDialogueClosed.subscribe(result => {\n      if (result) {\n        this.messageService.clear();\n        this.messageService.add({\n          key: 'rmResource',\n          severity: 'success',\n          summary: 'Record saved successfully',\n          detail: 'Record saved successfully'\n        });\n      }\n    });\n  }\n  refreshPanels(event) {\n    if (event === \"true\") {\n      this.getUnAssignedResources(this.myEvent);\n    }\n  }\n  static #_ = this.ɵfac = function RmResourcesComponent_Factory(t) {\n    return new (t || RmResourcesComponent)(i0.ɵɵdirectiveInject(i1.RmResourcesService), i0.ɵɵdirectiveInject(i2.RmResourcesDialogueProvider), i0.ɵɵdirectiveInject(i3.MessageService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RmResourcesComponent,\n    selectors: [[\"app-rm-resources\"]],\n    viewQuery: function RmResourcesComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(ResourceAssignScreenComponent, 5);\n        i0.ɵɵviewQuery(ResourceUnassignScreenComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ResourceAssignScreenPanel = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ResourceUnAssignScreenPanel = _t.first);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([MessageService])],\n    decls: 13,\n    vars: 1,\n    consts: [[\"header\", \"Room List\"], [1, \"row\"], [1, \"col-sm-6\", \"col-md-6\", \"col-xm-4\", \"col-lg-6\"], [1, \"page-content\", 2, \"height\", \"calc(100vh - 150px)\"], [3, \"isRmConfig\", \"parentFun\"], [1, \"col-sm-6\", \"col-md-6\", \"col-xm-6\", \"col-lg-6\"], [1, \"col-sm-12\", \"col-md-12\", \"col-lg-12\"], [3, \"allScreenProcsPanels\"], [1, \"row\", 2, \"margin-top\", \"10px !important\"], [\"key\", \"rmResource\", \"position\", \"top-right\"]],\n    template: function RmResourcesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p-panel\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"app-room-list\", 4);\n        i0.ɵɵlistener(\"parentFun\", function RmResourcesComponent_Template_app_room_list_parentFun_4_listener($event) {\n          return ctx.getUnAssignedResources($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 1)(7, \"div\", 6)(8, \"app-resource-unassign-screen\", 7);\n        i0.ɵɵlistener(\"allScreenProcsPanels\", function RmResourcesComponent_Template_app_resource_unassign_screen_allScreenProcsPanels_8_listener($event) {\n          return ctx.refreshPanels($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 6)(11, \"app-resource-assign-screen\", 7);\n        i0.ɵɵlistener(\"allScreenProcsPanels\", function RmResourcesComponent_Template_app_resource_assign_screen_allScreenProcsPanels_11_listener($event) {\n          return ctx.refreshPanels($event);\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelement(12, \"p-toast\", 9);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"isRmConfig\", false);\n      }\n    },\n    dependencies: [i4.RoomListComponent, i5.ResourceUnassignScreenComponent, i6.ResourceAssignScreenComponent, i7.Toast, i8.Panel],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["MatDialogConfig","MessageService","ResourceAssignScreenComponent","ResourceUnassignScreenComponent","RmResourcesComponent","constructor","rmResourcesSrv","rmResourceProvider","messageService","ngOnInit","getUnAssignedResources","event","myEvent","ResourceAssignScreenPanel","blId","data","flId","rmId","ResourceUnAssignScreenPanel","roomDetails","rmName","selectedScreens","subscribe","res","unAssignedResources","getAssignedResources","AssignedResources","onAdd","dialogConfig","disableClose","autoFocus","width","openDialog","onDialogueClosed","result","clear","add","key","severity","summary","detail","refreshPanels","_","i0","ɵɵdirectiveInject","i1","RmResourcesService","i2","RmResourcesDialogueProvider","i3","_2","selectors","viewQuery","RmResourcesComponent_Query","rf","ctx","decls","vars","consts","template","RmResourcesComponent_Template","ɵɵelementStart","ɵɵlistener","RmResourcesComponent_Template_app_room_list_parentFun_4_listener","$event","ɵɵelementEnd","RmResourcesComponent_Template_app_resource_unassign_screen_allScreenProcsPanels_8_listener","RmResourcesComponent_Template_app_resource_assign_screen_allScreenProcsPanels_11_listener","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["/home/admin7/Documents/fms_frontend/src/app/ui/rm-resources/modal/rm-resources.component.ts","/home/admin7/Documents/fms_frontend/src/app/ui/rm-resources/modal/rm-resources.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { MessageService } from 'primeng/api';\nimport { RmResourcesDialogueProvider } from '../provider/rm-resources.provider';\nimport { RmResourcesService } from '../service/rm-resources.service';\nimport { ResourceAssignScreenComponent } from '../widgets/resource-assign-screen/resource-assign-screen.component';\nimport { ResourceUnassignScreenComponent } from '../widgets/resourrce-unassign-screen/resource-unassign-screen.component';\n\n@Component({\n  selector: 'app-rm-resources',\n  templateUrl: './rm-resources.component.html',\n  styleUrls: ['./rm-resources.component.scss'],\n  providers: [MessageService]\n})\nexport class RmResourcesComponent implements OnInit {\n  @ViewChild(ResourceAssignScreenComponent, { static: false }) ResourceAssignScreenPanel!: ResourceAssignScreenComponent;\n  @ViewChild(ResourceUnassignScreenComponent, { static: false }) ResourceUnAssignScreenPanel!: ResourceUnassignScreenComponent;\n  blId!: number;\n  flId!: number;\n  rmId!: number;\n  resourcesId!: number;\n  myEvent!: any;\n\n\n  constructor(\n    private rmResourcesSrv: RmResourcesService,\n    private rmResourceProvider: RmResourcesDialogueProvider,\n    private messageService: MessageService,\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  getUnAssignedResources(event: any) {\n    this.myEvent = event;\n    this.ResourceAssignScreenPanel.blId = event.data.blId;\n    this.ResourceAssignScreenPanel.flId = event.data.flId;\n    this.ResourceAssignScreenPanel.rmId = event.data.rmId;\n\n    this.ResourceUnAssignScreenPanel.roomDetails = \" \" +'  to ' + event.data.rmName;\n\n    this.ResourceUnAssignScreenPanel.blId = event.data.blId;\n    this.ResourceUnAssignScreenPanel.flId = event.data.flId;\n    this.ResourceUnAssignScreenPanel.rmId = event.data.rmId;\n    this.ResourceUnAssignScreenPanel.selectedScreens = [];\n\n    let data = {\n      blId: event.data.blId,\n      flId: event.data.flId,\n      rmId: event.data.rmId,\n    }\n    this.rmResourcesSrv.getUnAssignedResources(data).subscribe((res: any) => {\n      this.ResourceAssignScreenPanel.unAssignedResources = res;\n\n    });\n\n    this.rmResourcesSrv.getAssignedResources(data).subscribe((res: any) => {\n      this.ResourceUnAssignScreenPanel.AssignedResources = res;\n    })\n  }\n\n  onAdd() {\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = false;\n    dialogConfig.width = '400px';\n    dialogConfig.data = {\n      blId: this.blId,\n      flId: this.flId,\n      rmId: this.rmId\n    };\n    this.rmResourceProvider.openDialog(dialogConfig);\n    this.rmResourceProvider.onDialogueClosed.subscribe((result: any) => {\n      if (result) {\n        this.messageService.clear();\n        this.messageService.add({ key: 'rmResource', severity: 'success', summary: 'Record saved successfully', detail: 'Record saved successfully' });\n      }\n    });\n  }\n  refreshPanels(event: string) {\n    if (event === \"true\") {\n      this.getUnAssignedResources(this.myEvent);\n    }\n\n  }\n\n}\n","<p-panel header=\"Room List\">\n        <div class=\"row\">\n                <div class=\"col-sm-6 col-md-6 col-xm-4 col-lg-6\">\n                        <div class=\"page-content\" style=\"height: calc(100vh - 150px)\">\n                                <app-room-list [isRmConfig]=\"false\" (parentFun)=\"getUnAssignedResources($event)\"></app-room-list>\n                        </div>\n\n                </div>\n                <div class=\"col-sm-6 col-md-6 col-xm-6 col-lg-6\">\n                        <div class=\"row\">\n                                <div class=\"col-sm-12 col-md-12 col-lg-12\">                                      \n                                        <app-resource-unassign-screen (allScreenProcsPanels)=\"refreshPanels($event)\">\n                                        </app-resource-unassign-screen>\n                                </div>\n                        </div>\n                        <div class=\"row\" style=\"margin-top:10px !important\">\n                                <div class=\"col-sm-12 col-md-12 col-lg-12\">\n                                        <app-resource-assign-screen (allScreenProcsPanels)=\"refreshPanels($event)\">\n                                        </app-resource-assign-screen>\n                                </div>\n                        </div>\n                </div>\n\n        </div>\n</p-panel>\n<p-toast key=\"rmResource\" position=\"top-right\"></p-toast>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}