{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MessageService } from 'primeng/api';\nimport { UtilConstant } from 'src/common/UtilConstant';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"primeng/api\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../services/document-list-services\";\nimport * as i5 from \"src/app/services/enum.service\";\nimport * as i6 from \"@angular/material/legacy-card\";\nimport * as i7 from \"primeng/button\";\nimport * as i8 from \"primeng/dialog\";\nimport * as i9 from \"primeng/confirmdialog\";\nimport * as i10 from \"../../../../directive/directive/trim-input.directive\";\nimport * as i11 from \"ng-zorro-antd/table\";\nimport * as i12 from \"ng-zorro-antd/input\";\nimport * as i13 from \"@ng-select/ng-select\";\nfunction AddDocumentComponent_ng_template_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"p\");\n    i0.ɵɵtext(2, \"Selected file exceeds the size limit of 1MB.\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 24)(4, \"div\", 25)(5, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function AddDocumentComponent_ng_template_35_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.showWarning = !ctx_r2.showWarning);\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c0 = function () {\n  return {\n    \"margin-left\": \".5em\"\n  };\n};\nconst _c1 = function () {\n  return {\n    width: \"25vw\"\n  };\n};\nexport class AddDocumentComponent {\n  constructor(data, confirmationService, dialog, dialogRef, formBuilder, documentListService, enumsrv) {\n    this.data = data;\n    this.confirmationService = confirmationService;\n    this.dialog = dialog;\n    this.dialogRef = dialogRef;\n    this.formBuilder = formBuilder;\n    this.documentListService = documentListService;\n    this.enumsrv = enumsrv;\n    this.title = 'Add';\n    this.fileName = \"No file chosen\";\n    this.fileSelected = false;\n    this.showWarning = false;\n    this.enumList = [];\n    this.enumClonedList = [];\n    this.enumTabledata = [];\n    this.enumDocType = [];\n    this.documentsForm = this.formBuilder.group({\n      notes: [null],\n      docType: [null, [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    this.loadEnums();\n    if (this.data !== null) {\n      this.documentsForm.patchValue({\n        docType: this.data.tableName == \"eq\" ? 'Asset Photo' : \"Other\" //Default in all cases\n      });\n    }\n  }\n\n  loadEnums() {\n    this.enumList = [];\n    this.enumDocType = [];\n    this.enumsrv.getEnums().subscribe(res => {\n      this.enumList = res;\n      this.enumClonedList = this.enumList.map(x => Object.assign({}, x));\n      // this.enumTabledata = this.enumClonedList.filter(t => t.tableName.toLocaleUpperCase() === this.data.tableName.toLocaleUpperCase());\n      this.enumDocType = this.enumClonedList.filter(t => t.tableName.toLocaleUpperCase() === this.data.tableName.toLocaleUpperCase() && t.fieldName.toLocaleUpperCase() === 'doc_type'.toLocaleUpperCase());\n    });\n  }\n  fileChangeEvent(event) {\n    var file = event.target.files[0];\n    const maxFileSize = 1 * 1024 * 1024; // 1MB in bytes\n    if (file.size > maxFileSize) {\n      this.showWarning = true; // Show warning message for file size exceeding the limit\n    } else {\n      this.showWarning = false;\n      this.fileSelected = true;\n      this.selectedFile = file;\n      this.fileName = this.selectedFile.name;\n      let fileReader = new FileReader();\n      fileReader.onload = e => {\n        const content = fileReader.result; // Retrieve the file content from the result property\n        const extension = this.getFileExtension(this.selectedFile.name); // Extract the file extension\n        const upLoadData = new FormData();\n        upLoadData.set('document', this.selectedFile, this.fileName);\n        upLoadData.set(\"documemtType\", extension);\n        upLoadData.set(\"documentName\", this.fileName);\n        upLoadData.set(\"tableName\", this.data.tableName); //need to be dynamic\n        upLoadData.set(\"fieldName\", this.data.fieldName); //need to dynamic\n        upLoadData.set(\"pkField\", this.data.pkField); //need to dynamic\n        upLoadData.set(\"docBucketId\", this.data.docBucketId || 0); //need to be dynamic\n        upLoadData.set(\"pkValue\", this.data.pkValue);\n        this.upLoadData = upLoadData;\n      };\n      fileReader.readAsDataURL(file);\n    }\n  }\n  getFileExtension(fileName) {\n    const regex = /(?:\\.([^.]+))?$/;\n    const result = regex.exec(fileName);\n    if (result && result[1]) {\n      return result[1];\n    } else {\n      return ''; // Return an empty string or handle the situation according to your requirements\n    }\n  }\n\n  onSaveDocuments() {\n    this.upLoadData.set(\"notes\", this.documentsForm.controls.notes.value);\n    this.upLoadData.set(\"docType\", this.documentsForm.controls.docType.value);\n    this.documentListService.saveDocuments(this.upLoadData).subscribe(res => {\n      if (res.status === 200) {\n        console.log(res.body.text); //docBucketId\n        this.dialogRef.close(res.body.text);\n      }\n    });\n  }\n  confirmDialog() {\n    this.confirmationService.confirm({\n      message: UtilConstant.CANCEL_Msg,\n      header: 'Confirmation',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {\n        this.dialogRef.close();\n      }\n    });\n  }\n  static #_ = this.ɵfac = function AddDocumentComponent_Factory(t) {\n    return new (t || AddDocumentComponent)(i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i1.ConfirmationService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i2.MatDialogRef), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.DocumentListService), i0.ɵɵdirectiveInject(i5.EnumService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddDocumentComponent,\n    selectors: [[\"app-add-document\"]],\n    features: [i0.ɵɵProvidersFeature([MessageService])],\n    decls: 36,\n    vars: 14,\n    consts: [[\"mat-dialog-title\", \"\", 1, \"mat-dialog-title-ext\"], [1, \"mat-typography\", \"mat-dialog-content-ext\"], [\"id\", \"documents\"], [3, \"formGroup\"], [\"width\", \"100%\"], [2, \"width\", \"50%\"], [1, \"input-label-custom\"], [1, \"form-field-lable\", \"control-label\"], [\"appendTo\", \"body\", \"formControlName\", \"docType\", \"bindLabel\", \"enumValue\", \"bindValue\", \"enumValue\", \"placeholder\", \"Make a selection\", 1, \"ng-select-dropdown\", 3, \"clearable\", \"items\", \"searchable\"], [1, \"file-container\", 3, \"click\"], [1, \"label-container\"], [1, \"form-field-lable\"], [1, \"icon-container\"], [\"icon\", \"pi pi-cloud-upload\", \"styleClass\", \"p-button-rounded custom-button\"], [\"type\", \"file\", \"hidden\", \"\", \"accept\", \".jpg, .jpeg, .png, .pdf,.doc,.docx, .xlsx\", 2, \"margin-bottom\", \"3px\", 3, \"change\"], [\"_fileInput\", \"\"], [\"name\", \"notes\", \"rows\", \"4\", \"nz-input\", \"\", \"maxlength\", \"512\", \"formControlName\", \"notes\", \"appTrimInput\", \"\", 1, \"form-control\", \"note-border\"], [\"align\", \"end\", 1, \"mat-dialog-actions-ext\"], [\"label\", \"Save\", \"icon\", \"pi pi-check\", 3, \"disabled\", \"click\"], [\"label\", \"Cancel\", \"icon\", \"pi pi-times\", \"styleClass\", \"p-button-secondary\", 3, \"click\"], [\"header\", \"positionDialog\", \"icon\", \"pi pi-exclamation-triangle\"], [\"header\", \"Warning\", 3, \"visible\", \"closable\", \"visibleChange\"], [\"pTemplate\", \"caption\"], [1, \"m-2\"], [1, \"d-flex\", \"flex-row\", \"justify-content-end\"], [2, \"display\", \"flex\", \"padding-left\", \"6px\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Ok\", 1, \"p-button-primary\", \"p-button-sm\", 2, \"margin-left\", \"8px\", 3, \"click\"]],\n    template: function AddDocumentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r4 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1, \"Add Document\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"mat-dialog-content\", 1)(3, \"mat-card\")(4, \"mat-card-content\", 2)(5, \"form\", 3)(6, \"table\", 4)(7, \"tr\")(8, \"td\", 5)(9, \"div\", 6)(10, \"label\", 7);\n        i0.ɵɵtext(11, \"Document Type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"ng-select\", 8);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"tr\")(14, \"td\", 5)(15, \"div\", 6)(16, \"div\", 9);\n        i0.ɵɵlistener(\"click\", function AddDocumentComponent_Template_div_click_16_listener() {\n          i0.ɵɵrestoreView(_r4);\n          const _r0 = i0.ɵɵreference(23);\n          return i0.ɵɵresetView(_r0.click());\n        });\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"label\", 11);\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 12);\n        i0.ɵɵelement(21, \"p-button\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"input\", 14, 15);\n        i0.ɵɵlistener(\"change\", function AddDocumentComponent_Template_input_change_22_listener($event) {\n          return ctx.fileChangeEvent($event);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(24, \"tr\")(25, \"td\")(26, \"div\", 6)(27, \"label\", 11);\n        i0.ɵɵtext(28, \"Notes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"textarea\", 16);\n        i0.ɵɵelementEnd()()()()()()()();\n        i0.ɵɵelementStart(30, \"mat-dialog-actions\", 17)(31, \"p-button\", 18);\n        i0.ɵɵlistener(\"click\", function AddDocumentComponent_Template_p_button_click_31_listener() {\n          return ctx.onSaveDocuments();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"p-button\", 19);\n        i0.ɵɵlistener(\"click\", function AddDocumentComponent_Template_p_button_click_32_listener() {\n          return ctx.confirmDialog();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(33, \"p-confirmDialog\", 20);\n        i0.ɵɵelementStart(34, \"p-dialog\", 21);\n        i0.ɵɵlistener(\"visibleChange\", function AddDocumentComponent_Template_p_dialog_visibleChange_34_listener($event) {\n          return ctx.showWarning = $event;\n        });\n        i0.ɵɵtemplate(35, AddDocumentComponent_ng_template_35_Template, 6, 0, \"ng-template\", 22);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.documentsForm);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"clearable\", false)(\"items\", ctx.enumDocType)(\"searchable\", true);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.fileName);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"disabled\", !ctx.fileSelected || !ctx.documentsForm.valid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(12, _c0));\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(13, _c1));\n        i0.ɵɵproperty(\"visible\", ctx.showWarning)(\"closable\", false);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.MaxLengthValidator, i3.FormGroupDirective, i3.FormControlName, i2.MatDialogTitle, i2.MatDialogContent, i2.MatDialogActions, i6.MatLegacyCard, i6.MatLegacyCardContent, i1.PrimeTemplate, i7.ButtonDirective, i7.Button, i8.Dialog, i9.ConfirmDialog, i10.TrimInputDirective, i11.NzTableCellDirective, i11.NzTrDirective, i12.NzInputDirective, i13.NgSelectComponent],\n    styles: [\".mat-dialog-title-ext[_ngcontent-%COMP%] {\\n  background-color: #879cc9;\\n  padding-left: 10px;\\n  font-weight: normal;\\n  margin-bottom: 0px;\\n}\\n\\n.mat-dialog-content-ext[_ngcontent-%COMP%] {\\n  \\n\\n  margin: 0;\\n  padding: 10px;\\n  background-color: white !important;\\n}\\n\\n.mat-dialog-actions-ext[_ngcontent-%COMP%] {\\n  border-top: none;\\n  padding: 3px;\\n  min-height: 36px !important;\\n  margin-bottom: 5px;\\n  \\n\\n  background-color: white !important;\\n}\\n\\n.action-buttons[_ngcontent-%COMP%] {\\n  height: 30px;\\n  width: 70px;\\n}\\n\\n.margin-left-20[_ngcontent-%COMP%] {\\n  margin-left: 20px;\\n}\\n\\n.margin-5[_ngcontent-%COMP%] {\\n  margin: 5px !important;\\n}\\n\\n.mat-card[_ngcontent-%COMP%] {\\n  border-radius: 0px;\\n}\\n\\n.mat-expansion-panel[_ngcontent-%COMP%] {\\n  background-color: #879cc9;\\n}\\n\\n.mat-expansion-panel-header-title[_ngcontent-%COMP%] {\\n  color: white;\\n  letter-spacing: 1px;\\n}\\n\\n\\n\\n\\n\\n\\n.mat-card-title[_ngcontent-%COMP%] {\\n  color: white;\\n  letter-spacing: 1px;\\n  font-size: 13px;\\n  margin: 0px !important;\\n}\\n\\n.mat-card-header-text[_ngcontent-%COMP%] {\\n  margin: 0px !important;\\n}\\n\\n.mat-card-header[_ngcontent-%COMP%] {\\n  padding: 5px !important;\\n  margin-left: -15px;\\n}\\n\\n.mat-card-content[_ngcontent-%COMP%] {\\n  background-color: white !important;\\n  \\n\\n}\\n\\n.mat-expansion-panel-content[_ngcontent-%COMP%] {\\n  background-color: white !important;\\n}\\n\\n.mat-button[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%] {\\n  line-height: inherit !important;\\n}\\n\\n.btn-filter[_ngcontent-%COMP%] {\\n  margin-left: 4px;\\n  margin-right: 5px;\\n  width: 50px;\\n  margin-top: 17px;\\n}\\n\\n.btn-ggb-orange[_ngcontent-%COMP%] {\\n  width: 90px !important;\\n}\\n\\n.btn-ggb-default-custom[_ngcontent-%COMP%] {\\n  margin: 16px !important;\\n}\\n\\n.file-name[_ngcontent-%COMP%] {\\n  font-size: 11px;\\n  margin-bottom: 0px;\\n  border: 1px solid #c4c2c2;\\n  width: max-content;\\n  padding: 0px 5px;\\n}\\n\\n.file-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  width: 100%;\\n  font-size: 1rem;\\n  font-weight: 400;\\n  line-height: 2.2;\\n  border: 0.5px solid #879cc9;\\n  border-radius: 5px;\\n}\\n\\n  .p-button.p-button-icon-only {\\n  width: 2rem;\\n  height: 2rem !important;\\n  padding: 0.5rem 0;\\n  background: transparent !important;\\n  border: 0;\\n}\\n\\n.icon-container[_ngcontent-%COMP%] {\\n  width: 10%;\\n  border-left: 0.5px solid #879cc9;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.label-container[_ngcontent-%COMP%] {\\n  width: 80%;\\n  margin-left: 5px;\\n}\\n\\n  .custom-button .pi {\\n  font-size: 1.5rem; \\n\\n  color: #2e2d2d;\\n}\\n\\n  .pi:hover {\\n  color: #2196F3;\\n}\\n\\n  .p-button.p-button-icon-only:hover {\\n  color: #2196F3;\\n}\\n\\n  .ng-select .ng-arrow-wrapper {\\n  margin-left: auto;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvZG9jdW1lbnRzLWxpc3Qvd2lkZ2V0cy9hZGQtZG9jdW1lbnQvYWRkLWRvY3VtZW50LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vc3JjL3Njc3MvX3ZhcmlhYmxlcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UseUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFERjs7QUFJQTtFQUNFLCtCQUFBO0VBQ0EsU0FBQTtFQUNBLGFBQUE7RUFDQSxrQ0FBQTtBQURGOztBQUlBO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsMkJBQUE7RUFDQSxrQkFBQTtFQUNBLHdCQUFBO0VBQ0Esa0NBQUE7QUFERjs7QUFJQTtFQUNFLFlBQUE7RUFDQSxXQUFBO0FBREY7O0FBSUE7RUFDRSxpQkFBQTtBQURGOztBQUlBO0VBQ0Usc0JBQUE7QUFERjs7QUFJQTtFQUNFLGtCQUFBO0FBREY7O0FBSUE7RUFDRSx5QkNqQ087QURnQ1Q7O0FBSUE7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7QUFERjs7QUFJQTs7O0tBQUE7QUFLQTtFQUNFLFlBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxzQkFBQTtBQUZGOztBQUtBO0VBQ0Usc0JBQUE7QUFGRjs7QUFLQTtFQUNFLHVCQUFBO0VBQ0Esa0JBQUE7QUFGRjs7QUFLQTtFQUNFLGtDQUFBO0VBQ0Esa0JBQUE7QUFGRjs7QUFLQTtFQUNFLGtDQUFBO0FBRkY7O0FBS0E7Ozs7RUFJRSwrQkFBQTtBQUZGOztBQUtBO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQUZGOztBQUtBO0VBQ0Usc0JBQUE7QUFGRjs7QUFNQTtFQUNFLHVCQUFBO0FBSEY7O0FBTUE7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFISjs7QUFNQTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLDJCQUFBO0VBQ0Esa0JBQUE7QUFISjs7QUFNQTtFQUNJLFdBQUE7RUFDQSx1QkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0NBQUE7RUFDQSxTQUFBO0FBSEo7O0FBTUE7RUFDSSxVQUFBO0VBQ0EsZ0NBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7QUFISjs7QUFNQTtFQUNJLFVBQUE7RUFDQSxnQkFBQTtBQUhKOztBQU1BO0VBQ0ksaUJBQUEsRUFBQSxpREFBQTtFQUNBLGNBQUE7QUFISjs7QUFNQTtFQUNJLGNBQUE7QUFISjs7QUFNQTtFQUNJLGNBQUE7QUFISjs7QUFNQTtFQUNFLGlCQUFBO0FBSEYiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcvc3JjL3Njc3MvdmFyaWFibGVzJztcblxuLm1hdC1kaWFsb2ctdGl0bGUtZXh0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzg3OWNjOTtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICBmb250LXdlaWdodDogbm9ybWFsO1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG59XG5cbi5tYXQtZGlhbG9nLWNvbnRlbnQtZXh0IHtcbiAgLypib3JkZXI6IHRoaW4gZG91YmxlICM4NzljYzk7Ki9cbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWRpYWxvZy1hY3Rpb25zLWV4dCB7XG4gIGJvcmRlci10b3A6IG5vbmU7XG4gIHBhZGRpbmc6IDNweDtcbiAgbWluLWhlaWdodDogMzZweCAhaW1wb3J0YW50O1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gIC8qIG1hcmdpbi1yaWdodDogMTVweDsgKi9cbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDtcbn1cblxuLmFjdGlvbi1idXR0b25zIHtcbiAgaGVpZ2h0OiAzMHB4O1xuICB3aWR0aDogNzBweDtcbn1cblxuLm1hcmdpbi1sZWZ0LTIwIHtcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XG59XG5cbi5tYXJnaW4tNSB7XG4gIG1hcmdpbjogNXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDBweDtcbn1cblxuLm1hdC1leHBhbnNpb24tcGFuZWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAkdG9vbGJhcjtcbn1cblxuLm1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyLXRpdGxlIHtcbiAgY29sb3I6IHdoaXRlO1xuICBsZXR0ZXItc3BhY2luZzogMXB4O1xufVxuXG4vKiAubWF0LWNhcmQge1xuICAgIHBhZGRpbmc6IDBweDtcbiAgICBib3JkZXI6IHRoaW4gZG91YmxlIHJnYigxODEsIDE1NSwgOTApO1xuICB9ICovXG5cbi5tYXQtY2FyZC10aXRsZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBtYXJnaW46IDBweCAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWNhcmQtaGVhZGVyLXRleHQge1xuICBtYXJnaW46IDBweCAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWNhcmQtaGVhZGVyIHtcbiAgcGFkZGluZzogNXB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbi1sZWZ0OiAtMTVweDtcbn1cblxuLm1hdC1jYXJkLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAvKiBwYWRkaW5nOiA1cHg7ICovXG59XG5cbi5tYXQtZXhwYW5zaW9uLXBhbmVsLWNvbnRlbnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4ubWF0LWJ1dHRvbixcbi5tYXQtZmxhdC1idXR0b24sXG4ubWF0LWljb24tYnV0dG9uLFxuLm1hdC1zdHJva2VkLWJ1dHRvbiB7XG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0ICFpbXBvcnRhbnQ7XG59XG5cbi5idG4tZmlsdGVyIHtcbiAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gIHdpZHRoOiA1MHB4O1xuICBtYXJnaW4tdG9wOiAxN3B4O1xufVxuXG4uYnRuLWdnYi1vcmFuZ2Uge1xuICB3aWR0aDogOTBweCAhaW1wb3J0YW50O1xufVxuXG5cbi5idG4tZ2diLWRlZmF1bHQtY3VzdG9tIHtcbiAgbWFyZ2luOiAxNnB4ICFpbXBvcnRhbnRcbn1cblxuLmZpbGUtbmFtZSB7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIG1hcmdpbi1ib3R0b206IDBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYzRjMmMyO1xuICAgIHdpZHRoOiBtYXgtY29udGVudDtcbiAgICBwYWRkaW5nOiAwcHggNXB4O1xufVxuXG4uZmlsZS1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGxpbmUtaGVpZ2h0OiAyLjI7XG4gICAgYm9yZGVyOiAwLjVweCBzb2xpZCAjODc5Y2M5O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbn1cblxuOjpuZy1kZWVwIC5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHkge1xuICAgIHdpZHRoOiAycmVtO1xuICAgIGhlaWdodDogMnJlbSAhaW1wb3J0YW50O1xuICAgIHBhZGRpbmc6IDAuNXJlbSAwO1xuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gICAgYm9yZGVyOiAwO1xufVxuXG4uaWNvbi1jb250YWluZXIge1xuICAgIHdpZHRoOiAxMCU7XG4gICAgYm9yZGVyLWxlZnQ6IDAuNXB4IHNvbGlkICM4NzljYzk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmxhYmVsLWNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDgwJTtcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xufVxuXG46Om5nLWRlZXAgLmN1c3RvbS1idXR0b24gLnBpIHtcbiAgICBmb250LXNpemU6IDEuNXJlbTsgLyogQWRqdXN0IHRoZSBmb250IHNpemUgYXMgcGVyIHlvdXIgcmVxdWlyZW1lbnQgKi9cbiAgICBjb2xvcjogIzJlMmQyZDtcbiAgfVxuXG46Om5nLWRlZXAgLnBpOmhvdmVyIHtcbiAgICBjb2xvcjogIzIxOTZGMztcbn1cblxuOjpuZy1kZWVwIC5wLWJ1dHRvbi5wLWJ1dHRvbi1pY29uLW9ubHk6aG92ZXIge1xuICAgIGNvbG9yOiAjMjE5NkYzO1xufVxuXG46Om5nLWRlZXAgLm5nLXNlbGVjdCAubmctYXJyb3ctd3JhcHBlciB7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xufSIsIi8vIFR5cG9ncmFwaHkgdmFyaWFibGVzXG4kZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmO1xuJHVybDogJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9Um9ib3RvJmRpc3BsYXk9c3dhcCc7XG5cblxuLy8gVGhlbWluZyB2YXJpYWJsZVxuJHByaW1hcnktY29sb3I6ICMwYjllNmQ7XG4kd2hpdGU6ICNmZmZmZmY7XG4kbWFpbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xuJHRleHQtc2l6ZToxMnB4O1xuJHRvb2xiYXI6Izg3OWNjOTtcbiRzaWRlLW5hdjojMzQzYTQwO1xuJG1hbmRhdG9yeUZpZWxkOiNlMDE1MTU7XG4kdGFiQmdDb2xvcjogIzg3OWNjOTtcbiR0YWJBY3RpdmVCZ0NvbG9yOiAjZmZmZmZmO1xuJHRhYkhlaWdodDogMi4zNTtcbiR0YWJXaWR0aDogODBweDtcbiR0YWJCb3JkZXJSYWRpdXM6IDZweCA2cHggMCAwO1xuJHRhYkJvcmRlckJvdHRvbTogM3B4IHNvbGlkICM4NzljYzkgIWltcG9ydGFudDtcbiR0YWJGb250Q29sb3I6ICNmZmZmZmY7XG4kdGFiUGFuZUJhY2tncm91bmRDb2xvcjogI0YwRjJGNTtcbiRBY3RpdmVUYWJGb250Q29sb3I6ICMwMDAwMDA7XG5cbiR0YWJsZXRQb3RyYWl0TWluV2lkdGg6NjAwcHggO1xuJHRhYmxldFBvdHJhaXRNYXhXaWR0aDogOTU5cHg7XG4kdGFibGV0TGFuZHNjYXBlTWluV2lkdGg6IDk2MHB4O1xuJHRhYmxldExhbmRzcGFjZU1heFdpZHRoOiAxNDM5cHg7XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["Validators","MAT_DIALOG_DATA","MessageService","UtilConstant","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AddDocumentComponent_ng_template_35_Template_button_click_5_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","showWarning","AddDocumentComponent","constructor","data","confirmationService","dialog","dialogRef","formBuilder","documentListService","enumsrv","title","fileName","fileSelected","enumList","enumClonedList","enumTabledata","enumDocType","documentsForm","group","notes","docType","required","ngOnInit","loadEnums","patchValue","tableName","getEnums","subscribe","res","map","x","Object","assign","filter","t","toLocaleUpperCase","fieldName","fileChangeEvent","event","file","target","files","maxFileSize","size","selectedFile","name","fileReader","FileReader","onload","e","content","result","extension","getFileExtension","upLoadData","FormData","set","pkField","docBucketId","pkValue","readAsDataURL","regex","exec","onSaveDocuments","controls","value","saveDocuments","status","console","log","body","text","close","confirmDialog","confirm","message","CANCEL_Msg","header","icon","accept","_","ɵɵdirectiveInject","i1","ConfirmationService","i2","MatDialog","MatDialogRef","i3","FormBuilder","i4","DocumentListService","i5","EnumService","_2","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","AddDocumentComponent_Template","rf","ctx","ɵɵelement","AddDocumentComponent_Template_div_click_16_listener","_r4","_r0","ɵɵreference","click","AddDocumentComponent_Template_input_change_22_listener","$event","AddDocumentComponent_Template_p_button_click_31_listener","AddDocumentComponent_Template_p_button_click_32_listener","AddDocumentComponent_Template_p_dialog_visibleChange_34_listener","ɵɵtemplate","AddDocumentComponent_ng_template_35_Template","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate","valid","ɵɵstyleMap","ɵɵpureFunction0","_c0","_c1"],"sources":["/home/admin7/Documents/fms_frontend/src/app/ui/documents-list/widgets/add-document/add-document.component.ts","/home/admin7/Documents/fms_frontend/src/app/ui/documents-list/widgets/add-document/add-document.component.html"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { ConfirmationService, MessageService } from 'primeng/api';\nimport { EquipmentService } from 'src/app/ui/Helpdesk/equipment/services/equipment.services';\nimport { UtilConstant } from 'src/common/UtilConstant';\nimport { DocumentListService } from '../../services/document-list-services';\nimport { Enums } from 'src/app/model/enums.model';\nimport { EnumService } from 'src/app/services/enum.service';\n\n@Component({\n  selector: 'app-add-document',\n  templateUrl: './add-document.component.html',\n  styleUrls: ['./add-document.component.scss'],\n  providers: [MessageService]\n})\nexport class AddDocumentComponent implements OnInit {\n  documentsForm: FormGroup;\n  title: string = 'Add';\n  fileName: string = \"No file chosen\";\n  selectedFile: any;\n  fileSelected: boolean = false;\n  showWarning: boolean = false;\n  upLoadData:any;\n  enumList: Enums[] = [];\n  enumClonedList: Enums[] = [];\n  enumTabledata: Enums[] = [];\n  enumDocType:Enums[]= [];\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private confirmationService: ConfirmationService,\n    public dialog: MatDialog,\n    public dialogRef: MatDialogRef<AddDocumentComponent>,\n    private formBuilder: FormBuilder,\n    private documentListService: DocumentListService,\n    private enumsrv: EnumService,\n  ) {\n    this.documentsForm = this.formBuilder.group({\n      notes:[null],\n      docType:[null,[Validators.required]]\n    });\n  }\n\n  ngOnInit(): void {\n    this.loadEnums();\n    if (this.data !== null) {\n      this.documentsForm.patchValue({\n        docType:this.data.tableName == \"eq\" ?'Asset Photo' : \"Other\"//Default in all cases\n      })\n    }\n  }\n\n  loadEnums() {\n    this.enumList = [];\n    this.enumDocType = [];\n    this.enumsrv.getEnums().subscribe(\n      (res: Enums[]) => {\n        this.enumList = res;\n        this.enumClonedList = this.enumList.map(x => Object.assign({}, x));\n        // this.enumTabledata = this.enumClonedList.filter(t => t.tableName.toLocaleUpperCase() === this.data.tableName.toLocaleUpperCase());\n        this.enumDocType = this.enumClonedList.filter(t =>t.tableName.toLocaleUpperCase() === this.data.tableName.toLocaleUpperCase() && t.fieldName.toLocaleUpperCase() === 'doc_type'.toLocaleUpperCase());\n    \n      });\n  }\n\n\n  fileChangeEvent(event: any) {\n    var file = event.target.files[0];\n    const maxFileSize = 1 * 1024 * 1024; // 1MB in bytes\n    if (file.size > maxFileSize) {\n      this.showWarning = true; // Show warning message for file size exceeding the limit\n    } else {\n      this.showWarning = false;\n      this.fileSelected = true;\n      this.selectedFile = file;\n      this.fileName = this.selectedFile.name;\n\n      let fileReader = new FileReader();\n      fileReader.onload = (e:any) => {\n        const content = fileReader.result as string;// Retrieve the file content from the result property\n        const extension = this.getFileExtension(this.selectedFile.name); // Extract the file extension\n        const upLoadData = new FormData();\n        upLoadData.set('document', this.selectedFile, this.fileName);\n        upLoadData.set(\"documemtType\", extension);\n        upLoadData.set(\"documentName\", this.fileName);\n        upLoadData.set(\"tableName\", this.data.tableName);//need to be dynamic\n        upLoadData.set(\"fieldName\", this.data.fieldName);//need to dynamic\n        upLoadData.set(\"pkField\", this.data.pkField);//need to dynamic\n        upLoadData.set(\"docBucketId\", this.data.docBucketId || 0);//need to be dynamic\n        upLoadData.set(\"pkValue\",this.data.pkValue);\n        this.upLoadData = upLoadData;\n      }\n      fileReader.readAsDataURL(file);\n    }\n  }\n\n  getFileExtension(fileName: string): string {\n    const regex = /(?:\\.([^.]+))?$/;\n    const result = regex.exec(fileName);\n    if (result && result[1]) {\n      return result[1];\n    } else {\n      return ''; // Return an empty string or handle the situation according to your requirements\n    }\n  }\n\n  onSaveDocuments() {\n    this.upLoadData.set(\"notes\", this.documentsForm.controls.notes.value);\n    this.upLoadData.set(\"docType\", this.documentsForm.controls.docType.value);\n    this.documentListService.saveDocuments(this.upLoadData).subscribe((res: any) => {\n      if (res.status === 200) {\n        console.log(res.body.text);//docBucketId\n        this.dialogRef.close(res.body.text);\n\n      }\n    })\n  };\n\n  confirmDialog(): void {\n    this.confirmationService.confirm({\n      message: UtilConstant.CANCEL_Msg,\n      header: 'Confirmation',\n      icon: 'pi pi-exclamation-triangle',\n      accept: () => {\n        this.dialogRef.close();\n      },\n     \n    });\n  }\n\n}\n\n","<h2 mat-dialog-title class=\"mat-dialog-title-ext\">Add Document</h2>\n<mat-dialog-content class=\"mat-typography mat-dialog-content-ext\">\n    <mat-card>\n        <mat-card-content id=\"documents\">\n            <form [formGroup]=\"documentsForm\">\n                <table width=\"100%\">\n                    <tr>\n                        <td style=\"width: 50%\">\n                            <div class=\"input-label-custom \">\n                                <label class='form-field-lable control-label'>Document Type</label>\n                                <ng-select appendTo=\"body\" [clearable]=\"false\" [items]=\"enumDocType\"\n                                    formControlName=\"docType\" [searchable]=\"true\" bindLabel=\"enumValue\" bindValue=\"enumValue\"\n                                    placeholder=\"Make a selection\" class=\"ng-select-dropdown\">\n                                </ng-select>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td style=\"width: 50%\">\n                            <div class=\"input-label-custom \">\n                                <div class=\"file-container\" (click)=\"_fileInput.click()\">\n                                    <div class=\"label-container\">\n                                        <label class='form-field-lable'>{{fileName}}</label>\n                                    </div>\n                                    <div class=\"icon-container\">\n                                        <p-button icon=\"pi pi-cloud-upload\"\n                                            styleClass=\"p-button-rounded custom-button\"></p-button>\n                                    </div>\n                                </div>\n                                <input #_fileInput type=\"file\" hidden accept=\".jpg, .jpeg, .png, .pdf,.doc,.docx, .xlsx\"\n                                    style=\"margin-bottom: 3px;\" (change)=\"fileChangeEvent($event)\" />\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <div class=\"input-label-custom \">\n                                <label class='form-field-lable'>Notes</label>\n                                <textarea class=\"form-control note-border\" name=\"notes\" rows=\"4\" nz-input maxlength=\"512\" formControlName=\"notes\"\n                                    appTrimInput></textarea>\n                            </div>\n                        </td>\n                    </tr>\n                </table>\n            </form>\n        </mat-card-content>\n    </mat-card>\n</mat-dialog-content>\n<mat-dialog-actions align=\"end\" class=\"mat-dialog-actions-ext\">\n    <p-button label=\"Save\" icon=\"pi pi-check\" [disabled]=\"!fileSelected || (!documentsForm.valid)\"\n        (click)=\"onSaveDocuments()\"></p-button>\n    <p-button label=\"Cancel\" (click)=\"confirmDialog()\" icon=\"pi pi-times\" styleClass=\"p-button-secondary\"\n        [style]=\"{'margin-left': '.5em'}\"></p-button>\n</mat-dialog-actions>\n<p-confirmDialog header=\"positionDialog\" icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\n\n<p-dialog header=\"Warning\" [(visible)]=\"showWarning\" [style]=\"{width: '25vw'}\" [closable]=\"false\">\n    <ng-template pTemplate=\"caption\">\n        <div class=\"m-2\">\n            <p>Selected file exceeds the size limit of 1MB.</p>\n        </div>\n        <div class=\"d-flex flex-row justify-content-end\">\n            <div style=\"display: flex; padding-left: 6px;\">\n                <button pButton pRipple label=\"Ok\" class=\"p-button-primary p-button-sm\" style=\"margin-left:8px\"\n                    (click)=\"showWarning = !showWarning\"></button>\n            </div>\n        </div>\n    </ng-template>\n</p-dialog>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}