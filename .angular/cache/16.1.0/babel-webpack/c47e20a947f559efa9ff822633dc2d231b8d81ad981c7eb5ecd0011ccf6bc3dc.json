{"ast":null,"code":"import { PpmPlansListComponent } from '../../link-plan-to-location/widgets/ppm-plans-list/ppm-plans-list.component';\nimport { UnLinkAssetsScreenComponent } from '../widgets/un-link-assets-screen/un-link-assets-screen.component';\nimport { LinkAssetsScreenComponent } from '../widgets/link-assets-screen/link-assets-screen.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../link-plan-to-location/widgets/ppm-plans-list/ppm-plans-list.component\";\nimport * as i2 from \"../widgets/un-link-assets-screen/un-link-assets-screen.component\";\nimport * as i3 from \"../widgets/link-assets-screen/link-assets-screen.component\";\nimport * as i4 from \"primeng/panel\";\nexport class LinkAssetsToPlanComponent {\n  ngOnInit() {}\n  ngAfterViewInit() {\n    this.ppmPlansListComponent.loadRecords(\"Asset\");\n  }\n  getPlanAssets(event) {\n    // this.showChild = true;\n    // this.locationPlanListComponent.header = \"Linked Locations for - \" +event.planName\n    // this.locationPlanListComponent.loadLocationPlans(event.planId);\n    this.selectedPlan = event;\n    this.linkAssetsScreenComponent.selectedPlan = `( ${event.planName} )`;\n    this.unLinkAssetsScreenComponent.selectedPlan = `( ${event.planName} )`;\n    this.linkAssetsScreenComponent.loadRecords(event.planId);\n    this.unLinkAssetsScreenComponent.loadRecords(event.planId);\n  }\n  refreshPanels(event) {\n    this.linkAssetsScreenComponent.selectedPlan = `( ${this.selectedPlan.planName} )`;\n    this.unLinkAssetsScreenComponent.selectedPlan = `( ${this.selectedPlan.planName} )`;\n    this.linkAssetsScreenComponent.loadRecords(this.selectedPlan.planId);\n    this.unLinkAssetsScreenComponent.loadRecords(this.selectedPlan.planId);\n  }\n  static #_ = this.ɵfac = function LinkAssetsToPlanComponent_Factory(t) {\n    return new (t || LinkAssetsToPlanComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LinkAssetsToPlanComponent,\n    selectors: [[\"app-link-assets-to-plan\"]],\n    viewQuery: function LinkAssetsToPlanComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(PpmPlansListComponent, 5);\n        i0.ɵɵviewQuery(LinkAssetsScreenComponent, 5);\n        i0.ɵɵviewQuery(UnLinkAssetsScreenComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.ppmPlansListComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.linkAssetsScreenComponent = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.unLinkAssetsScreenComponent = _t.first);\n      }\n    },\n    decls: 12,\n    vars: 0,\n    consts: [[\"header\", \"Plan List\"], [1, \"row\"], [1, \"col-sm-6\", \"col-md-6\", \"col-xm-6\", \"col-lg-6\"], [1, \"page-content\", 2, \"height\", \"calc(100vh - 150px)\"], [3, \"parentFun\"], [1, \"col-sm-12\", \"col-md-12\", \"col-lg-12\"]],\n    template: function LinkAssetsToPlanComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p-panel\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"app-ppm-plans-list\", 4);\n        i0.ɵɵlistener(\"parentFun\", function LinkAssetsToPlanComponent_Template_app_ppm_plans_list_parentFun_4_listener($event) {\n          return ctx.getPlanAssets($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(5, \"div\", 2)(6, \"div\", 1)(7, \"div\", 5)(8, \"app-un-link-assets-screen\", 4);\n        i0.ɵɵlistener(\"parentFun\", function LinkAssetsToPlanComponent_Template_app_un_link_assets_screen_parentFun_8_listener($event) {\n          return ctx.refreshPanels($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(9, \"div\", 1)(10, \"div\", 5)(11, \"app-link-assets-screen\", 4);\n        i0.ɵɵlistener(\"parentFun\", function LinkAssetsToPlanComponent_Template_app_link_assets_screen_parentFun_11_listener($event) {\n          return ctx.refreshPanels($event);\n        });\n        i0.ɵɵelementEnd()()()()()();\n      }\n    },\n    dependencies: [i1.PpmPlansListComponent, i2.UnLinkAssetsScreenComponent, i3.LinkAssetsScreenComponent, i4.Panel],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["PpmPlansListComponent","UnLinkAssetsScreenComponent","LinkAssetsScreenComponent","LinkAssetsToPlanComponent","ngOnInit","ngAfterViewInit","ppmPlansListComponent","loadRecords","getPlanAssets","event","selectedPlan","linkAssetsScreenComponent","planName","unLinkAssetsScreenComponent","planId","refreshPanels","_","_2","selectors","viewQuery","LinkAssetsToPlanComponent_Query","rf","ctx","i0","ɵɵelementStart","ɵɵlistener","LinkAssetsToPlanComponent_Template_app_ppm_plans_list_parentFun_4_listener","$event","ɵɵelementEnd","LinkAssetsToPlanComponent_Template_app_un_link_assets_screen_parentFun_8_listener","LinkAssetsToPlanComponent_Template_app_link_assets_screen_parentFun_11_listener"],"sources":["/home/admin7/Documents/fms_frontend/src/app/ui/link-assets-to-plan/modal/link-assets-to-plan.component.ts","/home/admin7/Documents/fms_frontend/src/app/ui/link-assets-to-plan/modal/link-assets-to-plan.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { PpmPlansListComponent } from '../../link-plan-to-location/widgets/ppm-plans-list/ppm-plans-list.component';\nimport { UnLinkAssetsScreenComponent } from '../widgets/un-link-assets-screen/un-link-assets-screen.component';\nimport { LinkAssetsScreenComponent } from '../widgets/link-assets-screen/link-assets-screen.component';\n\n@Component({\n  selector: 'app-link-assets-to-plan',\n  templateUrl: './link-assets-to-plan.component.html',\n  styleUrls: ['./link-assets-to-plan.component.scss']\n})\nexport class LinkAssetsToPlanComponent {\n  selectedPlan: any;\n  @ViewChild(PpmPlansListComponent, { static: false }) ppmPlansListComponent!: PpmPlansListComponent;\n  @ViewChild(LinkAssetsScreenComponent, { static: false }) linkAssetsScreenComponent!: LinkAssetsScreenComponent;\n  @ViewChild(UnLinkAssetsScreenComponent, { static: false }) unLinkAssetsScreenComponent!: UnLinkAssetsScreenComponent;\n  ngOnInit(): void {\n\n  }\n\n  ngAfterViewInit() {\n    this.ppmPlansListComponent.loadRecords(\"Asset\");\n  }\n\n  getPlanAssets(event: any) {\n    // this.showChild = true;\n    // this.locationPlanListComponent.header = \"Linked Locations for - \" +event.planName\n    // this.locationPlanListComponent.loadLocationPlans(event.planId);\n    this.selectedPlan = event;\n    this.linkAssetsScreenComponent.selectedPlan = `( ${event.planName} )`;\n    this.unLinkAssetsScreenComponent.selectedPlan = `( ${event.planName} )`;\n    this.linkAssetsScreenComponent.loadRecords(event.planId);\n    this.unLinkAssetsScreenComponent.loadRecords(event.planId);\n  }\n\n  refreshPanels(event: any) {\n    this.linkAssetsScreenComponent.selectedPlan = `( ${this.selectedPlan.planName} )`;\n    this.unLinkAssetsScreenComponent.selectedPlan = `( ${this.selectedPlan.planName} )`;\n    this.linkAssetsScreenComponent.loadRecords(this.selectedPlan.planId);\n    this.unLinkAssetsScreenComponent.loadRecords(this.selectedPlan.planId);\n  }\n\n}\n","<p-panel header=\"Plan List\" >\n    <div class=\"row\">\n        <div class=\"col-sm-6 col-md-6 col-xm-6 col-lg-6\">\n            <div class=\"page-content\" style=\"height: calc(100vh - 150px)\">\n                <app-ppm-plans-list (parentFun)=\"getPlanAssets($event)\"></app-ppm-plans-list>\n            </div>\n\n        </div>\n        <div class=\"col-sm-6 col-md-6 col-xm-6 col-lg-6\">\n            <div class=\"row\">\n                <div class=\"col-sm-12 col-md-12 col-lg-12\">\n                    <!-- <app-un-link-plan-to-location-screen\n                        (parentFun)=\"refreshPanels($event)\"></app-un-link-plan-to-location-screen> -->\n                        <app-un-link-assets-screen (parentFun)=\"refreshPanels($event)\"></app-un-link-assets-screen>\n                        \n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-sm-12 col-md-12 col-lg-12\">\n                    <!-- <app-link-plan-to-location-screen\n                        (parentFun)=\"refreshPanels($event)\"></app-link-plan-to-location-screen> -->\n                        <app-link-assets-screen (parentFun)=\"refreshPanels($event)\"></app-link-assets-screen>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</p-panel>"],"mappings":"AACA,SAASA,qBAAqB,QAAQ,6EAA6E;AACnH,SAASC,2BAA2B,QAAQ,kEAAkE;AAC9G,SAASC,yBAAyB,QAAQ,4DAA4D;;;;;;AAOtG,OAAM,MAAOC,yBAAyB;EAKpCC,QAAQA,CAAA,GAER;EAEAC,eAAeA,CAAA;IACb,IAAI,CAACC,qBAAqB,CAACC,WAAW,CAAC,OAAO,CAAC;EACjD;EAEAC,aAAaA,CAACC,KAAU;IACtB;IACA;IACA;IACA,IAAI,CAACC,YAAY,GAAGD,KAAK;IACzB,IAAI,CAACE,yBAAyB,CAACD,YAAY,GAAG,KAAKD,KAAK,CAACG,QAAQ,IAAI;IACrE,IAAI,CAACC,2BAA2B,CAACH,YAAY,GAAG,KAAKD,KAAK,CAACG,QAAQ,IAAI;IACvE,IAAI,CAACD,yBAAyB,CAACJ,WAAW,CAACE,KAAK,CAACK,MAAM,CAAC;IACxD,IAAI,CAACD,2BAA2B,CAACN,WAAW,CAACE,KAAK,CAACK,MAAM,CAAC;EAC5D;EAEAC,aAAaA,CAACN,KAAU;IACtB,IAAI,CAACE,yBAAyB,CAACD,YAAY,GAAG,KAAK,IAAI,CAACA,YAAY,CAACE,QAAQ,IAAI;IACjF,IAAI,CAACC,2BAA2B,CAACH,YAAY,GAAG,KAAK,IAAI,CAACA,YAAY,CAACE,QAAQ,IAAI;IACnF,IAAI,CAACD,yBAAyB,CAACJ,WAAW,CAAC,IAAI,CAACG,YAAY,CAACI,MAAM,CAAC;IACpE,IAAI,CAACD,2BAA2B,CAACN,WAAW,CAAC,IAAI,CAACG,YAAY,CAACI,MAAM,CAAC;EACxE;EAAC,QAAAE,CAAA,G;qBA7BUb,yBAAyB;EAAA;EAAA,QAAAc,EAAA,G;UAAzBd,yBAAyB;IAAAe,SAAA;IAAAC,SAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;uBAEzBrB,qBAAqB;uBACrBE,yBAAyB;uBACzBD,2BAA2B;;;;;;;;;;;;;;QCdxCsB,EAAA,CAAAC,cAAA,iBAA6B;QAIOD,EAAA,CAAAE,UAAA,uBAAAC,2EAAAC,MAAA;UAAA,OAAaL,GAAA,CAAAd,aAAA,CAAAmB,MAAA,CAAqB;QAAA,EAAC;QAACJ,EAAA,CAAAK,YAAA,EAAqB;QAIrFL,EAAA,CAAAC,cAAA,aAAiD;QAKND,EAAA,CAAAE,UAAA,uBAAAI,kFAAAF,MAAA;UAAA,OAAaL,GAAA,CAAAP,aAAA,CAAAY,MAAA,CAAqB;QAAA,EAAC;QAACJ,EAAA,CAAAK,YAAA,EAA4B;QAIvGL,EAAA,CAAAC,cAAA,aAAiB;QAImBD,EAAA,CAAAE,UAAA,uBAAAK,gFAAAH,MAAA;UAAA,OAAaL,GAAA,CAAAP,aAAA,CAAAY,MAAA,CAAqB;QAAA,EAAC;QAACJ,EAAA,CAAAK,YAAA,EAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}