{"ast":null,"code":"import { MessageService } from 'primeng/api';\nimport { AddAssetClassificationComponent } from '../widgets/add-asset-classification/add-asset-classification.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/asset-classification-services\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"primeng/button\";\nimport * as i4 from \"primeng/toast\";\nimport * as i5 from \"primeng/panel\";\nimport * as i6 from \"primeng/tree\";\nimport * as i7 from \"../widgets/add-asset-classification/add-asset-classification.component\";\nfunction AssetClassificationComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function AssetClassificationComponent_ng_template_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onAdd());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AssetClassificationComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const node_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"href\", node_r5.data, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(node_r5.label);\n  }\n}\nfunction AssetClassificationComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"b\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const node_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(node_r6.label);\n  }\n}\nexport class AssetClassificationComponent {\n  constructor(assetClassificationSrv, messageService) {\n    this.assetClassificationSrv = assetClassificationSrv;\n    this.messageService = messageService;\n    this.isNew = true;\n    this.hideForm = true;\n    this.loading = false;\n    this.parentAssetClassification = '';\n    this.expandedNodes = [];\n    this.treeState = {};\n  }\n  ngOnInit() {\n    this.loadRecords();\n  }\n  loadRecords() {\n    const expandedNodes = this.getExpandedNodes();\n    this.loading = true;\n    this.nodes = [];\n    this.assetClassificationSrv.getAll().subscribe(res => {\n      this.nodes = res;\n      this.loading = false;\n      expandedNodes.length > 0 ? this.restoreExpandedNodes(expandedNodes) : '';\n    });\n  }\n  onAdd() {\n    const data = {\n      assetClassId: null,\n      assetClass: null,\n      description: null,\n      hierarchyId: this.selectedRecord ? this.selectedRecord.hierarchyId + 1 : null,\n      parentId: this.parentRecord ? this.parentRecord.key : null\n    };\n    let parentLabels = [];\n    if (this.selectedNode) {\n      let node = this.selectedNode;\n      while (node.parent) {\n        parentLabels.unshift(node.parent.label);\n        node = node.parent;\n      }\n      const selectedNodeLabels = parentLabels.length > 0 ? parentLabels.join(\" | \") + \" | \" + this.selectedNode.label : this.selectedNode.label;\n      if (selectedNodeLabels.length > 0) {\n        this.addAssetClassificationPanel.parentAssetClassification = selectedNodeLabels;\n      } else {\n        this.addAssetClassificationPanel.parentAssetClassification = '';\n      }\n    }\n    this.addAssetClassificationPanel.setFormData(data, \"Add\", this.parentAssetClassification);\n    this.hideForm = false;\n  }\n  nodeSelect(event) {\n    this.treeState.selectedNode = event.node;\n    this.hideForm = true;\n    let parentLabels = [];\n    let node = event.node;\n    while (node.parent) {\n      parentLabels.unshift(node.parent.label);\n      node = node.parent;\n    }\n    const selectedNodeLabels = parentLabels.join(\" | \");\n    if (selectedNodeLabels.length > 0) {\n      this.addAssetClassificationPanel.parentAssetClassification = selectedNodeLabels;\n    } else {\n      this.addAssetClassificationPanel.parentAssetClassification = '';\n    }\n    this.selectedRecord = event.node.data;\n    this.parentRecord = event.node.parent;\n    this.addAssetClassificationPanel.selectedRecord = event.node.data;\n    this.addAssetClassificationPanel.setFormData(event.node.data, \"Edit\", this.parentAssetClassification);\n    this.hideForm = false;\n    this.selectedNode = event.node;\n  }\n  onNodeExpand(event) {\n    if (!this.treeState.expandedNodes) {\n      this.treeState.expandedNodes = [];\n    }\n    this.treeState.expandedNodes.push(event.node);\n  }\n  refresh(action) {\n    if (action === 'Cancel') {\n      this.hideForm = true;\n      this.selectedFiles = [];\n      this.selectedRecord = null;\n      this.parentRecord = null;\n      this.addAssetClassificationPanel.selectedRecord = null;\n      this.addAssetClassificationPanel.parentAssetClassification = '';\n      this.selectedNode = null;\n    } else if (action === \"Save\") {\n      this.hideForm = true;\n      this.messageService.clear();\n      this.messageService.add({\n        key: 'save',\n        severity: 'success',\n        summary: 'Record saved successfully',\n        detail: 'Record saved successfully'\n      });\n      this.selectedFiles = [];\n      this.selectedRecord = null;\n      this.parentRecord = null;\n      this.addAssetClassificationPanel.selectedRecord = null;\n      this.loadRecords();\n      this.addAssetClassificationPanel.parentAssetClassification = '';\n      this.selectedNode = null;\n    }\n  }\n  getExpandedNodes() {\n    const expandedNodes = [];\n    if (this.nodes) {\n      this.nodes.forEach(node => {\n        if (node.expanded) {\n          expandedNodes.push(node);\n        }\n      });\n      return expandedNodes;\n    } else {\n      return expandedNodes;\n    }\n  }\n  restoreExpandedNodes(expandedNodes) {\n    const visitNode = node => {\n      if (node.expanded) {\n        node.expanded = false;\n        const foundNode = this.findNodeById(this.nodes, node.key);\n        if (foundNode) {\n          foundNode.expanded = true;\n          if (node.children) {\n            node.children.forEach(childNode => {\n              visitNode(childNode);\n            });\n          }\n        }\n      }\n    };\n    expandedNodes.forEach(node => {\n      visitNode(node);\n    });\n  }\n  findNodeById(nodes, id) {\n    let foundNode;\n    nodes.forEach(node => {\n      if (node.key === id) {\n        foundNode = node;\n      } else if (node.children) {\n        const childNode = this.findNodeById(node.children, id);\n        if (childNode) {\n          foundNode = childNode;\n        }\n      }\n    });\n    return foundNode;\n  }\n  static #_ = this.ɵfac = function AssetClassificationComponent_Factory(t) {\n    return new (t || AssetClassificationComponent)(i0.ɵɵdirectiveInject(i1.AssetClassificationService), i0.ɵɵdirectiveInject(i2.MessageService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AssetClassificationComponent,\n    selectors: [[\"app-asset-classification\"]],\n    viewQuery: function AssetClassificationComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(AddAssetClassificationComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.addAssetClassificationPanel = _t.first);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([MessageService])],\n    decls: 10,\n    vars: 6,\n    consts: [[1, \"row\"], [1, \"col-sm-6\", \"col-md-6\", \"col-xm-4\", \"col-lg-6\"], [\"header\", \"Asset Classification\"], [\"pTemplate\", \"icons\"], [\"selectionMode\", \"single\", \"scrollHeight\", \"72vh\", 3, \"loading\", \"value\", \"selection\", \"filter\", \"selectionChange\", \"onNodeSelect\", \"onNodeExpand\"], [\"pTemplate\", \"url\"], [\"pTemplate\", \"default\"], [3, \"hidden\", \"isNew\", \"parentFun\"], [\"key\", \"save\", \"position\", \"top-right\"], [\"pButton\", \"\", \"label\", \"Add\", \"icon\", \"pi pi-plus\", 3, \"click\"], [3, \"href\"]],\n    template: function AssetClassificationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"p-panel\", 2);\n        i0.ɵɵtemplate(3, AssetClassificationComponent_ng_template_3_Template, 1, 0, \"ng-template\", 3);\n        i0.ɵɵelementStart(4, \"p-tree\", 4);\n        i0.ɵɵlistener(\"selectionChange\", function AssetClassificationComponent_Template_p_tree_selectionChange_4_listener($event) {\n          return ctx.selectedFiles = $event;\n        })(\"onNodeSelect\", function AssetClassificationComponent_Template_p_tree_onNodeSelect_4_listener($event) {\n          return ctx.nodeSelect($event);\n        })(\"onNodeExpand\", function AssetClassificationComponent_Template_p_tree_onNodeExpand_4_listener($event) {\n          return ctx.onNodeExpand($event);\n        });\n        i0.ɵɵtemplate(5, AssetClassificationComponent_ng_template_5_Template, 2, 2, \"ng-template\", 5);\n        i0.ɵɵtemplate(6, AssetClassificationComponent_ng_template_6_Template, 2, 1, \"ng-template\", 6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 1)(8, \"app-add-asset-classification\", 7);\n        i0.ɵɵlistener(\"parentFun\", function AssetClassificationComponent_Template_app_add_asset_classification_parentFun_8_listener($event) {\n          return ctx.refresh($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(9, \"p-toast\", 8);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"loading\", ctx.loading)(\"value\", ctx.nodes)(\"selection\", ctx.selectedFiles)(\"filter\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"hidden\", ctx.hideForm)(\"isNew\", ctx.isNew);\n      }\n    },\n    dependencies: [i2.PrimeTemplate, i3.ButtonDirective, i4.Toast, i5.Panel, i6.Tree, i7.AddAssetClassificationComponent],\n    styles: [\"[_nghost-%COMP%]     b, strong[_ngcontent-%COMP%] {\\n  font-weight: 400;\\n}\\n\\n[_nghost-%COMP%]     chevrondownicon {\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  color: #0d89ec;\\n}\\n\\n[_nghost-%COMP%]     chevronrighticon {\\n  font-size: 1.5rem;\\n  font-weight: bold;\\n  color: #0d89ec;\\n}\\n\\n[_nghost-%COMP%]     chevronrighticon svg {\\n  width: 16px;\\n  height: 16px;\\n}\\n\\n[_nghost-%COMP%]     chevrondownicon svg {\\n  width: 16px;\\n  height: 16px;\\n}\\n\\n[_nghost-%COMP%]     chevronrighticon svg path {\\n  d: path(\\\"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z\\\");\\n}\\n\\n[_nghost-%COMP%]     chevrondownicon svg path {\\n  d: path(\\\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\\\");\\n}\\n\\n[_nghost-%COMP%]     ::-webkit-scrollbar {\\n  width: 6px !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdWkvQXNzZXQtTWFuYWdlbWVudC9hc3NldC1jbGFzc2lmaWNhdGlvbi9tb2RhbC9hc3NldC1jbGFzc2lmaWNhdGlvbi5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uLy4uLy4uLy4uLy4uL01hbmF2JTIwR3VwdGEvRG93bmxvYWRzL2Ztcy9mbXMvZnJvbnRlbmQvZm1zX2Zyb250ZW5kL3NyYy9hcHAvdWkvQXNzZXQtTWFuYWdlbWVudC9hc3NldC1jbGFzc2lmaWNhdGlvbi9tb2RhbC9hc3NldC1jbGFzc2lmaWNhdGlvbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVFO0VBQ0UsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUNDSjs7QURFRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUU7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVFO0VBQ0UsZ0hBQUE7QUNDSjs7QURFRTtFQUNFLG9FQUFBO0FDQ0o7O0FERUU7RUFDRSxxQkFBQTtBQ0NKIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgOjpuZy1kZWVwIGIsIHN0cm9uZyB7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwICBjaGV2cm9uZG93bmljb24ge1xuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiAjMGQ4OWVjO1xuICB9XG4gIFxuICA6aG9zdCA6Om5nLWRlZXAgY2hldnJvbnJpZ2h0aWNvbiB7XG4gICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgY29sb3I6ICMwZDg5ZWM7XG4gIH1cbiAgXG4gIDpob3N0IDo6bmctZGVlcCBjaGV2cm9ucmlnaHRpY29uIHN2Z3tcbiAgICB3aWR0aDogMTZweDsgXG4gICAgaGVpZ2h0OiAxNnB4OyBcbiAgfVxuICBcbiAgOmhvc3QgOjpuZy1kZWVwIGNoZXZyb25kb3duaWNvbiBzdmd7XG4gICAgd2lkdGg6IDE2cHg7IFxuICAgIGhlaWdodDogMTZweDsgXG4gIH1cbiAgXG4gIDpob3N0IDo6bmctZGVlcCBjaGV2cm9ucmlnaHRpY29uIHN2ZyBwYXRoIHtcbiAgICBkOiBwYXRoKCdNOCA0YS41LjUgMCAwIDEgLjUuNXYzaDNhLjUuNSAwIDAgMSAwIDFoLTN2M2EuNS41IDAgMCAxLTEgMHYtM2gtM2EuNS41IDAgMCAxIDAtMWgzdi0zQS41LjUgMCAwIDEgOCA0eicpO1xuICB9XG4gIFxuICA6aG9zdCA6Om5nLWRlZXAgY2hldnJvbmRvd25pY29uIHN2ZyBwYXRoIHtcbiAgICBkOiBwYXRoKCdNNCA4YS41LjUgMCAwIDEgLjUtLjVoN2EuNS41IDAgMCAxIDAgMWgtN0EuNS41IDAgMCAxIDQgOHonKTtcbiAgfVxuXG4gIDpob3N0IDo6bmctZGVlcCA6Oi13ZWJraXQtc2Nyb2xsYmFye1xuICAgIHdpZHRoOjZweCAhaW1wb3J0YW50O1xuICB9IiwiOmhvc3QgOjpuZy1kZWVwIGIsIHN0cm9uZyB7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG59XG5cbjpob3N0IDo6bmctZGVlcCBjaGV2cm9uZG93bmljb24ge1xuICBmb250LXNpemU6IDEuNXJlbTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMGQ4OWVjO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgY2hldnJvbnJpZ2h0aWNvbiB7XG4gIGZvbnQtc2l6ZTogMS41cmVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICMwZDg5ZWM7XG59XG5cbjpob3N0IDo6bmctZGVlcCBjaGV2cm9ucmlnaHRpY29uIHN2ZyB7XG4gIHdpZHRoOiAxNnB4O1xuICBoZWlnaHQ6IDE2cHg7XG59XG5cbjpob3N0IDo6bmctZGVlcCBjaGV2cm9uZG93bmljb24gc3ZnIHtcbiAgd2lkdGg6IDE2cHg7XG4gIGhlaWdodDogMTZweDtcbn1cblxuOmhvc3QgOjpuZy1kZWVwIGNoZXZyb25yaWdodGljb24gc3ZnIHBhdGgge1xuICBkOiBwYXRoKFwiTTggNGEuNS41IDAgMCAxIC41LjV2M2gzYS41LjUgMCAwIDEgMCAxaC0zdjNhLjUuNSAwIDAgMS0xIDB2LTNoLTNhLjUuNSAwIDAgMSAwLTFoM3YtM0EuNS41IDAgMCAxIDggNHpcIik7XG59XG5cbjpob3N0IDo6bmctZGVlcCBjaGV2cm9uZG93bmljb24gc3ZnIHBhdGgge1xuICBkOiBwYXRoKFwiTTQgOGEuNS41IDAgMCAxIC41LS41aDdhLjUuNSAwIDAgMSAwIDFoLTdBLjUuNSAwIDAgMSA0IDh6XCIpO1xufVxuXG46aG9zdCA6Om5nLWRlZXAgOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiA2cHggIWltcG9ydGFudDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["MessageService","AddAssetClassificationComponent","i0","ɵɵelementStart","ɵɵlistener","AssetClassificationComponent_ng_template_3_Template_button_click_0_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","onAdd","ɵɵelementEnd","ɵɵtext","ɵɵproperty","node_r5","data","ɵɵsanitizeUrl","ɵɵadvance","ɵɵtextInterpolate","label","node_r6","AssetClassificationComponent","constructor","assetClassificationSrv","messageService","isNew","hideForm","loading","parentAssetClassification","expandedNodes","treeState","ngOnInit","loadRecords","getExpandedNodes","nodes","getAll","subscribe","res","length","restoreExpandedNodes","assetClassId","assetClass","description","hierarchyId","selectedRecord","parentId","parentRecord","key","parentLabels","selectedNode","node","parent","unshift","selectedNodeLabels","join","addAssetClassificationPanel","setFormData","nodeSelect","event","onNodeExpand","push","refresh","action","selectedFiles","clear","add","severity","summary","detail","forEach","expanded","visitNode","foundNode","findNodeById","children","childNode","id","_","ɵɵdirectiveInject","i1","AssetClassificationService","i2","_2","selectors","viewQuery","AssetClassificationComponent_Query","rf","ctx","decls","vars","consts","template","AssetClassificationComponent_Template","ɵɵtemplate","AssetClassificationComponent_ng_template_3_Template","AssetClassificationComponent_Template_p_tree_selectionChange_4_listener","$event","AssetClassificationComponent_Template_p_tree_onNodeSelect_4_listener","AssetClassificationComponent_Template_p_tree_onNodeExpand_4_listener","AssetClassificationComponent_ng_template_5_Template","AssetClassificationComponent_ng_template_6_Template","AssetClassificationComponent_Template_app_add_asset_classification_parentFun_8_listener","ɵɵelement"],"sources":["C:\\Users\\Manav Gupta\\Downloads\\fms\\fms\\frontend\\fms_frontend\\src\\app\\ui\\Asset-Management\\asset-classification\\modal\\asset-classification.component.ts","C:\\Users\\Manav Gupta\\Downloads\\fms\\fms\\frontend\\fms_frontend\\src\\app\\ui\\Asset-Management\\asset-classification\\modal\\asset-classification.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { MessageService, TreeNode } from 'primeng/api';\nimport { AddAssetClassificationComponent } from '../widgets/add-asset-classification/add-asset-classification.component';\nimport { AssetClassificationService } from '../services/asset-classification-services';\n\n@Component({\n  selector: 'app-asset-classification',\n  templateUrl: './asset-classification.component.html',\n  styleUrls: ['./asset-classification.component.scss'],\n  providers: [MessageService]\n})\nexport class AssetClassificationComponent {\n\n  nodes!: TreeNode[];\n  selectedFiles!: TreeNode[];\n  isNew: boolean = true;\n  hideForm: boolean = true\n  selectedRecord!: any;\n  parentRecord!: any;\n  loading: boolean = false;\n  parentAssetClassification: string = '';\n  selectedNode!: any;\n  expandedNodes: any[] = [];\n  treeState: any = {};\n\n  @ViewChild(AddAssetClassificationComponent) addAssetClassificationPanel!: AddAssetClassificationComponent;\n\n  constructor(\n    private assetClassificationSrv: AssetClassificationService,\n    private messageService: MessageService,\n\n  ) { }\n\n  ngOnInit(): void {\n    this.loadRecords();\n  }\n\n  loadRecords() {\n    const expandedNodes = this.getExpandedNodes();\n    this.loading = true;\n    this.nodes = [];\n    this.assetClassificationSrv.getAll().subscribe((res: any) => {\n      this.nodes = res;\n      this.loading = false;\n      expandedNodes.length > 0 ? this.restoreExpandedNodes(expandedNodes) : '';\n    })\n\n  }\n\n  onAdd() {\n    const data = {\n      assetClassId: null,\n      assetClass: null,\n      description: null,\n      hierarchyId: this.selectedRecord ? this.selectedRecord.hierarchyId + 1 : null,\n      parentId: this.parentRecord ? this.parentRecord.key : null,\n    }\n    let parentLabels = [];\n    if (this.selectedNode) {\n      let node = this.selectedNode;\n      while (node.parent) {\n        parentLabels.unshift(node.parent.label);\n        node = node.parent;\n      }\n      const selectedNodeLabels = parentLabels.length > 0 ? parentLabels.join(\" | \") + \" | \" + this.selectedNode.label : this.selectedNode.label;\n      if (selectedNodeLabels.length > 0) {\n        this.addAssetClassificationPanel.parentAssetClassification = selectedNodeLabels;\n      } else {\n        this.addAssetClassificationPanel.parentAssetClassification = '';\n      }\n    }\n\n    this.addAssetClassificationPanel.setFormData(data, \"Add\", this.parentAssetClassification);\n    this.hideForm = false;\n  }\n\n  nodeSelect(event: any) {\n    this.treeState.selectedNode = event.node;\n    this.hideForm = true;\n    let parentLabels = [];\n    let node = event.node;\n    while (node.parent) {\n      parentLabels.unshift(node.parent.label);\n      node = node.parent;\n    }\n    const selectedNodeLabels = parentLabels.join(\" | \");\n    if (selectedNodeLabels.length > 0) {\n      this.addAssetClassificationPanel.parentAssetClassification = selectedNodeLabels;\n    } else {\n      this.addAssetClassificationPanel.parentAssetClassification = '';\n    }\n    this.selectedRecord = event.node.data;\n    this.parentRecord = event.node.parent;\n    this.addAssetClassificationPanel.selectedRecord = event.node.data;\n    this.addAssetClassificationPanel.setFormData(event.node.data, \"Edit\", this.parentAssetClassification);\n    this.hideForm = false;\n    this.selectedNode = event.node;\n  }\n\n  onNodeExpand(event: any) {\n    if (!this.treeState.expandedNodes) {\n      this.treeState.expandedNodes = [];\n    }\n    this.treeState.expandedNodes.push(event.node);\n  }\n\n  refresh(action: any) {\n    if (action === 'Cancel') {\n      this.hideForm = true;\n      this.selectedFiles = [];\n      this.selectedRecord = null;\n      this.parentRecord = null;\n      this.addAssetClassificationPanel.selectedRecord = null;\n      this.addAssetClassificationPanel.parentAssetClassification = '';\n      this.selectedNode = null;\n    } else if (action === \"Save\") {\n      this.hideForm = true;\n      this.messageService.clear();\n      this.messageService.add({ key: 'save', severity: 'success', summary: 'Record saved successfully', detail: 'Record saved successfully' });\n      this.selectedFiles = [];\n      this.selectedRecord = null;\n      this.parentRecord = null;\n      this.addAssetClassificationPanel.selectedRecord = null;\n      this.loadRecords();\n      this.addAssetClassificationPanel.parentAssetClassification = '';\n      this.selectedNode = null;\n    }\n\n  }\n\n  getExpandedNodes(): TreeNode[] {\n    const expandedNodes: TreeNode[] = [];\n    if (this.nodes) {\n      this.nodes.forEach((node: TreeNode) => {\n        if (node.expanded) {\n          expandedNodes.push(node);\n        }\n      });\n      return expandedNodes;\n    } else {\n      return expandedNodes;\n    }\n\n  }\n\n  restoreExpandedNodes(expandedNodes: TreeNode[]): void {\n    const visitNode = (node: TreeNode) => {\n      if (node.expanded) {\n        node.expanded = false;\n        const foundNode = this.findNodeById(this.nodes, node.key);\n        if (foundNode) {\n          foundNode.expanded = true;\n          if (node.children) {\n            node.children.forEach((childNode: TreeNode) => {\n              visitNode(childNode);\n            });\n          }\n        }\n      }\n    };\n    expandedNodes.forEach((node: TreeNode) => {\n      visitNode(node);\n    });\n  }\n\n  findNodeById(nodes: TreeNode[], id: any): TreeNode {\n    let foundNode: TreeNode | undefined;\n    nodes.forEach((node: TreeNode) => {\n      if (node.key === id) {\n        foundNode = node;\n      } else if (node.children) {\n        const childNode = this.findNodeById(node.children, id);\n        if (childNode) {\n          foundNode = childNode;\n        }\n      }\n    });\n    return foundNode as TreeNode;\n  }\n\n\n}\n","<div class=\"row\">\n    <div class=\"col-sm-6 col-md-6 col-xm-4 col-lg-6\">\n        <p-panel header=\"Asset Classification\">\n            <ng-template pTemplate=\"icons\">\n                <button pButton (click)=\"onAdd()\" label=\"Add\" icon=\"pi pi-plus\"></button>\n            </ng-template>\n            <p-tree [loading]=\"loading\" [value]=\"nodes\" selectionMode=\"single\" [(selection)]=\"selectedFiles\" [filter]=\"true\"\n                (onNodeSelect)=\"nodeSelect($event)\" (onNodeExpand)=\"onNodeExpand($event)\" scrollHeight=\"72vh\">\n                <ng-template let-node pTemplate=\"url\">\n                    <a [href]=\"node.data\">{{node.label}}</a>\n                </ng-template>\n                <ng-template let-node pTemplate=\"default\">\n                    <b>{{node.label}}</b>\n                </ng-template>\n            </p-tree>\n        </p-panel>\n    </div>\n    <div class=\"col-sm-6 col-md-6 col-xm-4 col-lg-6\">\n        <app-add-asset-classification [hidden]=\"hideForm\" [isNew]=\"isNew\" (parentFun)=\"refresh($event)\"></app-add-asset-classification>\n    </div>\n</div>\n<p-toast key=\"save\" position=\"top-right\"></p-toast>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}